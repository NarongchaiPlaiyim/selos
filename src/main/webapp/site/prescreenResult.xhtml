<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>SE-LOS : Prescreen Result</title>
    <h:outputStylesheet name="css/style.css" />
    <!-- <script type="text/javascript" language="javascript" src="#{request.contextPath}/resources/js/jquery.numeric.js"/> -->
    <h:outputScript library="js" name="custom.js" />
</h:head>

<h:body>
<p:panel id="pnl_maincontainer" style="border:0; margin:0; padding: 0;">
    <h:form id="frmMain">
        <div id="main_container">
        <!-- Start Header Logo -->
        <ui:include src="include/header_logo.xhtml"/>
        <!-- End Header Logo -->
        <!-- Start Header Detail -->
        <ui:include src="include/header_detail.xhtml"/>
        <!-- End Header Detail -->
        <!-- Start Menu -->
        <ui:include src="include/menubar.xhtml"/>
        <!-- End Menu -->
        <div id="content_container">
            <div id="content_name"><h:outputText value="#{msg.get('app.prescreen.result.contentName')}"/></div>
            <div id="content">
                <div id="content_info">
                    <div id="content_trackchange">[ View Track Change ]</div>
                    <div id="content_lastupdate">Last update by <h:outputText value="#{prescreenResult.prescreenView.modifyBy.userName}"/>, <h:outputText value="#{prescreenResult.prescreenView.modifyDate}"><f:convertDateTime locale="th_TH" pattern="dd/MM/yyyy HH:mm:ss"/></h:outputText></div>
                </div>
                    <div id="content_form">
                        <p:panel styleClass="panel" id="interfaceInfoPanel">
                        <table class="content_table_form">
                        <tr>
                            <td class="title" style="min-width: 200px; width: 200px; max-width: 200px;"><h:outputText value="#{msg.get('app.prescreen.result.interfaceResult')}"/>
                            </td>
                            <td><p:commandButton id="btnRetrieveInterfaceInfo"
                                                 value="#{msg.get('app.prescreen.result.retrieveInterfaceInfo')}"
                                                 styleClass="largest"
                                                 process="@this"
                                                 actionListener="#{prescreenResult.onRetrieveInterfaceInfo}"
                                                 update="frmMain:interfaceInfoPanel, :msgBoxSystemMessageResultPanel">

                            </p:commandButton><p:spacer width="10" height="5"/><h:outputText styleClass="require-field" value="#{msg.get('app.prescreen.result.warning')}" rendered="#{prescreenResult.prescreenView.modifyFlag == 1}"/></td>
                        </tr>
                        <tr>
                            <td class="title"><h:outputText value="#{msg.get('app.prescreen.result.groupExposure')}"/></td>
                            <td><p:inputText title="msg.get('app.prescreen.result.groupExposure')" styleClass="medium right" readonly="true"
                                             value="#{prescreenResult.prescreenResultView.groupExposure}">
                                    <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2" />
                                </p:inputText><p:spacer width="5"/><h:outputText
                                    value="#{msg.get('app.moneyUnit.baht')}"/></td>
                        </tr>
                        <tr>
                            <td class="title"><h:outputText value="#{msg.get('app.prescreen.result.groupIncome')}"/></td>
                            <td><p:inputText title="msg.get('app.prescreen.result.groupIncome')" styleClass="medium right" readonly="true"
                                             value="#{prescreenResult.prescreenResultView.groupIncome}">
                                <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2" />
                                             </p:inputText><p:spacer width="5"/><h:outputText
                                    value="#{msg.get('app.moneyUnit.baht')}"/></td>
                        </tr>
                        <tr>
                            <td colspan="100%" style="line-height: 10px;"><p:spacer width="5px;"/></td>
                        </tr>
                        <tr>
                            <td colspan="100%"><p:separator/></td>
                        </tr>
                        <tr>
                            <td class="title" colspan="2"><h2><h:outputText value="#{msg.get('app.prescreen.result.existingCredit')}"/></h2>
                            </td>
                        </tr>
                        <tr>
                            <td class="title top"><h:outputText value="#{msg.get('app.prescreen.result.borrower')}"/></td>
                            <td>
                                <p:dataTable id="resultBorrowerCOMFacility" var="creditItem"
                                             value="#{prescreenResult.prescreenResultView.existingCreditFacilityView.borrowerExistingCreditPreScreen}"
                                             paginator="false" rowKey="#{creditItem.id}" rowIndexVar="rowIndex">
                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column colspan="7" headerText="#{msg.get('app.creditfact.table.header.commercial')}"/>
                                        </p:row>
                                        <p:row>
                                            <p:column headerText="" style="width: 30px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.account')}"
                                                      style="width: 250px; line-height: 15px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.productProgram')}" style="width: 150px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.creditType')}" style="width: 120px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.limit')}" style="width: 130px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.outstanding')}" style="width: 120px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.tenor')}" style="width:100px;"/>
                                        </p:row>
                                    </p:columnGroup>
                                    <p:column headerText="" styleClass="center" style="width:22px;">
                                        <h:outputText value="#{rowIndex+1}"/>
                                    </p:column>
                                    <p:column styleClass="left" style="width: 250px; line-height: 15px;">
                                        <h:outputText value="#{creditItem.accountName}"/><br/>
                                        <h:outputText value="#{msg.get('app.creditfact.table.account.no')}"/><h:outputText
                                            value="#{creditItem.accountNumber}"/><h:outputText
                                            value="#{msg.get('app.creditfact.table.account.suf')}"/><h:outputText
                                            value="#{creditItem.accountSuf}"/><br/>
                                        <h:outputText value="#{msg.get('app.creditfact.table.account.status')}"/><h:outputText
                                            value="#{creditItem.existAccountStatusView.code}"/> - <h:outputText value="#{creditItem.existAccountStatusView.description}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.productProgram')}" styleClass="center"
                                              style="width: 150px;">
                                        <!--<h:outputText value="#{creditItem.existProductProgram.name}"/>-->
                                        <h:outputText value="#{creditItem.existProductProgramView.name}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.creditType')}" styleClass="center"
                                              style="width: 120px;">
                                        <!--<h:outputText value="#{creditItem.existCreditType.name}"/>-->
                                        <h:outputText value="#{creditItem.existCreditTypeView.name}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.limit')}" styleClass="right" style="width: 130px;">
                                        <h:outputText value="#{creditItem.limit}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.outstanding')}" styleClass="right"
                                              style="width: 120px;">
                                        <h:outputText value="#{creditItem.outstanding}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.tenor')}" styleClass="right" style="width:100px;">
                                        <h:outputText value="#{creditItem.tenor}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;" styleClass="left"></p:column>
                                            <p:column colspan="3" style="background-color:#f4f8b6;text-align: left">
                                                <f:facet name="footer">
                                                    <h:outputText value="#{msg.get('app.creditfact.table.total')}">
                                                        <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <h:outputText
                                                            value="#{prescreenResult.prescreenResultView.existingCreditFacilityView.totalBorrowerLimitPreScreen}"
                                                            style="text-align: right">
                                                        <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="2" style="background-color:#f4f8b6; text-align:left;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="100%"><p:spacer width="5px;" style="line-height: 10px;"/></td>
                        </tr>
                        <tr>
                            <td class="title top"></td>
                            <td>
                                <p:dataTable id="resultBorrowerRLOSFacility" var="creditItem"
                                             value="#{prescreenResult.prescreenResultView.existingCreditFacilityView.borrowerAppInRLOSCredit}"
                                             paginator="false" rowKey="#{creditItem.id}" rowIndexVar="rowIndex">
                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column colspan="7" headerText="#{msg.get('app.creditfact.table.header.RLOS')}"/>
                                        </p:row>
                                        <p:row>
                                            <p:column headerText="" style="width: 30px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.account')}"
                                                      style="width: 250px; line-height: 15px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.productProgram')}" style="width: 150px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.creditType')}" style="width: 120px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.limit')}" style="width: 130px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.outstanding')}" style="width: 120px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.tenor')}" style="width:100px;"/>
                                        </p:row>
                                    </p:columnGroup>
                                    <p:column styleClass="center" style="width:22px;">
                                        <h:outputText value="#{rowIndex+1}"/>
                                    </p:column>
                                    <p:column styleClass="left" style="width: 250px; line-height: 15px;">
                                        <h:outputText value="#{creditItem.accountName}"/><br/>
                                        <h:outputText value="#{msg.get('app.creditfact.table.app.no')}"/><h:outputText
                                            value="#{creditItem.accountNumber}"/><br/>
                                        <h:outputText value="#{msg.get('app.creditfact.table.app.status')}"/><h:outputText
                                            value="#{creditItem.existAccountStatusView.code}"/> - <h:outputText value="#{creditItem.existAccountStatusView.description}"/>
                                    </p:column>
                                    <p:column styleClass="center" style="width: 150px;">
                                        <h:outputText value="#{creditItem.existProductProgramView.name}"/>
                                    </p:column>
                                    <p:column styleClass="center" style="width: 120px;">
                                        <h:outputText value="#{creditItem.existCreditTypeView.name}"/>
                                    </p:column>
                                    <p:column styleClass="right" style="width: 130px;">
                                        <h:outputText value="#{creditItem.limit}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="right" style="width: 120px;">
                                        <h:outputText value="#{creditItem.outstanding}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column styleClass="right" style="width:100px;">
                                        <h:outputText value="#{creditItem.tenor}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;" styleClass="left"></p:column>
                                            <p:column colspan="3" style="background-color:#f4f8b6;text-align: left">
                                                <f:facet name="footer">
                                                    <h:outputText value="#{msg.get('app.creditfact.table.total')}">
                                                        <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <h:outputText
                                                            value="#{prescreenResult.prescreenResultView.existingCreditFacilityView.totalBorrowerAppInRLOSLimit}"
                                                            style="text-align: right">
                                                        <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="2" style="background-color:#f4f8b6; text-align:left;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="100%" style="line-height: 10px;"><p:spacer width="5px;"/></td>
                        </tr>
                        <tr>
                            <td colspan="100%"><p:separator/></td>
                        </tr>
                        <tr>
                            <td colspan="100%" style="line-height: 10px;"><p:spacer width="5px;"/></td>
                        </tr>
                        <tr>
                            <td class="title top"><h:outputText value="#{msg.get('app.prescreen.result.related')}"/></td>
                            <td>
                                <p:dataTable id="resultRelatedCOMFacility" var="creditItem"
                                             value="#{prescreenResult.prescreenResultView.existingCreditFacilityView.relateExistingCreditPresScreen}"
                                             paginator="false" rowKey="#{creditItem.id}" rowIndexVar="rowIndex">
                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column colspan="7" headerText="#{msg.get('app.creditfact.table.header.commercial')}"/>
                                        </p:row>
                                        <p:row>
                                            <p:column headerText="" style="width: 30px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.account')}"
                                                      style="width: 250px; line-height: 15px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.productProgram')}" style="width: 150px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.creditType')}" style="width: 120px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.limit')}" style="width: 130px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.outstanding')}" style="width: 120px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.tenor')}" style="width:100px;"/>
                                        </p:row>
                                    </p:columnGroup>
                                    <p:column headerText="" styleClass="center" style="width:22px;">
                                        <h:outputText value="#{rowIndex+1}"/>
                                    </p:column>
                                    <p:column styleClass="left" style="width: 250px; line-height: 15px;">
                                        <h:outputText value="#{creditItem.accountName}"/><br/>
                                        <h:outputText value="#{msg.get('app.creditfact.table.account.no')}"/><h:outputText
                                            value="#{creditItem.accountNumber}"/><h:outputText
                                            value="#{msg.get('app.creditfact.table.account.suf')}"/><h:outputText
                                            value="#{creditItem.accountSuf}"/><br/>
                                        <h:outputText value="#{msg.get('app.creditfact.table.account.status')}"/><h:outputText
                                            value="#{creditItem.existAccountStatusView.code}"/> - <h:outputText value="#{creditItem.existAccountStatusView.description}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.productProgram')}" styleClass="center"
                                              style="width: 150px;">
                                        <h:outputText value="#{creditItem.existProductProgramView.name}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.creditType')}" styleClass="center"
                                              style="width: 120px;">
                                        <h:outputText value="#{creditItem.existCreditTypeView.name}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.limit')}" styleClass="right" style="width: 130px;">
                                        <h:outputText value="#{creditItem.limit}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.outstanding')}" styleClass="right"
                                              style="width: 120px;">
                                        <h:outputText value="#{creditItem.outstanding}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.tenor')}" styleClass="right" style="width:100px;">
                                        <h:outputText value="#{creditItem.tenor}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;" styleClass="left"></p:column>
                                            <p:column colspan="3" style="background-color:#f4f8b6;text-align: left">
                                                <f:facet name="footer">
                                                    <h:outputText value="#{msg.get('app.creditfact.table.total')}">
                                                        <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <h:outputText
                                                            value="#{prescreenResult.prescreenResultView.existingCreditFacilityView.totalRelatedLimitPreScreen}"
                                                            style="text-align: right">
                                                        <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="2" style="background-color:#f4f8b6; text-align:left;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="100%" style="line-height: 10px;"><p:spacer width="5"/></td>
                        </tr>
                        <tr>
                            <td class="title top"></td>
                            <td>
                                <p:dataTable id="resultRelatedRLOSFacility" var="creditItem"
                                             value="#{prescreenResult.prescreenResultView.existingCreditFacilityView.relatedAppInRLOSCredit}"
                                             paginator="false" rowKey="#{creditItem.id}" rowIndexVar="rowIndex">
                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column colspan="7" headerText="#{msg.get('app.creditfact.table.header.RLOS')}"/>
                                        </p:row>
                                        <p:row>
                                            <p:column headerText="" style="width: 30px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.account')}"
                                                      style="width: 250px; line-height: 15px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.productProgram')}" style="width: 150px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.creditType')}" style="width: 120px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.limit')}" style="width: 130px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.outstanding')}" style="width: 120px;"/>
                                            <p:column headerText="#{msg.get('app.creditfact.table.tenor')}" style="width:100px;"/>
                                        </p:row>
                                    </p:columnGroup>
                                    <p:column headerText="" styleClass="center" style="width:22px;">
                                        <h:outputText value="#{rowIndex+1}"/>
                                    </p:column>
                                    <p:column styleClass="left" style="width: 250px; line-height: 15px;">
                                        <h:outputText value="#{creditItem.accountName}"/><br/>
                                        <h:outputText value="#{msg.get('app.creditfact.table.app.no')}"/><h:outputText
                                            value="#{creditItem.accountNumber}"/><br/>
                                        <h:outputText value="#{msg.get('app.creditfact.table.app.status')}"/><h:outputText
                                            value="#{creditItem.existAccountStatusView.code}"/> - <h:outputText value="#{creditItem.existAccountStatusView.description}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.productProgram')}" styleClass="center"
                                              style="width: 150px;">
                                        <h:outputText value="#{creditItem.existProductProgramView.name}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.creditType')}" styleClass="center"
                                              style="width: 120px;">
                                        <h:outputText value="#{creditItem.existCreditTypeView.name}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.limit')}" styleClass="right" style="width: 130px;">
                                        <h:outputText value="#{creditItem.limit}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.outstanding')}" styleClass="right"
                                              style="width: 120px;">
                                        <h:outputText value="#{creditItem.outstanding}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.tenor')}" styleClass="right" style="width:100px;">
                                        <h:outputText value="#{creditItem.tenor}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0"/>
                                        </h:outputText>
                                    </p:column>
                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;" styleClass="left"></p:column>
                                            <p:column colspan="3" style="background-color:#f4f8b6;text-align: left">
                                                <f:facet name="footer">
                                                    <h:outputText value="#{msg.get('app.creditfact.table.total')}">
                                                        <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <h:outputText
                                                            value="#{prescreenResult.prescreenResultView.existingCreditFacilityView.totalRelatedAppInRLOSLimit}"
                                                            style="text-align: right">
                                                        <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="2" style="background-color:#f4f8b6; text-align:left;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        </table>
                        </p:panel>
                        <p:panel styleClass="panel" id="prescreenResultPanel" rendered="#{prescreenResult.prescreenResultView != null and prescreenResult.prescreenResultView.uwRuleResultSummaryView != null}">
                            <table class="content_table_form">
                                <tr>
                                    <td colspan="100%" style="line-height: 10px;"><p:spacer width="5px;"/></td>
                                </tr>
                                <tr>
                                    <td colspan="100%"><p:separator/></td>
                                </tr>
                                <tr>
                                    <td colspan="100%"><h2>Prescreen Result</h2></td>
                                </tr>
                                <tr>
                                    <td style="width: 200px;" class="title">Final Application Result:</td>
                                    <td class="left"><span style="height:30px; line-height: 30px; width: 200px;" class="result #{prescreenResult.prescreenResultView.uwRuleResultSummaryView.uwResultColor.resultClass}">#{prescreenResult.prescreenResultView.uwRuleResultSummaryView.uwResultColor}</span></td>
                                </tr>
                                <tr>
                                    <td  class="title top">Group Result:</td>
                                    <td class="top">
                                        <p:dataTable id="prescreenGroupResult" var="groupResultEntry"
                                                     value="#{prescreenResult.prescreenResultView.groupResultsList}"
                                                     paginator="false" rowKey="#{groupResultEntry.id}" rowIndexVar="rowIndex" styleClass="hide-column-names">
                                            <p:column styleClass="center" style="width:22px;">
                                                <h:outputText value="#{rowIndex+1}"/>
                                            </p:column>
                                            <p:column style="width: 300px;">
                                                <h:outputText value="#{groupResultEntry.value.uwRuleNameView.name}"/>
                                            </p:column>
                                            <p:column style="width: 100px;" styleClass="#{groupResultEntry.value.ruleColorResult.resultClass} center">
                                                <h:outputText value="#{groupResultEntry.value.ruleColorResult}"/>
                                            </p:column>
                                        </p:dataTable>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="100%" style="line-height: 10px;"><p:spacer width="5px;"/></td>
                                </tr>
                                <tr>
                                    <td  class="title top">Customer Result:</td>
                                    <td class="top">
                                        <div class="ui-datatable ui-widget">
                                            <div class="ui-datatable-tablewrapper">
                                                <table style="width: 100%">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="2">Group</th>
                                                            <th rowspan="2">Rules Name</th>
                                                            <ui:repeat value="#{prescreenResult.prescreenResultView.numberOfCusRelation}"
                                                                       var="numberOfCusRelationEntry" varStatus="i">
                                                                <th colspan="#{numberOfCusRelationEntry.value}">#{numberOfCusRelationEntry.key}</th>
                                                            </ui:repeat>
                                                        </tr>
                                                        <tr>
                                                            <ui:repeat value="#{prescreenResult.prescreenResultView.customerInfoSimpleViewMap}"
                                                                       var="customerInfoSimpleViewEntry" varStatus="i">
                                                                <th><h:outputText value="#{customerInfoSimpleViewEntry.value.customerName}"/></th>
                                                            </ui:repeat>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="ui-datatable-data ui-widget-content">
                                                        <ui:repeat value="#{prescreenResult.prescreenResultView.prescreenCusRulesGroupViewMapList}"
                                                               var="cusRuleGroupViewEntry" varStatus="groupId">
                                                            <ui:repeat value="#{cusRuleGroupViewEntry.value.cusRuleNameViewMapList}"
                                                                       var="cusRuleNameViewEntry" varStatus="ruleNameStatus">
                                                            <tr>
                                                                <ui:fragment rendered="#{cusRuleGroupViewEntry.value.count == 0}">
                                                                    <th class="ui-datatable-header" rowspan="#{cusRuleGroupViewEntry.value.numberOfRuleName}">
                                                                        <h:outputText value="#{cusRuleGroupViewEntry.value.uwRuleGroupView.name}"/>
                                                                    </th>
                                                                </ui:fragment>
                                                                <td><h:outputText value="#{cusRuleNameViewEntry.value.uwRuleNameView.name}"/></td>
                                                                <ui:repeat value="#{prescreenResult.prescreenResultView.customerInfoSimpleViewMap}"
                                                                           var="cusInfoEntry" varStatus="cusStatus">
                                                                    <ui:param name="uwRuleResult" value="#{cusRuleNameViewEntry.value.getUWRuleDetailView(cusInfoEntry.value.citizenId)}"/>
                                                                    <td class="#{not empty cusRuleNameViewEntry.value.getUWRuleDetailView(cusInfoEntry.value.citizenId)? cusRuleNameViewEntry.value.getUWRuleDetailView(cusInfoEntry.value.citizenId).ruleColorResult.resultClass:''} center">
                                                                        <h:outputText value="#{(not empty cusRuleNameViewEntry.value.getUWRuleDetailView(cusInfoEntry.value.citizenId))?
                                                                        cusRuleNameViewEntry.value.getUWRuleDetailView(cusInfoEntry.value.citizenId).ruleColorResult:'-'}"/></td>
                                                                </ui:repeat>
                                                            </tr>
                                                            </ui:repeat>
                                                        </ui:repeat>
                                                        
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </p:panel>
                        <p:panel styleClass="panel" id="footerPaner">
                            <table class="content_table_form">
                                <tr>
                                    <td colspan="100%" style="line-height: 10px;"><p:spacer width="5px;"/></td>
                                </tr>
                                <tr>
                                    <td colspan="100%"><p:separator/></td>
                                </tr>
                                <tr>
                                    <td colspan="100%" style="line-height: 10px;"><p:spacer width="5px;"/></td>
                                </tr>
                                <tr>
                                    <td colspan="2" class="center">
                                        <p:commandButton id="btnSave"
                                                         value="#{msg.get('app.button.save')}"
                                                         action="#{prescreenResult.onSave()}"
                                                         update=":frmMain :msgBoxSystemMessageResultPanel"
                                                         styleClass="medium"/>
                                    </td>
                                </tr>
                            </table>
                        </p:panel>
                    </div>
                </div>
            <div id="bottom_line"><!-- --></div>
        </div>
        <div class="clear"></div>
        <!-- Start Footer -->
        <ui:include src="include/footer.xhtml"/>
        <!-- End Footer -->
        <h:inputHidden id="pagename" value="mnuprescreen"/>
        <h:inputHidden id="subpagename" value="submnuprescreen"/>
    </div>
        <p:blockUI block=":frmMain" trigger="btnSave">
            LOADING<br />
            <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
        </p:blockUI>
</h:form>
</p:panel>
<p:panel id="msgBoxSystemMessageResultPanel" styleClass="panel">
    <p:confirmDialog id="msgBoxSystemMessageResultDialog" widgetVar="msgBoxSystemMessageResultDlg" styleClass="messageDialog"
                     header="#{prescreenResult.messageHeader}">
        <f:facet name="message">
            <h:outputText value="#{prescreenResult.message}" escape="false"/>
        </f:facet>
        <p:commandButton value="OK"
                         process="@this"
                         update=":frmMain"
                         oncomplete="msgBoxSystemMessageResultDlg.hide()"/>
    </p:confirmDialog>
</p:panel>
<p:panel id="msgBoxSystemMessagePanel" styleClass="panel">
    <p:confirmDialog id="msgBoxSystemMessageDialog" widgetVar="msgBoxSystemMessageDlg" styleClass="messageDialog"
                     header="#{prescreenMaker.messageHeader}">
        <f:facet name="message">
            <h:outputText value="#{prescreenMaker.message}" escape="false"/>
        </f:facet>
        <p:commandButton value="OK"
                         process="@this"
                         update=":frmMain"
                         oncomplete="msgBoxSystemMessageDlg.hide()"/>
    </p:confirmDialog>
</p:panel>
<p:panel id="msgBoxRedirectPanel" styleClass="panel">
    <p:confirmDialog id="msgBoxRedirectDialog" widgetVar="msgBoxRedirectDlg" styleClass="messageDialog"
                     header="#{prescreenMaker.messageHeader}">
        <f:facet name="message">
            <h:outputText value="#{prescreenMaker.message}" escape="false"/>
        </f:facet>
        <p:commandButton value="OK"
                         action="#{headerController.onGoToInbox}"
                         process="@this"
                         update=":frmMain"
                         oncomplete="msgBoxRedirectDlg.hide()"/>
    </p:confirmDialog>
</p:panel>
<p:blockUI widgetVar="blockInbox" block=":frmMain" trigger="frmMain:btnRetrieveInterfaceInfo">
    LOADING<br/>
    <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
</p:blockUI>

</h:body>
</f:view>
</html>