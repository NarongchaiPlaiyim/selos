<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>SE-LOS : Prescreen Result</title>
        <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/style.css"/>
        <script type="text/javascript" language="javascript" src="#{request.contextPath}/resources/js/jquery.numeric.js"/>
        <script type="text/javascript" language="javascript" src="#{request.contextPath}/resources/js/custom.js"/>
    </h:head>

<h:body>
    <p:panel id="pnl_maincontainer" style="border:0; margin:0; padding: 0;">
    <h:form id="frmMain">
        <div id="main_container">
        <!-- Start Header Logo -->
        <ui:include src="include/header_logo.xhtml" />
        <!-- End Header Logo -->
        <!-- Start Header Detail -->
        <ui:include src="include/header_detail.xhtml" />
        <!-- End Header Detail -->
        <!-- Start Menu -->
        <ui:include src="include/menubar.xhtml" />
        <!-- End Menu -->
        <div id="content_container">
            <div id="content_name"><h:outputText value="#{msg.get('app.prescreen.result.contentName')}"/></div>
            <div id="content">
                <div id="content_info">
                    <div id="content_trackchange">[ View Track Change ]</div>
                    <div id="content_lastupdate">Last update by </div>
                </div>
                <div id="content_form">
                    <table class="content_table_form">
                        <tr>
                            <td class="title" style="width: 200px;"><h:outputText value="#{msg.get('app.prescreen.result.interfaceResult')}"/></td>
                            <td><p:commandButton id="btnRetrieveInterfaceInfo"
                                                 value="#{msg.get('app.prescreen.result.retrieveInterfaceInfo')}"
                                                 styleClass="largest"
                                                 process="@this"
                                                 actionListener="#{prescreenResult.onRetrieveInterfaceInfo}"
                                                 update="frmMain:resultBorrowerTableFacility,frmMain:resultBorrowerRLOSFacility, frmMain:resultRelatedTableFacility">

                            </p:commandButton></td>
                        </tr>
                        <tr>
                            <td class="title"><h:outputText value="#{msg.get('app.prescreen.result.groupExposure')}"/></td>
                            <td><p:inputText title="msg.get('app.prescreen.result.groupExposure')" styleClass="medium" value="#{prescreenResult.prescreenResultView.groupExposure}"/><p:spacer width="5"/><h:outputText value="#{msg.get('app.moneyUnit.baht')}"/></td>
                        </tr>
                        <tr>
                            <td class="title"><h:outputText value="#{msg.get('app.prescreen.result.groupIncome')}"/></td>
                            <td><p:inputText title="msg.get('app.prescreen.result.groupIncome')" styleClass="medium" value="#{prescreenResult.prescreenResultView.groupIncome}"/><p:spacer width="5"/><h:outputText value="#{msg.get('app.moneyUnit.baht')}"/></td>
                        </tr>
                        <tr>
                            <td class="title" colspan="2"><h:outputText value="#{msg.get('app.prescreen.result.existingCredit')}"/></td>
                        </tr>
                        <tr>
                            <td class="title top"><h:outputText value="#{msg.get('app.prescreen.result.borrower')}"/></td>
                            <td>
                                <p:dataTable id="resultBorrowerTableFacility" var="creditItem" value="#{prescreenResult.prescreenResultView.existingCreditView.borrowerComExistingCredit}"
                                             paginator="false" rowKey="#{creditItem.id}" rowIndexVar="rowIndex">
                                    <f:facet name="header"></f:facet>
                                    <p:column headerText="" styleClass="center" style="width:22px;">
                                        <h:outputText value="#{rowIndex+1}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.account')}" styleClass="left" style="width: 250px; line-height: 15px;">
                                        <h:outputText value="#{creditItem.accountName}"/><br/>
                                        Acc No.: <h:outputText value="#{creditItem.accountNumber}"/> Suf.<h:outputText value="#{creditItem.accountSuf}"/><br/>
                                        Acc Status: <h:outputText value="#{creditItem.accountStatusID}"/> - <h:outputText value="#{creditItem.accountStatus}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.productProgram')}" styleClass="center" style="width: 150px;">
                                        <h:outputText value="#{creditItem.productProgram}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.creditType')}" styleClass="center" style="width: 120px;">
                                        <h:outputText value="#{creditItem.creditType}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.limit')}" styleClass="right" style="width: 130px;">
                                        <h:outputText value="#{creditItem.limit}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2" />
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.outstanding')}" styleClass="right" style="width: 120px;">
                                        <h:outputText value="#{creditItem.outstanding}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2" />
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.tenor')}" styleClass="right" style="width:100px;">
                                        <h:outputText value="#{creditItem.tenor}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0" />
                                        </h:outputText>
                                    </p:column>

                                    <p:columnGroup type="footer" rendered="#{prescreenResult.prescreenResultView != null and prescreenResult.prescreenResultView.existingCreditView != null}">
                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;" styleClass="left"></p:column>
                                            <p:column colspan="3" footerText="#{msg.get('app.creditfact.table.total')}"
                                                      style="background-color:#f4f8b6;text-align: left"/>
                                            <p:column style="background-color:#f4f8b6;" styleClass="right" footerText="#{prescreenResult.prescreenResultView.existingCreditView.totalBorrowerComLimit}"/>
                                            <p:column colspan="2" style="background-color:#f4f8b6; text-align:left;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="100%"><p:spacer width="5px;"/></td>
                        </tr>
                        <tr>
                            <td class="title top"><h:outputText value="#{msg.get('app.prescreen.result.borrower')}"/></td>
                            <td>
                                <p:dataTable id="resultBorrowerRLOSFacility" var="creditItem" value="#{prescreenResult.prescreenResultView.existingCreditView.borrowerAppInRLOSCredit}"
                                             paginator="false" rowKey="#{creditItem.id}" rowIndexVar="rowIndex">
                                    <f:facet name="header"></f:facet>
                                    <p:column headerText="" styleClass="center" style="width:22px;">
                                        <h:outputText value="#{rowIndex+1}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.account')}" styleClass="left" style="width: 250px; line-height: 15px;">
                                        <h:outputText value="#{creditItem.accountName}"/><br/>
                                        Acc No.: <h:outputText value="#{creditItem.accountNumber}"/> Suf.<h:outputText value="#{creditItem.accountSuf}"/><br/>
                                        Acc Status: <h:outputText value="#{creditItem.accountStatusID}"/> - <h:outputText value="#{creditItem.accountStatus}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.productProgram')}" styleClass="center" style="width: 150px;">
                                        <h:outputText value="#{creditItem.productProgram}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.creditType')}" styleClass="center" style="width: 120px;">
                                        <h:outputText value="#{creditItem.creditType}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.limit')}" styleClass="right" style="width: 130px;">
                                        <h:outputText value="#{creditItem.limit}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2" />
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.outstanding')}" styleClass="right" style="width: 120px;">
                                        <h:outputText value="#{creditItem.outstanding}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2" />
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.tenor')}" styleClass="right" style="width:100px;">
                                        <h:outputText value="#{creditItem.tenor}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0" />
                                        </h:outputText>
                                    </p:column>

                                    <p:columnGroup type="footer" rendered="#{prescreenResult.prescreenResultView != null and prescreenResult.prescreenResultView.existingCreditView != null}">
                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;" styleClass="left"></p:column>
                                            <p:column colspan="3" footerText="#{msg.get('app.creditfact.table.total')}"
                                                      style="background-color:#f4f8b6;text-align: left"/>
                                            <p:column style="background-color:#f4f8b6;" styleClass="right" footerText="#{prescreenResult.prescreenResultView.existingCreditView.totalBorrowerAppInRLOSLimit}"/>
                                            <p:column colspan="2" style="background-color:#f4f8b6; text-align:left;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="100%"><p:spacer width="5px;"/></td>
                        </tr>
                        <tr>
                            <td class="title top"><h:outputText value="#{msg.get('app.prescreen.result.related')}"/></td>
                            <td>
                                <p:dataTable id="resultRelatedTableFacility" var="creditItem" value="#{prescreenResult.prescreenResultView.existingCreditView.relatedComExistingCredit}"
                                             paginator="false" rowKey="#{creditItem.id}" rowIndexVar="rowIndex">
                                    <p:column headerText="" styleClass="center" style="width:22px;">
                                        <h:outputText value="#{rowIndex+1}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.account')}" styleClass="left" style="width: 250px; line-height: 15px;">
                                        <h:outputText value="#{creditItem.accountName}"/><br/>
                                        Acc No.: <h:outputText value="#{creditItem.accountNumber}"/> Suf.<h:outputText value="#{creditItem.accountSuf}"/><br/>
                                        Acc Status: <h:outputText value="#{creditItem.accountStatusID}"/> - <h:outputText value="#{creditItem.accountStatus}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.productProgram')}" styleClass="center" style="width: 150px;">
                                        <h:outputText value="#{creditItem.productProgram}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.creditType')}" styleClass="center" style="width: 120px;">
                                        <h:outputText value="#{creditItem.creditType}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.limit')}" styleClass="right" style="width: 130px;">
                                        <h:outputText value="#{creditItem.limit}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2" />
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.outstanding')}" styleClass="right" style="width: 120px;">
                                        <h:outputText value="#{creditItem.outstanding}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2" />
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.creditfact.table.tenor')}" styleClass="right" style="width:100px;">
                                        <h:outputText value="#{creditItem.tenor}">
                                            <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0" />
                                        </h:outputText>
                                    </p:column>

                                    <p:columnGroup type="footer" rendered="#{prescreenResult.prescreenResultView != null and prescreenResult.prescreenResultView.existingCreditView != null}">
                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;" styleClass="left"></p:column>
                                            <p:column colspan="3" footerText="#{msg.get('app.creditfact.table.total')}"
                                                      style="background-color:#f4f8b6;text-align: left"/>
                                            <p:column style="background-color:#f4f8b6;" styleClass="right" footerText="#{prescreenResult.prescreenResultView.existingCreditView.totalBorrowerComLimit}"/>
                                            <p:column colspan="2" style="background-color:#f4f8b6; text-align:left;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div id="bottom_line"><!-- --></div>
        </div>
        <div class="clear"></div>
        <!-- Start Footer -->
        <ui:include src="include/footer.xhtml" />
        <!-- End Footer -->
        <h:inputHidden id="pagename" value="mnuprescreen"/>
        <h:inputHidden id="subpagename" value="submnuprescreen"/>

        </div>
    </h:form>
    </p:panel>
    <p:panel id="msgBoxSystemMessagePanel" styleClass="panel">
        <p:confirmDialog id="msgBoxSystemMessageDialog" widgetVar="msgBoxSystemMessageDlg"
                         header="" message="" >

        </p:confirmDialog>
    </p:panel>
    <p:blockUI widgetVar="blockInbox" block=":frmMain" trigger="frmMain:btnRetrieveInterfaceInfo">
        LOADING<br />
        <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
    </p:blockUI>

</h:body>
</f:view>
</html>