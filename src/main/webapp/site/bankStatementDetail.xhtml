<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:clv="http://clevel.com/ui">

<h:head>
    <title>SE-LOS : Bank Statement Detail</title>
    <h:outputStylesheet name="css/style.css" />
    <!--<script type="text/javascript" language="javascript" src="#{request.contextPath}/resources/js/jquery.numeric.js"></script>-->
    <h:outputScript library="js" name="custom.js" />
    <h:outputScript library="js" name="jquery.ui.datepicker.min.js" />
    <style type="text/css">
        .ui-datatable thead th {
            white-space: normal !important;
        }
        .ui-datatable tbody td {
            border-color: #868686 !important;
        }
        .calendar_right input {
            background: #ffffff !important;
            border: 1px solid #868686 !important;
        }
        /*.ui-chkbox-box {*/
            /*margin-bottom: -10px;*/
        /*}*/
        /*.ui-chkbox-box.ui-widget.ui-corner-all.ui-state-default.ui-state-active {*/
            /*margin-top: -18px;*/
        /*}*/
    </style>
</h:head>

<h:body>
    <f:event type="preRenderView" listener="#{bankStatementDetail.preRender()}" />
    <p:panel id="pnl_maincontainer" style="border:0; margin:0; padding: 0;">
        <h:form id="frmMain">
            <div id="main_container">
            <!-- Start Header Logo -->
            <ui:include src="include/header_logo.xhtml"/>
            <!-- End Header Logo -->
            <!-- Start Header Detail -->
            <ui:include src="include/header_detail.xhtml"/>
            <!-- End Header Detail -->
            <!-- Start Menu -->
            <ui:include src="include/menubar.xhtml"/>
            <!-- End Menu -->
            <div id="content_container">
                <div id="content_name">#{msg.get('app.bankStmtDetail.header')}</div>
                <div id="content">
                <div id="content_info">
                    <div id="content_trackchange" title="Click to view Track Change">[ View Track Change ]</div>
                    <div id="content_lastupdate">Last update by <h:outputText id="lastupdateName" value="MR.BDM Maker"/>, <h:outputText
                            id="lastupdateTime" value="18/08/2556 11:11:01"/></div>
                </div>
                <div id="content_form">
                <!-- start content -->
                <table class="content_table_form">
                    <tr>
                        <td class="title" style="min-width: 170px; width: 170px; max-width: 170px;">
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.countIncome')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('isNotCountIncome')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left" style="#{bankStatementDetail.numberOfMonths > 6 ? 'min-width: 1150px; width: 1150px; max-width: 1150px;' : ''}">
                            <table border="0">
                                <tr>
                                    <td style="border-style: none !important;">
                                        <p:selectBooleanCheckbox id="countIncome"
                                                                 value="#{bankStatementDetail.bankStmtView.notCountIncome}"
                                                                 disabled="#{bankStatementDetail.isDisabled('isNotCountIncome')}"/>
                                    </td>
                                    <td style="border-style: none !important; padding-left: 5px;">
                                        <h:outputText value="#{msg.get('app.bankStmtDetail.checkbox.isNotCountIncome')}"/>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.bankName')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('bankName')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:selectOneMenu value="#{bankStatementDetail.bankStmtView.bankView.code}"
                                             required="#{not empty param[saveButton.clientId]}"
                                             disabled="#{bankStatementDetail.isDisabled('bankName')}">
                                <f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                                <f:selectItems value="#{bankStatementDetail.bankViewList}" var="bank"
                                               itemLabel="#{bank.bankName}" itemValue="#{bank.code}"/>
                            </p:selectOneMenu>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.branchName')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('branchName')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText value="#{bankStatementDetail.bankStmtView.branchName}"
                                         required="#{not empty param[saveButton.clientId]}"
                                         styleClass="large"
                                         readonly="#{bankStatementDetail.isDisabled('branchName')}"/>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.accountType')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('accountType')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <table border="0" style="float:left; border-collapse:separate; border-spacing:0;">
                                <tr>
                                    <td>
                                        <p:selectOneMenu id="bankAccountTypeSelect"
                                                         value="#{bankStatementDetail.bankStmtView.bankAccountTypeId}"
                                                         style="width:160px;"
                                                         required="#{bankStatementDetail.bankAccTypeSelectRequired}"
                                                         disabled="#{bankStatementDetail.isDisabled('accountType')}">
                                            <f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue="0"/>
                                            <f:selectItems value="#{bankStatementDetail.bankAccTypeViewList}" var="bankAccType"
                                                           itemLabel="#{bankAccType.name}" itemValue="#{bankAccType.id}"/>
                                            <p:ajax event="change" listener="#{bankStatementDetail.onChangeBankAccTypeSelected()}"
                                                    process="@this" update=":frmMain:otherAccountTypeSelect"/>
                                        </p:selectOneMenu>
                                    </td>
                                    <td>
                                        <p:spacer width="50" height="0"/>
                                        <h:outputText value="#{msg.get('app.bankStmtDetail.label.otherType')}" styleClass="title"/>
                                        <h:outputText value="#{bankStatementDetail.mandate('otherType')}" styleClass="require-field"/>
                                        <h:outputText value=" :"/>
                                        <p:spacer width="50" height="0"/>
                                    </td>
                                    <td>
                                        <p:selectOneMenu id="otherAccountTypeSelect"
                                                         value="#{bankStatementDetail.bankStmtView.otherAccountType}"
                                                         style="width:160px;"
                                                         required="#{bankStatementDetail.bankAccTypeSelectRequired}"
                                                         disabled="#{bankStatementDetail.isDisabled('otherType')}">
                                            <f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue="0"/>
                                            <f:selectItems value="#{bankStatementDetail.othBankAccTypeViewList}" var="othBankAccType"
                                                           itemLabel="#{othBankAccType.name}" itemValue="#{othBankAccType.id}"/>
                                            <p:ajax event="change" listener="#{bankStatementDetail.onChangeOthAccTypeSelected()}"
                                                    process="@this" update=":frmMain:bankAccountTypeSelect"/>
                                        </p:selectOneMenu>
                                    </td>
                                </tr>
                            </table>

                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.accountNumber')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('accountNumber')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputMask value="#{bankStatementDetail.bankStmtView.accountNumber}"
                                         mask="999-9-99999-9"
                                         styleClass="large"
                                         readonly="#{bankStatementDetail.isDisabled('accountNumber')}"/>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.accountName')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('accountName')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText value="#{bankStatementDetail.bankStmtView.accountName}"
                                         required="#{not empty param[saveButton.clientId]}"
                                         styleClass="large"
                                         readonly="#{bankStatementDetail.isDisabled('accountName')}"/>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.accountStatus')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('accountStatus')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:selectOneMenu value="#{bankStatementDetail.bankStmtView.accountStatusView.id}"
                                             required="#{not empty param[saveButton.clientId]}"
                                             disabled="#{bankStatementDetail.isDisabled('accountStatus')}">
                                <f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                                <f:selectItems value="#{bankStatementDetail.accStatusViewList}" var="accStatus"
                                               itemLabel="#{accStatus.status}" itemValue="#{accStatus.id}"/>
                            </p:selectOneMenu>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.accountCharacteristic')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('accountCharacteristic')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:selectOneRadio value="#{bankStatementDetail.bankStmtView.accountCharacteristic}"
                                              required="#{not empty param[saveButton.clientId]}"
                                              disabled="#{bankStatementDetail.isDisabled('accountCharacteristic')}">
                                <f:selectItem itemLabel="#{msg.get('app.bankStmtDetail.radio.borrowersAccount')}" itemValue="1"/>
                                <f:selectItem itemLabel="#{msg.get('app.bankStmtDetail.radio.mainDirectorAccount')}" itemValue="2"/>
                                <f:selectItem itemLabel="#{msg.get('app.bankStmtDetail.radio.confederateAccount')}" itemValue="3"/>
                            </p:selectOneRadio>
                        </td>
                    </tr>

                    <tr>
                        <td class="left" colspan="2">

                            <table border="0">
                            <tr>
                                <td class="right">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.bahtUnit')}"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="left">
                                    <!-- Bank statement detail Table -->
                                    <div class="ui-datatable ui-widget">
                                        <div class="ui-datatable-tablewrapper">
                                            <table style="width: 100%">
                                                <thead>
                                                    <tr>
                                                        <th class="ui-state-default"></th>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item">
                                                            <th class="ui-state-default">
                                                                <h:outputText value="#{item.asOfDate}">
                                                                    <f:convertDateTime pattern="MMM yyyy" locale="th_TH"/>
                                                                </h:outputText>
                                                            </th>
                                                        </ui:repeat>
                                                    </tr>
                                                </thead>

                                                <tbody class="ui-datatable-data ui-widget-content" style="background:none;">
                                                    <tr>
                                                        <td class="left" style="background:none;">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.overLimitAmount')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('overLimitAmount')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.overLimitAmount}"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('overLimitAmount')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.grossCreditBalance')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('grossCreditBalance')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.grossCreditBalance}"
                                                                             maxlength="18"
                                                                             onclick="this.select();"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('grossCreditBalance')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.numberOfCreditTxn')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('numberOfCreditTxn')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.numberOfCreditTxn}"
                                                                             maxlength="9"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('numberOfCreditTxn')}">
                                                                    <f:convertNumber pattern="#,##0" integerOnly="true" maxIntegerDigits="10"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="#{bankStatementDetail.numberOfMonths + 1}" class="cell_spacer"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.excludeListBDM')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('excludeListBDM')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.excludeListBDM}"
                                                                             maxlength="18"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('excludeListBDM')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.excludeListUW')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('excludeListUW')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.excludeListUW}"
                                                                             maxlength="18"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('excludeListUW')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.creditAmountBDM')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('creditAmountBDM')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.creditAmountBDM}"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('creditAmountBDM')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.creditAmountUW')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('creditAmountUW')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.creditAmountUW}"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('creditAmountUW')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.timesOfAvgCreditBDM')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('timesOfAverageCreditBDM')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.timesOfAvgCreditBDM}"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('timesOfAverageCreditBDM')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.timesOfAvgCreditUW')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('timesOfAverageCreditUW')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.timesOfAvgCreditUW}"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('timesOfAverageCreditUW')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="#{bankStatementDetail.numberOfMonths + 1}" class="cell_spacer"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.debitAmount')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('debitAmount')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.debitAmount}"
                                                                             maxlength="18"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('debitAmount')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.numberOfDebitTxn')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('numberOfDebitTxn')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.numberOfDebitTxn}"
                                                                             maxlength="9"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('numberOfDebitTxn')}">
                                                                    <f:convertNumber pattern="#,##0" integerOnly="true" maxIntegerDigits="10"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="#{bankStatementDetail.numberOfMonths + 1}" class="cell_spacer"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.dateOfMaxBalance')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('dateOfMaxBalance')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <clv:BECalendar showOn="focus" showButtonPanel="true" navigator="true"
                                                                                yearRange="1950:2100"
                                                                                pattern="dd/MM/yyyy"
                                                                                value="#{item.dateOfMaxBalance}"
                                                                                locale="th_TH"
                                                                                readonlyInput="true"
                                                                                styleClass="calendar_right"
                                                                                disabled="#{bankStatementDetail.isDisabled('dateOfMaxBalance')}">
                                                                </clv:BECalendar>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.maxBalance')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('maxBalance')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.maxBalance}"
                                                                             maxlength="18"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownNegMoney(event);"
                                                                             onkeypress="return onKeyPressNegMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('maxBalance')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.dateOfMinBalance')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('dateOfMinBalance')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <clv:BECalendar showOn="focus" showButtonPanel="true" navigator="true"
                                                                                yearRange="1950:2100"
                                                                                pattern="dd/MM/yyyy"
                                                                                value="#{item.dateOfMinBalance}"
                                                                                locale="th_TH"
                                                                                readonlyInput="true"
                                                                                styleClass="calendar_right"
                                                                                disabled="#{bankStatementDetail.isDisabled('dateOfMinBalance')}">
                                                                </clv:BECalendar>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.minBalance')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('minBalance')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.minBalance}"
                                                                             maxlength="18"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownNegMoney(event);"
                                                                             onkeypress="return onKeyPressNegMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('minBalance')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.monthBalance')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('monthBalance')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.monthBalance}"
                                                                             maxlength="18"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownNegMoney(event);"
                                                                             onkeypress="return onKeyPressNegMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('monthBalance')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="#{bankStatementDetail.numberOfMonths + 1}" class="cell_spacer"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.numberOfChequeReturn')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('numberOfChequeReturn')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.numberOfChequeReturn}"
                                                                             maxlength="9"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('numberOfChequeReturn')}">
                                                                    <f:convertNumber pattern="#,##0" integerOnly="true" maxIntegerDigits="10"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.chequeReturnAmount')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('chequeReturnAmount')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.chequeReturnAmount}"
                                                                             maxlength="18"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('chequeReturnAmount')}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.overLimitTimes')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('overLimitTimes')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.overLimitTimes}"
                                                                             maxlength="9"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('overLimitTimes')}">
                                                                    <f:convertNumber pattern="#,##0" integerOnly="true" maxIntegerDigits="10"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.overLimitDays')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('overLimitDays')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.overLimitDays}"
                                                                             maxlength="9"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('overLimitDays')}">
                                                                    <f:convertNumber pattern="#,##0" integerOnly="true" maxIntegerDigits="10"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.swingPercent')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('swingPercent')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.swingPercent}"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('swingPercent')}">
                                                                    <f:convertNumber pattern="#,##0.##"
                                                                                     minFractionDigits="2" maxFractionDigits="2"
                                                                                     maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.utilizationPercent')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('utilizationPercent')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.utilizationPercent}"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('utilizationPercent')}">
                                                                    <f:convertNumber pattern="#,##0.##"
                                                                                     minFractionDigits="2" maxFractionDigits="2"
                                                                                     maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="#{bankStatementDetail.numberOfMonths + 1}" class="cell_spacer"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.grossInflowPerLimit')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('grossInflowPerLimit')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.grossInflowPerLimit}"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('grossInflowPerLimit')}">
                                                                    <f:convertNumber pattern="#,##0.##"
                                                                                     minFractionDigits="2" maxFractionDigits="2"
                                                                                     maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                    <tr>
                                                        <td class="left">
                                                            <h:outputText value="#{msg.get('app.bankStmtDetail.table.row.totalTransaction')}"/>
                                                            <h:outputText value="#{bankStatementDetail.mandate('totalTransaction')}" styleClass="require-field"/>
                                                        </td>
                                                        <ui:repeat value="#{bankStatementDetail.bankStmtView.bankStmtDetailViewList}" var="item" varStatus="i">
                                                            <td class="center"
                                                                style="#{i.index + 1 le (bankStatementDetail.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                                                <p:inputText value="#{item.totalTransaction}"
                                                                             onclick="this.select()"
                                                                             onkeydown="return onKeyDownMoney(event);"
                                                                             onkeypress="return onKeyPressMoney(event);"
                                                                             onfocus="removeComma(this)"
                                                                             styleClass="right"
                                                                             readonly="#{bankStatementDetail.isDisabled('totalTransaction')}">
                                                                    <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0" maxIntegerDigits="14"/>
                                                                    <p:ajax event="blur" update="@this"/>
                                                                </p:inputText>
                                                            </td>
                                                        </ui:repeat>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- End Bank statement detail Table -->
                                </td>
                            </tr>

                            </table>
                        </td>
                    </tr>

                    <tr>
                        <td colspan="2" style="height:28px;"></td>
                    </tr>

                    <!-- Average Section -->
                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.avgIncomeGross')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('averageIncomeGross')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="avgIncomeGross"
                                         value="#{bankStatementDetail.bankStmtView.avgIncomeGross}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('averageIncomeGross')}">
                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.avgIncomeNetBDM')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('averageIncomeNetBDM')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="avgIncomeNetBDM"
                                         value="#{bankStatementDetail.bankStmtView.avgIncomeNetBDM}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('averageIncomeNetBDM')}">
                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.avgIncomeNetUW')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('averageIncomeNetUW')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="avgIncomeNetUW"
                                         value="#{bankStatementDetail.bankStmtView.avgIncomeNetUW}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('averageIncomeNetUW')}">
                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.avgWithdrawAmount')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('averageDrawAmount')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="avgWithDrawAmount"
                                         value="#{bankStatementDetail.bankStmtView.avgWithDrawAmount}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('averageDrawAmount')}">
                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.swingPercent')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('averageSwingPercent')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="swingPercent"
                                         value="#{bankStatementDetail.bankStmtView.avgSwingPercent}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('averageSwingPercent')}">
                                <f:convertNumber pattern="#,##0.##"
                                                 minFractionDigits="2" maxFractionDigits="2"
                                                 maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.utilizationPercent')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('averageUtilizationPercent')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="utilizationPercent"
                                         value="#{bankStatementDetail.bankStmtView.avgUtilizationPercent}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('averageUtilizationPercent')}">
                                <f:convertNumber pattern="#,##0.##"
                                                 minFractionDigits="2" maxFractionDigits="2"
                                                 maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.avgGrossInflowPerLimit')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('averageGrossInflowPerLimit')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="avgGrossInflowPerLimit"
                                         value="#{bankStatementDetail.bankStmtView.avgGrossInflowPerLimit}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('averageGrossInflowPerLimit')}">
                                <f:convertNumber pattern="#,##0.##"
                                                 minFractionDigits="2" maxFractionDigits="2"
                                                 maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.chequeReturn')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('chequeReturn')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="chequeReturn"
                                         value="#{bankStatementDetail.bankStmtView.chequeReturn}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('chequeReturn')}">
                                <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0" maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.trdChequeReturnAmount')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('tradeChequeReturnAmount')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="trdChequeReturnAmount"
                                         value="#{bankStatementDetail.bankStmtView.trdChequeReturnAmount}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('tradeChequeReturnAmount')}">
                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.overLimitTimes')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('overLimitTimes')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="overLimitTimes"
                                         value="#{bankStatementDetail.bankStmtView.overLimitTimes}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('overLimitTimes')}">
                                <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0" maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.overLimitDays')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('overLimitDays')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputText id="overLimitDays"
                                         value="#{bankStatementDetail.bankStmtView.overLimitDays}"
                                         onclick="this.select()"
                                         onkeydown="return onKeyDownMoney(event);"
                                         onkeypress="return onKeyPressMoney(event);"
                                         onfocus="removeComma(this)"
                                         styleClass="right" style="width:200px;"
                                         readonly="#{bankStatementDetail.isDisabled('overLimitDays')}">
                                <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0" maxIntegerDigits="14"/>
                                <p:ajax event="blur" update="@this"/>
                            </p:inputText>
                        </td>
                    </tr>

                    <tr>
                        <td class="title" >
                            <h:outputText value="#{msg.get('app.bankStmtDetail.label.remark')}"/>
                            <h:outputText value="#{bankStatementDetail.mandate('remark')}" styleClass="require-field"/>
                            <h:outputText value=" :"/>
                        </td>
                        <td class="left">
                            <p:inputTextarea value="#{bankStatementDetail.bankStmtView.remark}"
                                             rows="5" cols="100" autoResize="false"
                                             readonly="#{bankStatementDetail.isDisabled('remark')}"/>
                        </td>
                    </tr>

                    <tr>
                        <td colspan="2">
                            <!-- Hidden -->
                            <h:inputHidden value="#{bankStatementDetail.bankStmtView.TMB}"
                                           rendered="#{not empty bankStatementDetail.bankStmtView}"/>
                            <h:inputHidden value="#{bankStatementDetail.bankStmtView.highestInflow}"
                                           rendered="#{not empty bankStatementDetail.bankStmtView}"/>
                            <div class="separate"><!-- --></div>
                        </td>
                    </tr>

                    <tr>
                        <td colspan="2" class="center">
                            <p:commandButton id="btnSave" value="#{msg.get('app.button.save')}"
                                             binding="#{saveButton}"
                                             actionListener="#{bankStatementDetail.onSave()}"
                                             process="@form"
                                             update=":frmMain,:msgBoxSystemMessagePanel"
                                             styleClass="smaller"
                                             disabled="#{bankStatementDetail.isDisabled('saveButton')}"/>
                            <p:spacer width="10" height="0"/>
                            <p:commandButton id="btnCancel" value="#{msg.get('app.button.cancel')}"
                                             actionListener="#{bankStatementDetail.onCancel()}"
                                             process="@form"
                                             update=":frmMain"
                                             styleClass="smaller"
                                             disabled="#{bankStatementDetail.isDisabled('cancelButton')}"/>
                        </td>
                    </tr>
                </table>
                </div>
                </div>
            </div>
            <div class="clear"></div>

            <div id="bottom_line"></div>
            <!-- Start Footer -->
            <ui:include src="include/footer.xhtml"/>
            <!-- End Footer -->
            </div>

            <p:blockUI widgetVar="blockUI" block=":frmMain"
                       trigger=":frmMain:btnSave,:frmMain:btnCancel">
                LOADING<br/>
                <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
            </p:blockUI>
        </h:form>
    </p:panel>

<p:panel id="msgBoxSystemMessagePanel" styleClass="panel">
    <p:confirmDialog id="msgBoxSystemMessageDialog" widgetVar="msgBoxSystemMessageDlg"
                     severity="#{bankStatementDetail.severity}"
                     header="#{bankStatementDetail.messageHeader}" message="#{bankStatementDetail.message}">
        <p:commandButton value="OK"
                         process="@this"
                         update="frmMain"
                         oncomplete="msgBoxSystemMessageDlg.hide()"/>
    </p:confirmDialog>
</p:panel>

</h:body>
</f:view>
</html>