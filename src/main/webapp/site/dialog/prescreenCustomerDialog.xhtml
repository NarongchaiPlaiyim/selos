<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:clv="http://clevel.com/ui">
<p:panel id="customerDlgPanel" styleClass="panel-dialog">
    <h:form id="customerDlgForm">
        <div id="customer_relation">
            <table class="content_form" border="0" style="width:800px;">
                <tr>
                    <td class="title" style="min-width: 144px; width: 144px; max-width: 144px;">Document Type :</td>
                    <td colspan="3">
                        <p:selectOneMenu id="dlgSelBrDocType" value="#{prescreenMaker.borrowerInfo.documentType.id}"
                                         required="#{not empty param[searchButton.clientId] || not empty param[saveCustomerButton.clientId]}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                         disabled="#{not prescreenMaker.enableDocumentType}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.documentTypeList}"
                                           var="docTypeItem"
                                           itemLabel="#{docTypeItem.description}"
                                           itemValue="#{docTypeItem.id}"/>
                            <p:ajax event="change" process="@form"
                                    listener="#{prescreenMaker.onChangeDocType}"
                                    update=":customerDlgForm" />
                        </p:selectOneMenu>
                    </td>

                </tr>
                <tr>
                    <td class="title">Search by : </td>
                    <td style="min-width: 340px; width: 340px; max-width: 340px;">
                        <p:selectOneRadio id="dlgRadioBrSearchBy"
                                          value="#{prescreenMaker.borrowerInfo.searchBy}"
                                          disabled="#{not prescreenMaker.enableSearchForm}"
                                          required="#{not empty param[searchButton.clientId]}">
                            <f:selectItem itemLabel="Personal ID/Registration ID" itemValue="1"/>
                            <f:selectItem itemLabel="TMB Customer ID" itemValue="2"/>
                            <p:ajax event="change"
                                    listener="#{prescreenMaker.onChangeSearchBy()}"
                                    process="@form"
                                    update=":customerDlgForm"/>
                        </p:selectOneRadio>
                    </td>
                    <td style="min-width: 160px; width: 160px; max-width: 160px;">
                        <p:inputText value="#{prescreenMaker.borrowerInfo.searchId}" maxlength="15"
                                     disabled="true"
                                     rendered="#{prescreenMaker.borrowerInfo.searchBy == 0}"
                                     required="#{not empty param[searchButton.clientId]}" />
                        <!-- only citizen id fix key only number -->
                        <p:inputText id="dlgInputSearchText" value="#{prescreenMaker.borrowerInfo.searchId}" maxlength="13"
                                     disabled="#{not prescreenMaker.enableSearchForm}"
                                     onkeydown="return onKeyDownNumber(event);" onkeypress="return onKeyPressNumber(event);" onblur="checkSearchThaiID(this)"
                                     rendered="#{prescreenMaker.borrowerInfo.searchBy == 1 and (prescreenMaker.borrowerInfo.documentType.id == 1 || prescreenMaker.borrowerInfo.documentType.id == 3)}"
                                     required="#{not empty param[searchButton.clientId]}" />
                        <!-- only passport allow free text -->
                        <p:inputText value="#{prescreenMaker.borrowerInfo.searchId}" maxlength="15"
                                     disabled="#{not prescreenMaker.enableSearchForm}"
                                     onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"
                                     rendered="#{prescreenMaker.borrowerInfo.searchBy == 1 and prescreenMaker.borrowerInfo.documentType.id == 2}"
                                     required="#{not empty param[searchButton.clientId]}" />
                        <p:inputText value="#{prescreenMaker.borrowerInfo.searchId}" maxlength="15"
                                     disabled="#{not prescreenMaker.enableSearchForm}"
                                     onkeydown="return onKeyPressNumber(event);" onkeypress="return onKeyDownNumber(event);"
                                     rendered="#{prescreenMaker.borrowerInfo.searchBy == 2 and (prescreenMaker.borrowerInfo.documentType.id == 1 || prescreenMaker.borrowerInfo.documentType.id == 2 || prescreenMaker.borrowerInfo.documentType.id == 3)}"
                                     required="#{not empty param[searchButton.clientId]}" />

                    </td>
                    <td>
                        <p:commandButton id="dlgSearchBrBtn" value="Search"
                                         binding="#{searchButton}"
                                         process="@form"
                                         actionListener="#{prescreenMaker.onSearchCustomerInfo}"
                                         oncomplete="testHandle()"
                                         disabled="#{not prescreenMaker.enableSearchForm}"
                                         update=":msgBoxSystemMessagePanel :customerDlgForm" />
                    </td>
                </tr>
                <tr>
                    <td class="title">Customer Entity :</td>
                    <td colspan="3">
                        <h:inputHidden value="#{prescreenMaker.borrowerInfo.customerEntity.id}"/>
                        <p:selectOneRadio id="radioCustomerType" value="#{prescreenMaker.customerEntity.id}"
                                          disabled="true"
                                          required="#{not empty param[searchButton.clientId] || not empty param[saveCustomerButton.clientId]}">
                            <f:selectItems value="#{prescreenMaker.customerEntityList}"
                                           var="customerEntityItem"
                                           itemLabel="#{customerEntityItem.description}"
                                           itemValue="#{customerEntityItem.id}"/>
                        </p:selectOneRadio>
                    </td>
                </tr>
                <tr>

                    <td colspan="4">
                        <div class="separate"><!-- --></div>
                    </td>

                </tr>
            </table>
        <p:panel id="pnlIndividual"  rendered="#{prescreenMaker.borrowerInfo.customerEntity.id == 1 || prescreenMaker.borrowerInfo.customerEntity.id == 0}"  style="border:0; margin:0; padding: 0;">
            <table class="content_form" border="0" style="width:650px;">
                <tr>
                    <td class="title" style="min-width: 144px; width:144px; max-width: 144px;">Personal ID : </td>
                    <td colspan="3">
                        <p:inputText id="dlgInputBrCitizenText" value="#{prescreenMaker.borrowerInfo.citizenId}" styleClass="large" maxlength="13"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) || prescreenMaker.isDisabled('customer.personalId')}"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     onkeydown="return onKeyDownNumber(event);" onkeypress="return onKeyPressNumber(event);" onblur="checkBorrowerThaiID(this)"
                                     rendered="#{prescreenMaker.borrowerInfo.documentType.id != 2}"
                                     readonly="#{not prescreenMaker.enableCitizenId}"/>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.citizenId}" styleClass="large" maxlength="13"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) || prescreenMaker.isDisabled('customer.personalId')}"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"
                                     rendered="#{prescreenMaker.borrowerInfo.documentType.id == 2}"
                                     readonly="#{not prescreenMaker.enableCitizenId}"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">TMB Customer ID :</td>
                    <td>
                        <p:inputText id="dlgBorrowerCustomerID" value="#{prescreenMaker.borrowerInfo.tmbCustomerId}" styleClass="large" maxlength="15"
                                     readonly="true" />
                    </td>
                    <td class="title right" style="min-width: 144px; width:144px; max-width: 144px;">Service Segment :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.serviceSegmentView.code == 0?'': prescreenMaker.borrowerInfo.serviceSegmentView.code}"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.serviceSegment')}"
                                     readonly="true" style="width: 192px; max-width: 192px; min-width: 192px;"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Relationship :</td>
                    <td>
                        <p:selectOneMenu id="dlgSelBrRelations" value="#{prescreenMaker.borrowerRelation.id}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.relation')}"
                                         required="#{not empty param[saveCustomerButton.clientId]}" >
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.relationList}"
                                           var="borrowerRelation"
                                           itemLabel="#{borrowerRelation.description}"
                                           itemValue="#{borrowerRelation.id}"/>
                            <p:ajax event="change"
                                    listener="#{prescreenMaker.onChangeRelation()}"
                                    process="@form"
                                    update=":customerDlgForm:dlgSelBrReference, :customerDlgForm:dlgSelSpRelation, :customerDlgForm:dlgSelSpReference"/>
                        </p:selectOneMenu>
                    </td>
                    <td class="title right">Collateral Owner :</td>
                    <td>
                        <p:selectOneRadio value="#{prescreenMaker.borrowerInfo.collateralOwner}" disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.collateralOwner')}">
                            <f:selectItems value="#{app.getRadioValues('YES|NO')}"
                                           var="colOwnerVar" itemLabel="#{colOwnerVar.shortName()}" itemValue="#{colOwnerVar.value()}"/>
                        </p:selectOneRadio>
                    </td>
                </tr>
                <tr>
                    <td class="title">Reference :</td>
                    <td>
                        <p:selectOneMenu id="dlgSelBrReference" value="#{prescreenMaker.borrowerReference.id}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.reference')}"
                                         required="#{not empty param[saveCustomerButton.clientId]}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.referenceList}"
                                           var="referenceItem"
                                           itemLabel="#{referenceItem.description}"
                                           itemValue="#{referenceItem.id}"/>
                        </p:selectOneMenu>
                    </td>
                    <td class="title right">Percent Share :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.percentShare}" styleClass="small"
                                     disabled="#{prescreenMaker.isDisabled('customer.percentShare')}"
                                     onkeydown="return onKeyDownMoney(event);" onkeypress="return onKeyPressMoney(event);"
                                     readonly="#{not prescreenMaker.enableCustomerForm}">
                            <f:convertNumber pattern="##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="3"/>
                            <f:validateDoubleRange maximum="100"/>
                            <p:ajax event="blur" update=":customerDlgForm" process="@form"/>
                        </p:inputText>
                    </td>
                </tr>
                <tr>
                    <td class="title">Title :</td>
                    <td colspan="3">
                        <p:selectOneMenu id="dlgSelBrTitle" value="#{prescreenMaker.borrowerInfo.titleTh.id}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.title')}"
                                         required="#{not empty param[saveCustomerButton.clientId]}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.titleList}"
                                           var="titleThItem"
                                           itemLabel="#{titleThItem.titleTh}"
                                           itemValue="#{titleThItem.id}"/>
                        </p:selectOneMenu>
                    </td>
                </tr>
                <tr>
                    <td class="title">First Name :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.firstNameTh}" styleClass="large"
                                     disabled="#{prescreenMaker.isDisabled('customer.firstName')}"
                                     onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     readonly="#{( not prescreenMaker.enableCustomerForm ) or (prescreenMaker.borrowerInfo.ncbFlag == 2)}"/>
                    </td>
                    <td class="title right">Last Name :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.lastNameTh}" styleClass="large"
                                     disabled="#{prescreenMaker.isDisabled('customer.lastName')}"
                                     onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     readonly="#{( not prescreenMaker.enableCustomerForm ) or (prescreenMaker.borrowerInfo.ncbFlag == 2)}"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Date of Birth :</td>
                    <td>
                        <clv:BECalendar id="dlgCalBrDateOfBirth" showOn="button" showButtonPanel="true" navigator="true"
                                        disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.dateOfBirth')}"
                                        yearRange="1950:2100"
                                        mindate="01/01/1950"
                                        maxdate="#{prescreenMaker.currentDateDDMMYY}"
                                        pattern="dd/MM/yyyy"
                                        value="#{prescreenMaker.borrowerInfo.dateOfBirth}"
                                        locale="th_TH" >
                            <p:ajax event="change"
                                    listener="#{prescreenMaker.onChangeDate('borrower')}"
                                    process="@this"
                                    update=":customerDlgForm:age"/>
                            <p:ajax event="dateSelect"
                                    listener="#{prescreenMaker.onChangeDate('borrower')}"
                                    process="@this"
                                    update=":customerDlgForm:age"/>
                        </clv:BECalendar>
                    </td>
                    <td class="title right">Age :</td>
                    <td>
                        <p:inputText id="age" value="#{prescreenMaker.borrowerInfo.age}" disabled="#{prescreenMaker.isDisabled('customer.dateOfBirth')}" readonly="true" onfocus="this.blur();"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Nationality :</td>
                    <td colspan="3">
                        <p:selectOneMenu id="dlgSelBrNationality" value="#{prescreenMaker.borrowerInfo.nationality.id}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.nationality')}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.nationalityList}"
                                           var="nationalityItem"
                                           itemLabel="#{nationalityItem.name}"
                                           itemValue="#{nationalityItem.id}"/>
                        </p:selectOneMenu>
                    </td>
                </tr>
                <tr>
                    <td class="title top" style="padding-top: 8px;">Mailing Address :</td>
                    <td colspan="3" class="top">
                        <table class="table_noborder">
                            <tr>
                                <td class="title left">Addr. No.</td>
                                <td class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.currentAddress.addressNo}" styleClass="large"
                                                 disabled="#{prescreenMaker.isDisabled('customer.address.no')}"
                                                 onkeydown="return onKeyDownAddress(event);" onkeypress="return onKeyPressAddress(event);"
                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                 readonly="#{not prescreenMaker.enableCustomerForm}"/>
                                </td>
                                <td class="title right">Moo.</td>
                                <td class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.currentAddress.moo}" styleClass="smallest" maxlength="5"
                                                 disabled="#{prescreenMaker.isDisabled('customer.address.moo')}"
                                                 onkeydown="return onKeyDownAddress(event);" onkeypress="return onKeyPressAddress(event);"
                                                 readonly="#{not prescreenMaker.enableCustomerForm}"/>
                                </td>
                                <td class="title right">Building</td>
                                <td class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.currentAddress.building}" styleClass="large"
                                                 disabled="#{prescreenMaker.isDisabled('customer.address.building')}"
                                                 onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"
                                                 readonly="#{not prescreenMaker.enableCustomerForm}"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="title left">Soi/Road</td>
                                <td colspan="5" class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.currentAddress.road}" styleClass="largest_m"
                                                 disabled="#{prescreenMaker.isDisabled('customer.address.soi')}"
                                                 onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"
                                                 readonly="#{not prescreenMaker.enableCustomerForm}"/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="6" class="left">
                                    <table class="table_noborder">
                                        <tr>
                                            <td>
                                                <p:selectOneMenu size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                                                 value="#{prescreenMaker.borrowerInfo.currentAddress.province.code}"
                                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.address.province')}">
                                                    <f:selectItem itemLabel="#{msg.get('app.province')}" itemValue=""/>
                                                    <f:selectItems value="#{prescreenMaker.provinceList}"
                                                                   var="province"
                                                                   itemLabel="#{province.name}"
                                                                   itemValue="#{province.code}"/>
                                                    <p:ajax listener="#{prescreenMaker.onChangeProvinceBorrower()}"
                                                            update=":customerDlgForm:districtBorrower, :customerDlgForm:subDistrictBorrower"/>
                                                </p:selectOneMenu>
                                            </td>
                                            <td>
                                                <p:selectOneMenu size="1" style="min-width: 200px; width: 200px; max-width: 200px;" id="districtBorrower"
                                                                 value="#{prescreenMaker.borrowerInfo.currentAddress.district.id}"
                                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.address.district')}">
                                                    <f:selectItem itemLabel="#{msg.get('app.district')}" itemValue=""/>
                                                    <f:selectItems value="#{prescreenMaker.districtList}"
                                                                   var="district"
                                                                   itemLabel="#{district.name}"
                                                                   itemValue="#{district.id}"/>
                                                    <p:ajax listener="#{prescreenMaker.onChangeDistrictBorrower()}"
                                                            update=":customerDlgForm:subDistrictBorrower"/>
                                                </p:selectOneMenu>
                                            </td>
                                            <td>
                                                <p:selectOneMenu size="1" style="min-width: 200px; width: 200px; max-width: 200px;" id="subDistrictBorrower"
                                                                 value="#{prescreenMaker.borrowerInfo.currentAddress.subDistrict.code}"
                                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.address.subdistrict')}">
                                                    <f:selectItem itemLabel="#{msg.get('app.subdistrict')}" itemValue=""/>
                                                    <f:selectItems value="#{prescreenMaker.subDistrictList}"
                                                                   var="subDistrict"
                                                                   itemLabel="#{subDistrict.name}"
                                                                   itemValue="#{subDistrict.code}"/>
                                                </p:selectOneMenu>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td class="title">Postal Code :</td>
                    <td colspan="3">
                        <p:inputText value="#{prescreenMaker.borrowerInfo.currentAddress.postalCode}" styleClass="small" maxlength="5"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.postalCode')}"
                                     onkeydown="return onKeyDownNumber(event);" onkeypress="return onKeyPressNumber(event);"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     readonly="#{not prescreenMaker.enableCustomerForm}"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Approx. Income :</td>
                    <td colspan="3">
                        <p:inputText value="#{prescreenMaker.borrowerInfo.approxIncome}" styleClass="small right"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.approxIncome')}"
                                     maxlength="10" readonly="#{not prescreenMaker.enableCustomerForm}"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     onkeydown="return onKeyDownMoney(event);" onkeypress="return onKeyPressMoney(event);" onfocus="removeComma(this)">
                            <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0" maxIntegerDigits="10"/>
                            <p:ajax event="blur" update="customerDlgForm" process="@form"/>
                        </p:inputText>
                        <p:spacer width="5"/>Baht/Year
                    </td>
                </tr>
                <tr>
                    <td class="title">Marriage Status :</td>
                    <td>
                        <p:selectOneMenu id="dlgSelMarriageStatus" value="#{prescreenMaker.borrowerInfo.maritalStatus.id}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.marriageStatus')}"
                                         required="#{not empty param[saveCustomerButton.clientId]}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.maritalStatusList}"
                                           var="maritalStatusItem"
                                           itemLabel="#{maritalStatusItem.name}"
                                           itemValue="#{maritalStatusItem.id}"/>
                            <p:ajax event="change"
                                    onstart="blockUIContentForm.show()"
                                    listener="#{prescreenMaker.onChangeMaritalStatus}"
                                    process="@form"
                                    onsuccess="blockUIContentForm.hide()"
                                    update=":customerDlgForm, :msgBoxSystemMessagePanel"/>
                        </p:selectOneMenu>
                    </td>
                </tr>
            </table>
        <p:panel id="pnlSpouse" rendered="#{prescreenMaker.borrowerInfo.maritalStatus.spouseFlag == 1}" style="border:0; margin:15px 0 0 0; padding:0 0 10px 0;">
            <table class="content_form" border="0" style="width:650px;">
                <tr>
                    <td class="title" colspan="4" style="font-size: 18px; padding-bottom: 10px;">Spouse Information :</td>
                </tr>
                <tr>
                    <td class="title" style="min-width: 144px; width:144px; max-width: 144px;">Document Type :</td>
                    <td colspan="3">
                        <p:selectOneMenu id="dlgSelSpDocType" value="#{prescreenMaker.borrowerInfo.spouse.documentType.id}"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.documentType')}"
                                         required="#{not empty param[saveCustomerButton.clientId]}"
                                         size="1" style="width: 200px;">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.spouseDocumentTypeList}"
                                           var="docTypeItem"
                                           itemLabel="#{docTypeItem.description}"
                                           itemValue="#{docTypeItem.id}"/>
                            <p:ajax event="change" process="@form"
                                    update=":customerDlgForm" />
                        </p:selectOneMenu>
                    </td>
                </tr>
                <tr>
                    <td class="title">Personal ID :</td>
                    <td colspan="3">
                        <p:inputText id="dlgInputSpCitizenText" value="#{prescreenMaker.borrowerInfo.spouse.citizenId}" styleClass="large" maxlength="13"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.personalId')}"
                                     onkeydown="return onKeyDownNumber(event);" onkeypress="return onKeyPressNumber(event);" onblur="checkSpouseThaiID(this)"
                                     rendered="#{prescreenMaker.borrowerInfo.spouse.documentType.id != 2}"
                                     readonly="#{( not prescreenMaker.enableCustomerForm ) or (prescreenMaker.borrowerInfo.spouse.ncbFlag == 2)}"
                                     required="#{not empty param[saveCustomerButton.clientId]}"/>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.citizenId}" styleClass="large" maxlength="13"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.personalId')}"
                                     onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"
                                     rendered="#{prescreenMaker.borrowerInfo.spouse.documentType.id == 2}"
                                     required="#{not empty param[saveCustomerButton.clientId]}"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">TMB Customer ID :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.tmbCustomerId}" styleClass="large" maxlength="15"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.tmbCusId')}"
                                     readonly="true" />
                    </td>
                    <td class="title right" style="min-width: 144px; width:144px; max-width: 144px;">Service Segment :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.serviceSegmentView.code == 0?'': prescreenMaker.borrowerInfo.spouse.serviceSegmentView.code}"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.serviceSegment')}"
                                     readonly="true" style="width: 192px; max-width: 192px; min-width: 192px;"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Relationship :</td>
                    <td>
                        <p:selectOneMenu id="dlgSelSpRelation" value="#{prescreenMaker.spouseRelation.id}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.relation')}"
                                         required="#{not empty param[saveCustomerButton.clientId]}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.spouseRelationList}"
                                           var="spouseRelationItem"
                                           itemLabel="#{spouseRelationItem.description}"
                                           itemValue="#{spouseRelationItem.id}"/>
                            <p:ajax event="change"
                                    listener="#{prescreenMaker.onChangeSpouseRelation()}"
                                    process="@this"
                                    update=":customerDlgForm:dlgSelSpReference"/>
                        </p:selectOneMenu>
                    </td>
                    <td class="title right">Collateral Owner :</td>
                    <td>
                        <p:selectOneRadio value="#{prescreenMaker.borrowerInfo.spouse.collateralOwner}" disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.collateralOwner')}">
                            <f:selectItems value="#{app.getRadioValues('YES|NO')}"
                                           var="colOwnerSpVar" itemLabel="#{colOwnerSpVar.shortName()}" itemValue="#{colOwnerSpVar.value()}"/>
                        </p:selectOneRadio>
                    </td>
                </tr>
                <tr>
                    <td class="title">Reference :</td>
                    <td>
                        <p:selectOneMenu id="dlgSelSpReference" value="#{prescreenMaker.spouseReference.id}"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.reference')}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                         required="#{not empty param[saveCustomerButton.clientId]}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.spouseReferenceList}"
                                           var="referenceItem"
                                           itemLabel="#{referenceItem.description}"
                                           itemValue="#{referenceItem.id}"/>
                        </p:selectOneMenu>
                    </td>
                    <td class="title right">Percent Share :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.percentShare}" styleClass="small"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.percentShare')}"
                                     onkeydown="return onKeyDownMoney(event);" onkeypress="return onKeyPressMoney(event);">
                            <f:convertNumber pattern="##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="3"/>
                            <f:validateDoubleRange maximum="100"/>
                            <p:ajax event="blur" update=":customerDlgForm" process="@form"/>
                        </p:inputText>
                    </td>
                </tr>
                <tr>
                    <td class="title">Title :</td>
                    <td colspan="3">
                        <p:selectOneMenu id="dlgSelSpTitle" value="#{prescreenMaker.borrowerInfo.spouse.titleTh.id}"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.title')}"
                                         required="#{not empty param[saveCustomerButton.clientId]}"
                                         size="1" style="width: 200px;">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.titleList}"
                                           var="titleThItem"
                                           itemLabel="#{titleThItem.titleTh}"
                                           itemValue="#{titleThItem.id}"/>
                        </p:selectOneMenu>
                    </td>
                </tr>
                <tr>
                    <td class="title">First Name :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.firstNameTh}" styleClass="large"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.firstName')}"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     readonly="#{( not prescreenMaker.enableCustomerForm ) or (prescreenMaker.borrowerInfo.spouse.ncbFlag == 2)}"
                                     onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"/>
                    </td>
                    <td class="title right">Last Name :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.lastNameTh}" styleClass="large"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.lastName')}"
                                     readonly="#{( not prescreenMaker.enableCustomerForm ) or (prescreenMaker.borrowerInfo.spouse.ncbFlag == 2)}"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Date of Birth :</td>
                    <td>
                        <clv:BECalendar id="dlgCalSpDateOfBirth" showOn="button" showButtonPanel="true" navigator="true"
                                        disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.dateOfBirth')}"
                                        yearRange="1950:2100"
                                        mindate="01/01/1950"
                                        maxdate="#{prescreenMaker.currentDateDDMMYY}"
                                        pattern="dd/MM/yyyy"
                                        value="#{prescreenMaker.borrowerInfo.spouse.dateOfBirth}"
                                        locale="th_TH" >
                            <p:ajax event="change"
                                    listener="#{prescreenMaker.onChangeDate('spouse')}"
                                    process="@form"
                                    update=":customerDlgForm"/>
                            <p:ajax event="dateSelect"
                                    listener="#{prescreenMaker.onChangeDate('spouse')}"
                                    process="@form"
                                    update=":customerDlgForm"/>
                        </clv:BECalendar>
                    </td>
                    <td class="title right">Age :</td>
                    <td>
                        <p:inputText id="spouseAge" value="#{prescreenMaker.borrowerInfo.spouse.age}" readonly="true" disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.dateOfBirth')}" onfocus="this.blur();"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Nationality :</td>
                    <td colspan="3">
                        <p:selectOneMenu id="dlgSelSpNationality" value="#{prescreenMaker.borrowerInfo.spouse.nationality.id}"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.nationality')}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.nationalityList}"
                                           var="nationalityItem"
                                           itemLabel="#{nationalityItem.name}"
                                           itemValue="#{nationalityItem.id}"/>
                        </p:selectOneMenu>
                    </td>
                </tr>
                <tr>
                    <td class="title top" style="padding-top: 8px;">Mailing Address :</td>
                    <td colspan="3" class="top">
                        <table class="table_noborder">
                            <tr>
                                <td class="title left">Addr. No.</td>
                                <td class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.currentAddress.addressNo}" styleClass="large"
                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.address.no')}"
                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                 onkeydown="return onKeyDownAddress(event);" onkeypress="return onKeyPressAddress(event);"/>
                                </td>
                                <td class="title right">Moo.</td>
                                <td class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.currentAddress.moo}" styleClass="smallest" maxlength="5"
                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.address.moo')}"
                                                 onkeydown="return onKeyDownAddress(event);" onkeypress="return onKeyPressAddress(event);" />
                                </td>
                                <td class="title right">Building</td>
                                <td class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.currentAddress.building}" styleClass="large"
                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.address.building')}"
                                                 onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="title left">Soi/Road</td>
                                <td colspan="5" class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.currentAddress.road}" styleClass="largest_m"
                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.address.soi')}"
                                                 onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event);"/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="6">
                                    <table class="table_noborder">
                                        <tr>
                                            <td>
                                                <p:selectOneMenu size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                                                 value="#{prescreenMaker.borrowerInfo.spouse.currentAddress.province.code}"
                                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.address.province')}">
                                                    <f:selectItem itemLabel="#{msg.get('app.province')}" itemValue=""/>
                                                    <f:selectItems value="#{prescreenMaker.provinceSpouseList}"
                                                                   var="province"
                                                                   itemLabel="#{province.name}"
                                                                   itemValue="#{province.code}"/>
                                                    <p:ajax listener="#{prescreenMaker.onChangeProvinceSpouse()}"
                                                            update=":customerDlgForm:districtSpouse, :customerDlgForm:subDistrictSpouse"/>
                                                </p:selectOneMenu>
                                            </td>
                                            <td>
                                                <p:selectOneMenu size="1" style="min-width: 200px; width: 200px; max-width: 200px;" id="districtSpouse"
                                                                 value="#{prescreenMaker.borrowerInfo.spouse.currentAddress.district.id}"
                                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.address.district')}">
                                                    <f:selectItem itemLabel="#{msg.get('app.district')}" itemValue=""/>
                                                    <f:selectItems value="#{prescreenMaker.districtSpouseList}"
                                                                   var="district"
                                                                   itemLabel="#{district.name}"
                                                                   itemValue="#{district.id}"/>
                                                    <p:ajax listener="#{prescreenMaker.onChangeDistrictSpouse()}"
                                                            update=":customerDlgForm:subDistrictSpouse"/>
                                                </p:selectOneMenu>
                                            </td>
                                            <td>
                                                <p:selectOneMenu size="1" style="min-width: 200px; width: 200px; max-width: 200px;" id="subDistrictSpouse"
                                                                 value="#{prescreenMaker.borrowerInfo.spouse.currentAddress.subDistrict.code}"
                                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.address.subdistrict')}">
                                                    <f:selectItem itemLabel="#{msg.get('app.subdistrict')}" itemValue=""/>
                                                    <f:selectItems value="#{prescreenMaker.subDistrictSpouseList}"
                                                                   var="subDistrict"
                                                                   itemLabel="#{subDistrict.name}"
                                                                   itemValue="#{subDistrict.code}"/>
                                                </p:selectOneMenu>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td class="title">Postal Code :</td>
                    <td colspan="3">
                        <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.currentAddress.postalCode}" styleClass="small" maxlength="5"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.postalCode')}"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     onkeydown="return onKeyDownNumber(event);" onkeypress="return onKeyPressNumber(event);"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Approx. Income :</td>
                    <td colspan="3">
                        <p:inputText value="#{prescreenMaker.borrowerInfo.spouse.approxIncome}" styleClass="small right" maxlength="10"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.spouse.approxIncome')}"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     onkeydown="return onKeyDownMoney(event);" onkeypress="return onKeyPressMoney(event);" onfocus="removeComma(this)">
                            <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0" maxIntegerDigits="10"/>
                            <p:ajax event="blur" update=":customerDlgForm" process="@form"/>
                        </p:inputText>
                        <p:spacer width="5"/>Baht/Year
                    </td>
                </tr>
            </table>
        </p:panel>
        </p:panel>
        <p:panel id="pnlJuristic" rendered="#{prescreenMaker.borrowerInfo.customerEntity.id == 2}" styleClass="panel">
            <table class="content_form" border="0" style="width:650px;">
                <tr>
                    <td class="title" style="min-width: 144px; width:144px; max-width: 144px;">Registration ID :</td>
                    <td colspan="3">
                        <p:inputText id="dlgInputJrRegistrationText" value="#{prescreenMaker.borrowerInfo.registrationId}" styleClass="large" maxlength="13"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.personalId')}"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     onkeydown="return onKeyDownNumber(event);" onkeypress="return onKeyPressNumber(event);" onblur="checkJuristicThaiID(this)"
                                     readonly="#{( not prescreenMaker.enableCitizenId ) or (prescreenMaker.borrowerInfo.ncbFlag == 2)}"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">TMB Customer ID :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.tmbCustomerId}" styleClass="large" maxlength="15"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.tmbCusId')}"
                                     readonly="true" />
                    </td>
                    <td class="title right" style="min-width: 144px; width:144px; max-width: 144px;">Service Segment :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.serviceSegmentView.code == 0?'': prescreenMaker.borrowerInfo.serviceSegmentView.code}"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.serviceSegment')}"
                                     readonly="true" style="width: 192px; max-width: 192px; min-width: 192px;"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Relationship :</td>
                    <td>
                        <p:selectOneMenu id="dlgSelJrRelation" value="#{prescreenMaker.borrowerRelation.id}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                         required="#{not empty param[saveCustomerButton.clientId]}"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.relation')}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.relationList}"
                                           var="relationItem"
                                           itemLabel="#{relationItem.description}"
                                           itemValue="#{relationItem.id}"/>
                            <p:ajax event="change"
                                    listener="#{prescreenMaker.onChangeRelation()}"
                                    process="@this"
                                    update=":customerDlgForm:dlgSelJrReference"/>
                        </p:selectOneMenu>
                    </td>
                    <td class="title right">Collateral Owner :</td>
                    <td>
                        <p:selectOneRadio value="#{prescreenMaker.borrowerInfo.collateralOwner}" disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.collateralOwner')}">
                            <f:selectItems value="#{app.getRadioValues('YES|NO')}"
                                           var="colOwnerJrVar" itemLabel="#{colOwnerJrVar.shortName()}" itemValue="#{colOwnerJrVar.value()}"/>
                        </p:selectOneRadio>
                    </td>
                </tr>
                <tr>
                    <td class="title">Reference :</td>
                    <td>
                        <p:selectOneMenu id="dlgSelJrReference" value="#{prescreenMaker.borrowerReference.id}"
                                         size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.reference')}"
                                         required="#{not empty param[saveCustomerButton.clientId]}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.referenceList}"
                                           var="referenceItem"
                                           itemLabel="#{referenceItem.description}"
                                           itemValue="#{referenceItem.id}"/>
                        </p:selectOneMenu>
                    </td>
                    <td class="title right">Percent Share :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.percentShare}" styleClass="small"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.percentShare')}"
                                     onkeydown="return onKeyDownMoney(event);" onkeypress="return onKeyPressMoney(event);"
                                     readonly="#{not prescreenMaker.enableCustomerForm}">
                            <f:convertNumber pattern="##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="3"/>
                            <f:validateDoubleRange maximum="100"/>
                            <p:ajax event="blur" update=":customerDlgForm" process="@form"/>
                        </p:inputText>
                    </td>
                </tr>
                <tr>
                    <td class="title">Title :</td>
                    <td colspan="3">
                        <p:selectOneMenu id="dlgSelJrTitle" value="#{prescreenMaker.borrowerInfo.titleTh.id}"
                                         size="1" style="width: 200px;"
                                         required="#{not empty param[saveCustomerButton.clientId]}"
                                         disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.title')}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{prescreenMaker.titleList}"
                                           var="titleThItem"
                                           itemLabel="#{titleThItem.titleTh}"
                                           itemValue="#{titleThItem.id}"/>
                        </p:selectOneMenu>
                    </td>
                </tr>
                <tr>
                    <td class="title">Company Name (TH):</td>
                    <td colspan="3">
                        <p:inputText value="#{prescreenMaker.borrowerInfo.firstNameTh}" styleClass="largest_m"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.nameTh')}"
                                     onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event)"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     readonly="#{( not prescreenMaker.enableCustomerForm ) or (prescreenMaker.borrowerInfo.ncbFlag == 2)}"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Date of Register :</td>
                    <td>
                        <clv:BECalendar id="dlgCalBrDateOfRegister" showOn="button" showButtonPanel="true" navigator="true"
                                        disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.dateOfRegister')}"
                                        yearRange="1950:2100"
                                        mindate="01/01/1950"
                                        maxdate="#{prescreenMaker.currentDateDDMMYY}"
                                        pattern="dd/MM/yyyy"
                                        value="#{prescreenMaker.borrowerInfo.dateOfRegister}"
                                        locale="th_TH" >
                            <p:ajax event="change"
                                    listener="#{prescreenMaker.onChangeDate('juristic')}"
                                    process="@form"
                                    update=":customerDlgForm"/>
                            <p:ajax event="dateSelect"
                                    listener="#{prescreenMaker.onChangeDate('juristic')}"
                                    process="@form"
                                    update=":customerDlgForm"/>
                        </clv:BECalendar>
                    </td>
                    <td id="yearInBusiness" class="title right">Year In Business :</td>
                    <td>
                        <p:inputText value="#{prescreenMaker.borrowerInfo.age}" readonly="true" disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.dateOfRegister')}" onfocus="this.blur();"/>
                    </td>
                </tr>
                <tr>
                    <td class="title top" style="padding-top: 8px;">Mailing Address :</td>
                    <td colspan="3" class="top">
                        <table class="table_noborder">
                            <tr>
                                <td class="title left">Addr. No.</td>
                                <td class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.currentAddress.addressNo}" styleClass="large"
                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.address.no')}"
                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                 onkeydown="return onKeyDownAddress(event);" onkeypress="return onKeyPressAddress(event);"
                                                 readonly="#{not prescreenMaker.enableCustomerForm}"/>
                                </td>
                                <td class="title right">Moo.</td>
                                <td class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.currentAddress.moo}" styleClass="smallest" maxlength="5"
                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.address.moo')}"
                                                 onkeydown="return onKeyDownAddress(event);" onkeypress="return onKeyPressAddress(event);"
                                                 readonly="#{not prescreenMaker.enableCustomerForm}"/>
                                </td>
                                <td class="title right">Building</td>
                                <td class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.currentAddress.building}" styleClass="large"
                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.address.building')}"
                                                 onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event)"
                                                 readonly="#{not prescreenMaker.enableCustomerForm}"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="title left">Soi/Road</td>
                                <td colspan="5" class="left">
                                    <p:inputText value="#{prescreenMaker.borrowerInfo.currentAddress.road}" styleClass="largest_m"
                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.address.soi')}"
                                                 onkeydown="return onKeyDownText(event);" onkeypress="return onKeyPressText(event)"
                                                 readonly="#{not prescreenMaker.enableCustomerForm}"/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="6">
                                    <table class="table_noborder">
                                        <tr>
                                            <td>
                                                <p:selectOneMenu size="1" style="min-width: 200px; width: 200px; max-width: 200px;"
                                                                 value="#{prescreenMaker.borrowerInfo.registerAddress.province.code}"
                                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.address.province')}">
                                                    <f:selectItem itemLabel="#{msg.get('app.province')}" itemValue=""/>
                                                    <f:selectItems value="#{prescreenMaker.provinceList}"
                                                                   var="province"
                                                                   itemLabel="#{province.name}"
                                                                   itemValue="#{province.code}"/>
                                                    <p:ajax listener="#{prescreenMaker.onChangeProvinceBorrower()}"
                                                            update=":customerDlgForm:districtJuristic, :customerDlgForm:subDistrictJuristic"/>
                                                </p:selectOneMenu>
                                            </td>
                                            <td>
                                                <p:selectOneMenu size="1" style="min-width: 200px; width: 200px; max-width: 200px;" id="districtJuristic"
                                                                 value="#{prescreenMaker.borrowerInfo.registerAddress.district.id}"
                                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.address.district')}">
                                                    <f:selectItem itemLabel="#{msg.get('app.district')}" itemValue=""/>
                                                    <f:selectItems value="#{prescreenMaker.districtList}"
                                                                   var="district"
                                                                   itemLabel="#{district.name}"
                                                                   itemValue="#{district.id}"/>
                                                    <p:ajax listener="#{prescreenMaker.onChangeDistrictBorrower()}"
                                                            update=":customerDlgForm:subDistrictJuristic"/>
                                                </p:selectOneMenu>
                                            </td>
                                            <td>
                                                <p:selectOneMenu size="1" style="min-width: 200px; width: 200px; max-width: 200px;" id="subDistrictJuristic"
                                                                 value="#{prescreenMaker.borrowerInfo.registerAddress.subDistrict.code}"
                                                                 required="#{not empty param[saveCustomerButton.clientId]}"
                                                                 disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.address.subdistrict')}">
                                                    <f:selectItem itemLabel="#{msg.get('app.subdistrict')}" itemValue=""/>
                                                    <f:selectItems value="#{prescreenMaker.subDistrictList}"
                                                                   var="subDistrict"
                                                                   itemLabel="#{subDistrict.name}"
                                                                   itemValue="#{subDistrict.code}"/>
                                                </p:selectOneMenu>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td class="title">Postal Code :</td>
                    <td colspan="3">
                        <p:inputText value="#{prescreenMaker.borrowerInfo.currentAddress.postalCode}" styleClass="small" maxlength="5"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.postalCode')}"
                                     onkeydown="return onKeyDownNumber(event);" onkeypress="return onKeyPressNumber(event);"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     readonly="#{not prescreenMaker.enableCustomerForm}"/>
                    </td>
                </tr>
                <tr>
                    <td class="title">Approx. Income :</td>
                    <td colspan="3">
                        <p:inputText value="#{prescreenMaker.borrowerInfo.approxIncome}" maxlength="10" styleClass="small"
                                     disabled="#{(not prescreenMaker.enableCustomerForm) or prescreenMaker.isDisabled('customer.juristic.approxIncome')}"
                                     onkeydown="return onKeyDownMoney(event);" onkeypress="return onKeyPressMoney(event);" onfocus="removeComma(this)"
                                     required="#{not empty param[saveCustomerButton.clientId]}"
                                     readonly="#{not prescreenMaker.enableCustomerForm}">
                            <f:convertNumber pattern="#,##0" minFractionDigits="0" maxFractionDigits="0" maxIntegerDigits="10"/>
                            <p:ajax event="blur" update=":customerDlgForm" process="@form"/>
                        </p:inputText>
                        <p:spacer width="5"/>Baht/Year
                    </td>
                </tr>
            </table>
        </p:panel>
        </div>

        <p:panel id="pnlButton" styleClass="center" style="margin-top: 20px; padding-bottom: 10px; border: 0;">
            <p:commandButton id="addCustomer" value="Add" styleClass="small"
                    binding="#{saveCustomerButton}"
                    disabled="#{prescreenMaker.isDisabled('customer.saveButton')}"
                    action="#{prescreenMaker.onSaveCustomerInfo}"
                    process="@form"
                    rendered="#{prescreenMaker.borrowerInfo.customerEntity.id != 0 and prescreenMaker.enableCustomerForm}"
                    update=":customerDlgForm :frmMain :msgBoxSystemMessagePanel"
                    oncomplete=" handleDialogRequest(xhr, status, args, 'customerDlg')"/>
            <p:commandButton value="Cancel" styleClass="small"
                             process="@this" update=":customerDlgForm"
                             oncomplete="customerDlg.hide()">
                <p:resetInput target=":customerDlgForm" />
            </p:commandButton>
        </p:panel>

    </h:form>
</p:panel>
<p:blockUI widgetVar="blockUIContentForm" block="customerDlgPanel" trigger=":customerDlgForm:dlgSearchBrBtn :customerDlgForm:addCustomer">
    LOADING<br />
    <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
</p:blockUI>
</ui:composition>