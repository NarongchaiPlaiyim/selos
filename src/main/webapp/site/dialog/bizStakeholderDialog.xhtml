<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">

    <h:form id="stakeholderViewDlgForm">
        <table class="content_form">
            <tr>
                <td class="title">
                    <h:outputText value="#{bizInfoDetail.dlgStakeName}"/>
                    <h:outputText value="#{bizInfoDetail.mandate('bizSupplier.name')}" styleClass="require-field"/>
                    <h:outputText value=" :"/>
                </td>
                <td>
                    <p:inputText id="name" value="#{bizInfoDetail.bizStakeHolderDetailView.name}"
                                 required="#{not empty param[saveStakeholderBtn.clientId]}"
                                 readonly="#{bizInfoDetail.isDisabled('bizSupplier.name')}">
                        <p:ajax event="blur" update=":stakeholderViewDlgForm:name"/>
                    </p:inputText>
                </td>
            </tr>
            <tr>
                <td class="title">
                    <h:outputText value="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.contactName')}"/>
                    <h:outputText value="#{bizInfoDetail.mandate('bizSupplier.contactName')}" styleClass="require-field"/>
                    <h:outputText value=" :"/>
                </td>
                <td>
                    <p:inputText value="#{bizInfoDetail.bizStakeHolderDetailView.contactName}"
                                 readonly="#{bizInfoDetail.isDisabled('bizSupplier.contactName')}"/>
                </td>
            </tr>
            <tr>
                <td class="title">
                    <h:outputText value="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.phoneNo')}"/>
                    <h:outputText value="#{bizInfoDetail.mandate('bizSupplier.phoneNo')}" styleClass="require-field"/>
                    <h:outputText value=" :"/>
                </td>
                <td>
                    <p:inputText id="phoneNo" value="#{bizInfoDetail.bizStakeHolderDetailView.phoneNo}"
                                 onkeydown="return onKeyDownTelNo(event);" onkeypress="return onKeyPressTelNo(event);"
                                 required="#{not empty param[saveStakeholderBtn.clientId]}"
                                 readonly="#{bizInfoDetail.isDisabled('bizSupplier.phoneNo')}">
                        <p:ajax event="blur" update=":stakeholderViewDlgForm:phoneNo"/>
                    </p:inputText>

                </td>
            </tr>
            <tr>
                <td class="title">
                    <h:outputText value="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.contactYear')}"/>
                    <h:outputText value="#{bizInfoDetail.mandate('bizSupplier.contactYear')}" styleClass="require-field"/>
                    <h:outputText value=" :"/>
                </td>
                <td>
                    <p:inputText id="contactYear" value="#{bizInfoDetail.bizStakeHolderDetailView.contactYear}" styleClass="right"
                                 onkeydown="return onKeyDownNumber(event);" onkeypress="return onKeyPressNumber(event);"
                                 required="#{not empty param[saveStakeholderBtn.clientId]}"
                                 readonly="#{bizInfoDetail.isDisabled('bizSupplier.contactYear')}">
                        <p:ajax event="blur" update=":stakeholderViewDlgForm:contactYear"/>
                    </p:inputText>
                </td>
            </tr>
            <tr>
                <td class="title">
                    <h:outputText value="#{bizInfoDetail.dlgStakeSaleType}"/>
                    <h:outputText value="#{bizInfoDetail.mandate('bizSupplier.percentBuyVolumn')}" styleClass="require-field"/>
                    <h:outputText value=" :"/>
                </td>
                <td>
                    <p:inputText id="percentSalesVolume" styleClass="right"
                                 onkeydown="return onKeyDownMoney(event);" onkeypress="return onKeyPressMoney(event);"
                                 value="#{bizInfoDetail.bizStakeHolderDetailView.percentSalesVolume}"
                                 required="#{not empty param[saveStakeholderBtn.clientId]}"
                                 readonly="#{bizInfoDetail.isDisabled('bizSupplier.percentBuyVolumn')}">
                        <f:convertNumber pattern="##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="3"/>
                        <f:validateDoubleRange maximum="100"/>
                        <p:ajax event="blur" update=":stakeholderViewDlgForm:percentSalesVolume"/>
                    </p:inputText>
                </td>
            </tr>
            <tr>
                <td class="title">
                    <h:outputText value="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.percentCash')}"/>
                    <h:outputText value="#{bizInfoDetail.mandate('bizSupplier.percentCash')}" styleClass="require-field"/>
                    <h:outputText value=" :"/>
                </td>
                <td>
                    <p:inputText id="percentCash" styleClass="right"
                                 onkeydown="return onKeyDownMoney(event);"
                                 onkeypress="return onKeyPressMoney(event);"
                                 value="#{bizInfoDetail.bizStakeHolderDetailView.percentCash}"
                                 required="#{not empty param[saveStakeholderBtn.clientId]}"
                                 readonly="#{bizInfoDetail.isDisabled('bizSupplier.percentCash')}">
                        <f:convertNumber pattern="##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="3"/>
                        <f:validateDoubleRange maximum="100"/>
                        <p:ajax event="blur" update=":stakeholderViewDlgForm:percentCash,:stakeholderViewDlgForm:percentCredit"
                                listener="#{bizInfoDetail.onCalCashCredit('stakeHolderDlg')}"/>
                    </p:inputText>
                </td>
            </tr>
            <tr>
                <td class="title">
                    <h:outputText value="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.percentCredit')}"/>
                    <h:outputText value="#{bizInfoDetail.mandate('bizSupplier.percentCredit')}" styleClass="require-field"/>
                    <h:outputText value=" :"/>
                </td>
                <td>
                    <p:inputText id="percentCredit" styleClass="right"
                                 value="#{bizInfoDetail.bizStakeHolderDetailView.percentCredit}"
                                 required="#{not empty param[saveStakeholderBtn.clientId]}"
                                 readonly="#{bizInfoDetail.isDisabled('bizSupplier.percentCredit')}">
                        <f:convertNumber pattern="##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="3"/>
                        <f:validateDoubleRange maximum="100"/>
                        <p:ajax event="blur" update=":stakeholderViewDlgForm:percentCredit"/>
                    </p:inputText>
                </td>
            </tr>
            <tr>
                <td class="title">
                    <h:outputText value="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.creditTerm')}"/>
                    <h:outputText value="#{bizInfoDetail.mandate('bizSupplier.creditTerm')}" styleClass="require-field"/>
                    <h:outputText value=" :"/>
                </td>
                <td>
                    <p:inputText id="creditTerm" styleClass="right"
                                 onkeydown="return onKeyDownNumber(event);" onkeypress="return onKeyPressNumber(event);"
                                 value="#{bizInfoDetail.bizStakeHolderDetailView.creditTerm}"
                                 required="#{not empty param[saveStakeholderBtn.clientId]}"
                                 readonly="#{bizInfoDetail.isDisabled('bizSupplier.creditTerm')}">
                        <f:convertNumber pattern="#,##0" integerOnly="true"/>
                        <p:ajax event="blur" update=":stakeholderViewDlgForm:creditTerm"/>
                    </p:inputText>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <p:spacer></p:spacer>
                </td>
            </tr>
            <tr>
                <td colspan="2" class="center">
                    <p:commandButton id="btnSaveStakeholderView"
                                     value="#{msg.get('app.button.ok')}"
                                     binding="#{saveStakeholderBtn}"
                                     process=":stakeholderViewDlgForm"
                                     action="#{bizInfoDetail.onSaveBizStakeHolderDetailView()}"
                                     update=":frmMain:supplierTable,:frmMain:buyerTable,:msgBoxSystemMessagePanel,:stakeholderViewDlgForm"
                                     oncomplete="handleFullappBizStakeHolderRequest(xhr, status, args)"/>

                    <p:commandButton type="button" value="#{msg.get('app.button.cancel')}"
                                     update=":stakeholderViewDlgForm"
                                     onclick="stakeholderViewDlg.hide()"/>

                </td>
            </tr>
        </table>
    </h:form>
    <p:blockUI block=":stakeholderViewDlgForm" trigger=":stakeholderViewDlgForm:btnSaveStakeholderView">
        LOADING<br/>
        <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
    </p:blockUI>
</ui:composition>