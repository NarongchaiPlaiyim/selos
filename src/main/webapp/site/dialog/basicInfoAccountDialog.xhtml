<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">
    <h:form id="basicInfoAccountDlgForm">
        <table class="content_form">
            <tr>
                <td class="title" style="width: 200px;">
                    <h:outputText value="#{msg.get('app.basicInfo.dialog.accountName')}"/>
                </td>
                <td style="width: 200px;">
                    <p:inputText value="#{basicInfo.basicInfoAccountView.accountName}"
                                 styleClass="larger #{basicInfo.accDlg}" required="true"/>
                                 <!--onkeypress="return onKeyPressText(event)" onkeydown="return onKeyDownText(event)"/>-->
                </td>
            </tr>
            <tr>
                <td class="title">
                    <h:outputText value="#{msg.get('app.basicInfo.dialog.accountType')}"/>
                </td>
                <td>
                    <p:selectOneMenu styleClass="largest #{basicInfo.accDlg}" size="1"
                                     value="#{basicInfo.basicInfoAccountView.bankAccountTypeView.id}" required="true">
                        <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                        <f:selectItems value="#{basicInfo.bankAccountTypeList}"
                                       var="oepnAccountType"
                                       itemLabel="#{oepnAccountType.name}"
                                       itemValue="#{oepnAccountType.id}"/>
                        <p:ajax event="change"
                                listener="#{basicInfo.onChangeAccountType}"
                                update=":basicInfoAccountDlgForm:accountProduct" />
                    </p:selectOneMenu>
                </td>
            </tr>
            <tr>
                <td class="title">
                    <h:outputText value="#{msg.get('app.basicInfo.dialog.product')}"/>
                </td>
                <td style="width: 300px;">
                    <p:selectOneMenu id="accountProduct" styleClass="largest #{basicInfo.accDlg}" size="1"
                                     value="#{basicInfo.basicInfoAccountView.product.id}"
                                     required="#{basicInfo.basicInfoAccountView.bankAccountTypeView.id != 0}">
                        <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                        <f:selectItems value="#{basicInfo.openAccountProductList}"
                                       var="oepnAccountProduct"
                                       itemLabel="#{oepnAccountProduct.name}"
                                       itemValue="#{oepnAccountProduct.id}"/>
                    </p:selectOneMenu>
                </td>
            </tr>

            <tr>
                <td class="title">
                    <h:outputText value="#{msg.get('app.basicInfo.dialog.purpose')}"/>
                </td>
                <td>
                    <p:dataGrid value="#{basicInfo.basicInfoAccountPurposeViewList}" var="purposeList" columns="1" style="border: 0" styleClass="#{basicInfo.accDlg}">
                        <p:column>
                            <h:selectBooleanCheckbox value="#{purposeList.selected}"/>
                            <h:outputText value="#{purposeList.purpose.name}"/>
                        </p:column>
                    </p:dataGrid>
                </td>
            </tr>

            <tr>
                <td class="center" colspan="2" style="margin-top: 20px;">
                    <p:commandButton id="dlgSaveBasicAccBtn"
                            value="#{msg.get('app.button.ok')}"
                            styleClass="small"
                            actionListener="#{basicInfo.onAddAccount}"
                            process="@form"
                            update=":basicInfoAccountDlgForm,:frmMain:resultTableOpeningAccount"
                            oncomplete="handleBasicInfoAccountRequest(xhr, status, args)"/>
                    <p:commandButton value="#{msg.get('app.button.cancel')}" styleClass="small"
                                     type="button" process="@this" update=":basicInfoAccountDlgForm"
                                     onclick="basicInfoAccountDlg.hide()"/>
                </td>
            </tr>
        </table>
    </h:form>
    <p:blockUI widgetVar="blockBasicInfoAccDlg" block="basicInfoAccountDlgForm" trigger=":basicInfoAccountDlgForm:dlgSaveBasicAccBtn">
        LOADING<br />
        <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
    </p:blockUI>
</ui:composition>