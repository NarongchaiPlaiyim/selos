<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">

<p:panel id="submitCaseUWDlgPanel" styleClass="panel-dialog">
    <p:panel id="submitCaseUW" styleClass="panel">
        <table class="content_table_form">
            <tr>
                <td colspan="2" class="title left">Submit CA</td>
            </tr>
            <tr>
                <td class="title left">UW2 DOA Level :</td>
                <td>
                    <p:selectOneMenu style="min-width: 234px; width: 234px; max-width: 234px;" size="1"
                                     value="#{headerController.selectedDOALevel}"
                                     required="#{not empty param[btnSubmitCaseUW.clientId]}">
                        <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                        <f:selectItems value="#{headerController.authorizationDOAList}"
                                       var="doaLevelItem"
                                       itemLabel="#{doaLevelItem.description}"
                                       itemValue="#{doaLevelItem.id}"/>
                        <p:ajax event="change" listener="#{headerController.onSelectedUWDOALevel()}" process="@form" update=":frmMain:uw2UserSelect"/>
                    </p:selectOneMenu>
                </td>
            </tr>
            <tr>
                <td class="title left">UW2 Name :</td>
                <td>
                    <p:selectOneMenu id="uw2UserSelect" style="min-width: 234px; width: 234px; max-width: 234px;" size="1"
                                     value="#{headerController.selectedUW2User}"
                                     required="#{not empty param[btnSubmitCaseUW.clientId]}">
                        <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                        <f:selectItems value="#{headerController.uw2UserList}"
                                       var="uw2Item"
                                       itemLabel="#{uw2Item.userName}"
                                       itemValue="#{uw2Item.id}"/>
                    </p:selectOneMenu>
                </td>
            </tr>
            <tr>
                <td class="title left">Submit Remark :</td>
                <td>
                    <p:inputTextarea value="#{headerController.submitRemark}"
                                     autoResize="false"
                                     cols="35"
                                     rows="5">
                    </p:inputTextarea>
                </td>
            </tr>
            <tr>
                <td colspan="2"><div class="separate"></div></td>
            </tr>
            <p:panel id="slaUWPanel" rendered="false">
                <tr>
                    <td class="title left">Reason for over SLA :</td>
                    <td>
                        <p:selectOneMenu style="min-width: 234px; width: 234px; max-width: 234px;" size="1"
                                         value="#{headerController.zmEndorseUserId}"
                                         required="#{not empty param[btnSubmitCaseUW.clientId]}">
                            <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                            <f:selectItems value="#{headerController.zmUserList}"
                                           var="zmItem"
                                           itemLabel="#{zmItem.id} - #{zmItem.userName}"
                                           itemValue="#{zmItem.id}"/>
                        </p:selectOneMenu>
                    </td>
                </tr>
                <tr>
                    <td class="title left">SLA Remark :</td>
                    <td>
                        <p:inputTextarea value="#{headerController.slaRemark}"
                                         autoResize="false"
                                         cols="35"
                                         rows="5">
                        </p:inputTextarea>
                    </td>
                </tr>
            </p:panel>
            <tr>
                <td colspan="2"></td>
            </tr>
            <tr>
                <td colspan="2" class="center">
                    <p:commandButton id="dlgSubmitCaseUWBtn"
                                     binding="#{btnSubmitCaseUW}"
                                     value="#{msg.get('app.button.submit')}"
                                     styleClass="small"
                                     actionListener="#{headerController.onSubmitUW2()}"
                                     oncomplete="handleSubmitUWDialogRequest(xhr, status, args)"
                                     process="@form"
                                     update=":frmMain:submitCaseUWDlgPanel :frmMain:msgBoxBaseMessagePanel :frmMain:msgBoxBaseRedirectPanel"/>
                    <p:commandButton value="#{msg.get('app.button.cancel')}" process="@this" type="button"
                                     styleClass="small" onclick="submitUWDlg.hide()"/>
                </td>
            </tr>
        </table>
    </p:panel>
</p:panel>
<p:blockUI widgetVar="blockSubmitCaseUWDlgPanel" block="submitCaseUWDlgPanel"
           trigger=":frmMain:dlgSubmitCaseUWBtn">
    <h:outputText value="#{msg.get('app.message.loading')}"/><br/>
    <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
</p:blockUI>
</ui:composition>