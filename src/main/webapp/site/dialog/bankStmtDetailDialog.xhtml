<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">

    <h:form id="bankStmtDetailDlgForm">

        <table class="content_table_form">
            <tr>
                <td class="title" style="width:250px;">
                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.countIncome')}"/>
                </td>
                <td>
                    <h:selectBooleanCheckbox id="countIncome" value="#{bankStatementSummary.selectBankStmt.notCountIncome}"/>
                    <p:spacer width="5" height="0"/>
                    <h:outputLabel for="countIncome" value="#{msg.get('app.bankStmtDetail.checkbox.isNotCountIncome')}"/>
                </td>
            </tr>
            <tr>
                <td class="title" style="width:250px;">
                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.bankName')}"/>
                </td>
                <td>
                    <h:selectOneListbox size="1" value="#{bankStatementSummary.selectBankStmt.bankView.code}">
                        <f:selectItems value="#{bankStatementSummary.bankViewList}" var="bank"
                                       itemLabel="#{bank.bankName}" itemValue="#{bank.code}"/>
                    </h:selectOneListbox>
                </td>
            </tr>
            <tr>
                <td class="title" style="width:250px;">
                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.branchName')}"/>
                </td>
                <td>
                    <p:inputText value="#{bankStatementSummary.selectBankStmt.branchName}"
                                 styleClass="large"/>
                </td>
            </tr>
            <tr>
                <td class="title" style="width:250px;">
                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.accountType')}"/>
                </td>
                <td>
                    <h:selectOneListbox size="1" value="#{bankStatementSummary.selectBankStmt.bankAccountTypeView.id}"
                                        style="width:160px;">
                        <f:selectItems value="#{bankStatementSummary.bankAccTypeViewList}" var="bankAccType"
                                       itemLabel="#{bankAccType.name}" itemValue="#{bankAccType.id}"/>
                    </h:selectOneListbox>
                    <p:spacer width="50" height="0"/>

                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.otherType')}" styleClass="title"/>
                    <p:spacer width="10" height="0"/>
                    <h:selectOneListbox size="1" value="#{bankStatementSummary.selectBankStmt.otherAccountType}"
                                        style="width:160px;">
                        <f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue="0"/>
                        <f:selectItems value="#{bankStatementSummary.othBankAccTypeViewList}" var="othBankAccType"
                                       itemLabel="#{othBankAccType.name}" itemValue="#{othBankAccType.id}"/>
                    </h:selectOneListbox>
                </td>
            </tr>
            <tr>
                <td class="title" style="width:250px;">
                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.accountNo')}"/>
                </td>
                <td>
                    <p:inputText value="#{bankStatementSummary.selectBankStmt.accountNumber}"
                                 styleClass="large"/>
                </td>
            </tr>
            <tr>
                <td class="title" style="width:250px;">
                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.accountName')}"/>
                </td>
                <td>
                    <p:inputText value="#{bankStatementSummary.selectBankStmt.accountName}"
                                 styleClass="large"/>
                </td>
            </tr>
            <tr>
                <td class="title" style="width:250px;">
                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.accountStatus')}"/>
                </td>
                <td>
                    <h:selectOneListbox size="1" value="#{bankStatementSummary.selectBankStmt.accountStatusView.id}">
                        <f:selectItems value="#{bankStatementSummary.accStatusViewList}" var="accStatus"
                                       itemLabel="#{accStatus.status}" itemValue="#{accStatus.id}"/>
                    </h:selectOneListbox>
                </td>
            </tr>
            <tr>
                <td class="title" style="width:250px;">
                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.accountCharacteristic')}"/>
                </td>
                <td>
                    <h:selectOneRadio value="#{bankStatementSummary.selectBankStmt.accountCharacteristic}">
                        <f:selectItems value="#{bankStatementSummary.relationViewList}" var="relation"
                                       itemLabel="#{relation.description}" itemValue="#{relation.id}"/>
                        <!--<f:selectItem itemLabel="#{msg.get('app.bankStmtDetail.radio.borrowersAccount')}" itemValue="1"/>-->
                        <!--<f:selectItem itemLabel="#{msg.get('app.bankStmtDetail.radio.mainDirectorAccount')}" itemValue="2"/>-->
                        <!--<f:selectItem itemLabel="#{msg.get('app.bankStmtDetail.radio.confederateAccount')}" itemValue="3"/>-->
                    </h:selectOneRadio>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <table>
                        <tr>
                            <td class="right" style="font-weight:bold;">
                                <h:outputText value="#{msg.get('app.bankStmtDetail.bahtUnit')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                            <!-- Bank statement detail Table -->
                            <table class="ui-datatable" style="float:left;">
                            <thead>
                                <tr>
                                    <th class="ui-state-default"></th>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item">
                                        <th class="ui-state-default">
                                            <h:outputText value="#{item.asOfDate}">
                                                <f:convertDateTime pattern="MMM yyyy" locale="en"/>
                                            </h:outputText>
                                        </th>
                                    </ui:repeat>
                                </tr>
                            </thead>
                            <tbody class="ui-datatable-data ui-widget-content" style="background:none;">
                                <tr>
                                    <td class="left" style="background:none;">#{msg.get('app.bankStmtDetail.table.row.overLimitAmount')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.overLimitAmount}" styleClass="right">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.calSwingAndUtilization()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.grossCreditBalance')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.grossCreditBalance}" styleClass="right">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.calAverages()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.numberOfCreditTxn')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.numberOfCreditTxn}" styleClass="right"/>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td colspan="#{bankStatementSummary.numberOfMonths + 1}" class="cell_spacer"></td>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.excludeListBDM')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.excludeListBDM}" styleClass="right">
                                                <f:convertNumber pattern="#,##0.0" minFractionDigits="1" maxFractionDigits="1" maxIntegerDigits="14"/>
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.calAverages()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.excludeListUW')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.excludeListUW}" styleClass="right">
                                                <f:convertNumber pattern="#,##0.0" minFractionDigits="1" maxFractionDigits="1" maxIntegerDigits="14"/>
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.calAverages()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.creditAmountBDM')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.creditAmountBDM}" styleClass="right"
                                                         readonly="true">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.creditAmountUW')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.creditAmountUW}" styleClass="right"
                                                         readonly="true">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.timesOfAvgCreditBDM')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.timesOfAvgCreditBDM}" styleClass="right"
                                                         readonly="true">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.timesOfAvgCreditUW')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.timesOfAvgCreditUW}" styleClass="right"
                                                         readonly="true">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td colspan="#{bankStatementSummary.numberOfMonths + 1}" class="cell_spacer"></td>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.debitAmount')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.debitAmount}" styleClass="right">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.calAvgWithdrawAmount()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.numberOfDebitTxn')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.numberOfDebitTxn}" styleClass="right"/>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td colspan="#{bankStatementSummary.numberOfMonths + 1}" class="cell_spacer"></td>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.highestBalanceDate')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:calendar id="calendarId" maxdate="#{bankStatementSummary.currentDate}" navigator="true" showButtonPanel="true"
                                                        value="#{item.highestBalanceDate}"
                                                        pattern="dd/MM/yyyy"
                                                        locale="th_TH"
                                                        timeZone="Asia/Bangkok"
                                                        yearRange="2440:3000"
                                                        styleClass="calendar_right">
                                                <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                            </p:calendar>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.highestBalance')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.highestBalance}" styleClass="right">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.calSwingAndUtilization()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.lowestBalanceDate')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:calendar id="calendarId" maxdate="#{bankStatementSummary.currentDate}" navigator="true" showButtonPanel="true"
                                                        value="#{item.lowestBalanceDate}"
                                                        pattern="dd/MM/yyyy"
                                                        locale="th_TH"
                                                        timeZone="Asia/Bangkok"
                                                        yearRange="2440:3000"
                                                        styleClass="calendar_right">
                                                <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                            </p:calendar>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.lowestBalance')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.lowestBalance}" styleClass="right">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.calSwingAndUtilization()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.monthBalance')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.monthEndBalance}" styleClass="right">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.calSwingAndUtilization()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td colspan="#{bankStatementSummary.numberOfMonths + 1}" class="cell_spacer"></td>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.numberOfChequeReturn')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.numberOfChequeReturn}" styleClass="right">
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.sumNumberOfChequeReturn()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.chequeReturnAmount')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.chequeReturnAmount}" styleClass="right">
                                                <f:convertNumber pattern="#,##0.0" minFractionDigits="1" maxFractionDigits="1" maxIntegerDigits="14"/>
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.calAverages()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.overLimitTimes')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.overLimitTimes}" styleClass="right">
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.sumOverLimitTimes()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.overLimitDays')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.overLimitDays}" styleClass="right">
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.maxOverLimitDays()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.swingPercent')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.swingPercent}" styleClass="right"
                                                         readonly="true">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.utilizationPercent')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.utilizationPercent}" styleClass="right"
                                                         readonly="true">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td colspan="#{bankStatementSummary.numberOfMonths + 1}" class="cell_spacer"></td>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.grossInflowPerLimit')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.grossInflowPerLimit}" styleClass="right">
                                                <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="14"/>
                                                <p:ajax event="change" update=":bankStmtDetailDlgForm" process="@form"
                                                        listener="#{bankStatementSummary.calAvgGrossInflowPerLimit()}"/>
                                            </p:inputText>
                                        </td>
                                    </ui:repeat>
                                </tr>
                                <tr>
                                    <td class="left">#{msg.get('app.bankStmtDetail.table.row.totalTransaction')}</td>
                                    <ui:repeat value="#{bankStatementSummary.selectBankStmt.bankStmtDetailViewList}" var="item" varStatus="i">
                                        <td class="center"
                                            style="#{i.index + 1 le (bankStatementSummary.numberOfMonths / 2) ? 'background-color:#cccccc' : ''}">
                                            <p:inputText value="#{item.totalTransaction}" styleClass="right"/>
                                        </td>
                                    </ui:repeat>
                                </tr>
                            </tbody>
                            </table>
                            <!-- End Bank statement detail Table -->
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td colspan="2" style="height:28px;"></td>
            </tr>

            <tr>
                <td colspan="2">
                    <p:panel id="avgPanel" styleClass="panel" style="font-size:12px;">
                        <table>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.avgIncomeGross')}"/>
                                </td>
                                <td>
                                    <p:inputText id="avgIncomeGross"
                                                 value="#{bankStatementSummary.selectBankStmt.avgIncomeGross}"
                                                 styleClass="right" style="width:150px;" readonly="true">
                                        <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2"
                                                         maxIntegerDigits="14"/>
                                    </p:inputText>
                                </td>
                            </tr>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.avgIncomeNetBDM')}"/>
                                </td>
                                <td>
                                    <p:inputText id="avgIncomeNetBDM"
                                                 value="#{bankStatementSummary.selectBankStmt.avgIncomeNetBDM}"
                                                 styleClass="right" style="width:150px;" readonly="true">
                                        <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2"
                                                         maxIntegerDigits="14"/>
                                    </p:inputText>
                                </td>
                            </tr>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.avgIncomeNetUW')}"/>
                                </td>
                                <td>
                                    <p:inputText id="avgIncomeNetUW"
                                                 value="#{bankStatementSummary.selectBankStmt.avgIncomeNetUW}"
                                                 styleClass="right" style="width:150px;" readonly="true">
                                        <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2"
                                                         maxIntegerDigits="14"/>
                                    </p:inputText>
                                </td>
                            </tr>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.avgWithdrawAmount')}"/>
                                </td>
                                <td>
                                    <p:inputText id="avgWithDrawAmount"
                                                 value="#{bankStatementSummary.selectBankStmt.avgWithDrawAmount}"
                                                 styleClass="right" style="width:150px;" readonly="true">
                                        <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2"
                                                         maxIntegerDigits="14"/>
                                    </p:inputText>
                                </td>
                            </tr>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.swingPercent')}"/>
                                </td>
                                <td>
                                    <p:inputText id="swingPercent"
                                                 value="#{bankStatementSummary.selectBankStmt.swingPercent}"
                                                 styleClass="right" style="width:150px;" readonly="true">
                                        <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2"
                                                         maxIntegerDigits="14"/>
                                    </p:inputText>
                                </td>
                            </tr>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.utilizationPercent')}"/>
                                </td>
                                <td>
                                    <p:inputText id="utilizationPercent"
                                                 value="#{bankStatementSummary.selectBankStmt.utilizationPercent}"
                                                 styleClass="right" style="width:150px;" readonly="true">
                                        <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2"
                                                         maxIntegerDigits="14"/>
                                    </p:inputText>
                                </td>
                            </tr>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.avgGrossInflowPerLimit')}"/>
                                </td>
                                <td>
                                    <p:inputText id="avgGrossInflowPerLimit"
                                                 value="#{bankStatementSummary.selectBankStmt.avgGrossInflowPerLimit}"
                                                 styleClass="right" style="width:150px;" readonly="true">
                                        <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2"
                                                         maxIntegerDigits="14"/>
                                    </p:inputText>
                                </td>
                            </tr>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.chequeReturn')}"/>
                                </td>
                                <td>
                                    <p:inputText id="chequeReturn"
                                                 value="#{bankStatementSummary.selectBankStmt.chequeReturn}"
                                                 styleClass="right" style="width:150px;" readonly="true"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.trdChequeReturnAmount')}"/>
                                </td>
                                <td>
                                    <p:inputText id="trdChequeReturnAmount"
                                                 value="#{bankStatementSummary.selectBankStmt.trdChequeReturnAmount}"
                                                 styleClass="right" style="width:150px;" readonly="true">
                                        <f:convertNumber pattern="#,##0.00" minFractionDigits="2" maxFractionDigits="2"
                                                         maxIntegerDigits="14"/>
                                    </p:inputText>
                                </td>
                            </tr>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.overLimitTimes')}"/>
                                </td>
                                <td>
                                    <p:inputText id="overLimitTimes"
                                                 value="#{bankStatementSummary.selectBankStmt.overLimitTimes}"
                                                 styleClass="right" style="width:150px;" readonly="true"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="title" style="width:250px;">
                                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.overLimitDays')}"/>
                                </td>
                                <td>
                                    <p:inputText id="overLimitDays"
                                                 value="#{bankStatementSummary.selectBankStmt.overLimitDays}"
                                                 styleClass="right" style="width:150px;" readonly="true"/>
                                </td>
                            </tr>
                        </table>
                    </p:panel>
                </td>
            </tr>

            <tr>
                <td class="title" style="width:250px;">
                    <h:outputText value="#{msg.get('app.bankStmtDetail.label.remark')}"/>
                </td>
                <td>
                    <p:inputTextarea value="#{bankStatementSummary.selectBankStmt.remark}" cols="100"/>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <div class="separate"></div>
                </td>
            </tr>
            <tr>
                <td colspan="2" class="center">
                    <p:commandButton id="saveBtnBankStmtDetailDlg" value="#{msg.get('app.button.save')}"
                                     actionListener="#{bankStatementSummary.onSaveBankStmt()}"
                                     process="@form"
                                     update=":bankStmtDetailDialog,:frmMain,:msgBoxSystemMessagePanel"
                                     oncomplete="handleDialogRequest(xhr, status, args, 'bankStmtDetailDlg')"
                                     styleClass="small"/>
                    <p:spacer width="5" height="0"/>
                    <p:commandButton type="button" value="#{msg.get('app.button.cancel')}"
                                     onclick="bankStmtDetailDlg.hide()"
                                     styleClass="small"/>
                </td>
            </tr>
        </table>

    </h:form>
    <p:blockUI widgetVar="blockBankStmtDetailDlg" block="bankStmtDetailDlgForm"
               trigger=":bankStmtDetailDlgForm:saveBtnBankStmtDetailDlg">
        LOADING<br/>
        <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
    </p:blockUI>
</ui:composition>