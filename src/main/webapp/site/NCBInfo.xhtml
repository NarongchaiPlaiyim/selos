<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui" >

<h:head>
    <title>SE-LOS : NCB Record Detail</title>
    <h:outputStylesheet name="css/style.css"/>
    <h:outputScript library="js" name="jquery.ui.datepicker.min.js" />
    <h:outputScript library="js" name="custom.js"/>
    <style type="text/css">
        .ui-datatable td, .ui-datatable th, .ui-datatable span {
            white-space: normal !important;
        }
    </style>
</h:head>

<h:body>
<p:panel id="pnl_maincontainer">
    <h:form id="frmMain">
        <div id="main_container">
            <!-- Start Header Logo -->
            <ui:include src="include/header_logo.xhtml"/>
            <!-- End Header Logo -->
            <!-- Start Header Detail -->
            <ui:include src="include/header_detail.xhtml"/>
            <!-- End Header Detail -->
            <!-- Start Menu -->
            <ui:include src="include/menubar.xhtml"/>
            <!-- End Menu -->
            <div id="content_container">
                <div id="content_name"><h:outputText value="#{msg.get('app.ncbDetail.ncbRecordDetail')}"/></div>
                <div id="content">
                    <div id="content_info">
                        <div id="content_trackchange" title="Click to view Track Change">[ View Track Change ]</div>
                        <div id="content_lastupdate">Last update by <h:outputText value="#{ncbInfo.ncbInfoView.modifyBy.userName}"/>,
                            <h:outputText value="#{ncbInfo.ncbInfoView.modifyDate}"/></div>
                    </div>
                    <div id="content_form">
                    <!-- start content -->
                    <table class="content_table_form">
                        <tr>
                            <td style="padding-left: 10px;">
                                <table>
                                    <tr>
                                        <td class="title left" colspan="2">
                                            <h:outputText value="#{msg.get('app.ncbDetail.ncbSummaryResult')}"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title" style="min-width:250px;width: 250px;max-width:250px;">
                                            <h:outputText value="#{msg.get('app.ncbDetail.ncbCheckingDate')}"/>
                                            <h:outputText value="#{ncbInfo.mandate('ncbCheckingDate')}" styleClass="require-field"/>
                                            <h:outputText value=" :"/>
                                        </td>
                                        <td>
                                            <p:inputText id="checkingDate"
                                                         value="#{ncbInfo.ncbInfoView.enquiryDate}"
                                                         readonly="#{ncbInfo.isDisabled('ncbCheckingDate')}"
                                                         styleClass="largest">
                                                <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                            </p:inputText>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">
                                            <h:outputText value="#{msg.get('app.ncbDetail.noOfNCBCheckIn6months')}"/>
                                            <h:outputText value="#{ncbInfo.mandate('noOfNCBCheckIn6months')}" styleClass="require-field"/>
                                            <h:outputText value=" :"/>
                                        </td>
                                        <td>
                                            <p:inputText value="#{ncbInfo.ncbInfoView.checkIn6Month}"
                                                         readonly="#{ncbInfo.isDisabled('noOfNCBCheckIn6months')}"
                                                         styleClass="left largest"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">
                                            <h:outputText value="#{msg.get('app.ncbDetail.paymentClass')}"/>
                                            <h:outputText value="#{ncbInfo.mandate('ncbAccountStatusTMB')}" styleClass="require-field"/>
                                            <h:outputText value=" :"/>
                                        </td>
                                        <td>
                                            <p:inputText value="#{ncbInfo.ncbInfoView.paymentClass}"
                                                         readonly="#{ncbInfo.isDisabled('ncbAccountStatusTMB')}"
                                                         styleClass="left largest"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">
                                            <h:outputText value="#{msg.get('app.ncbDetail.typeOfCurrentPayment')}"/>
                                            <h:outputText value="#{ncbInfo.mandate('typeOfCurrentPayment')}" styleClass="require-field"/>
                                            <h:outputText value=" :"/>
                                        </td>
                                        <td>
                                            <p:inputText value="#{ncbInfo.ncbInfoView.currentPaymentType}"
                                                         readonly="#{ncbInfo.isDisabled('typeOfCurrentPayment')}"
                                                         styleClass="largest"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">
                                            <h:outputText value="#{msg.get('app.ncbDetail.typeOfHistoryPayment')}"/>
                                            <h:outputText value="#{ncbInfo.mandate('typeOfHistoryPayment')}" styleClass="require-field"/>
                                            <h:outputText value=" :"/>
                                        </td>
                                        <td>
                                            <p:inputText value="#{ncbInfo.ncbInfoView.historyPaymentType}"
                                                         readonly="#{ncbInfo.isDisabled('typeOfHistoryPayment')}"
                                                         styleClass="largest"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">
                                            <h:outputText value="#{msg.get('app.ncbDetail.NPLFlag')}"/>
                                            <h:outputText value="#{ncbInfo.mandate('NPLFlag')}" styleClass="require-field"/>
                                            <h:outputText value=" :"/>
                                        </td>
                                        <td>
                                            <table>
                                                <tr>
                                                    <td>
                                                        <h:selectOneRadio id="NPLFlag"
                                                                          value="#{ncbInfo.ncbInfoView.nplFlag}"
                                                                          disabled="#{ncbInfo.isDisabled('NPLFlag')}">
                                                            <f:selectItem itemLabel="Yes" itemValue="2"/>
                                                            <f:selectItem itemLabel="No" itemValue="1"/>
                                                            <p:ajax event="click"
                                                                    listener="#{ncbInfo.toControlNplFlagRendered()}"
                                                                    process=":frmMain:NPLFlag"
                                                                    update=":frmMain"/>
                                                        </h:selectOneRadio>
                                                    </td>
                                                    <p:panel styleClass="panel" rendered="#{ncbInfo.nplRendered}">
                                                        <td>
                                                            <p:spacer width="10px;" height="20px;"/>
                                                            <h:selectBooleanCheckbox value="#{ncbInfo.ncbInfoView.nplTMBFlag}"
                                                                                     disabled="#{ncbInfo.isDisabled('isNPLwithTMB')}"/>
                                                        </td>
                                                        <td>
                                                            <p:spacer width="10px;" height="20px;"/>
                                                            <h:outputLabel value="#{msg.get('app.ncbDetail.isNPLwithTMB')}"/>
                                                            <h:outputText value="#{ncbInfo.mandate('isNPLwithTMB')}" styleClass="require-field"/>
                                                            <h:outputText value=" :"/>
                                                        </td>
                                                        <td>
                                                            <p:inputText id="nplTMBMonth"
                                                                         styleClass="medium"
                                                                         readonly="#{ncbInfo.isDisabled('TMBNPLMonth')}"
                                                                         value="#{ncbInfo.ncbInfoView.nplTMBMonthStr}"/>
                                                        </td>
                                                        <td>
                                                            <p:inputText id="nplTMBYear"
                                                                         styleClass="small"
                                                                         readonly="#{ncbInfo.isDisabled('TMBNPLYear')}"
                                                                         value="#{ncbInfo.ncbInfoView.nplTMBYear}"/>
                                                        </td>
                                                        <td>
                                                            <p:spacer width="10px;" height="20px;"/>
                                                            <h:selectBooleanCheckbox
                                                                    value="#{ncbInfo.ncbInfoView.nplOtherFlag}"
                                                                    disabled="#{ncbInfo.isDisabled('isNPLwithOther')}"/>
                                                        </td>
                                                        <td>
                                                            <p:spacer width="10px;" height="20px;"/>
                                                            <h:outputLabel value="#{msg.get('app.ncbDetail.isNPLwithOther')}"/>
                                                            <h:outputText value="#{ncbInfo.mandate('isNPLwithOther')}" styleClass="require-field"/>
                                                            <h:outputText value=" :"/>
                                                        </td>
                                                        <td>
                                                            <p:inputText id="nplOtherMonth"
                                                                         styleClass="medium"
                                                                         readonly="#{ncbInfo.isDisabled('OtherNPLMonth')}"
                                                                         value="#{ncbInfo.ncbInfoView.nplOtherMonthStr}"/>
                                                        </td>
                                                        <td>
                                                            <p:inputText id="nplOtherYear"
                                                                         styleClass="small"
                                                                         readonly="#{ncbInfo.isDisabled('OtherNPLYear')}"
                                                                         value="#{ncbInfo.ncbInfoView.nplOtherYear}"/>
                                                        </td>
                                                    </p:panel>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">
                                            <h:outputText value="#{msg.get('app.ncbDetail.TDRFlag')}"/>
                                            <h:outputText value="#{ncbInfo.mandate('TDRFlag')}" styleClass="require-field"/>
                                            <h:outputText value=" :"/>
                                        </td>
                                        <td>
                                            <table>
                                                <tr>
                                                    <td>
                                                        <h:selectOneRadio id="tdrFlag"
                                                                          value="#{ncbInfo.ncbInfoView.tdrFlag}"
                                                                          disabled="#{ncbInfo.isDisabled('TDRFlag')}">
                                                            <f:selectItem itemLabel="Yes" itemValue="2"/>
                                                            <f:selectItem itemLabel="No" itemValue="1"/>
                                                            <p:ajax event="click"
                                                                    listener="#{ncbInfo.toControlTdrFlagRendered()}"
                                                                    process=":frmMain:tdrFlag"
                                                                    update=":frmMain"/>
                                                        </h:selectOneRadio>
                                                    </td>
                                                    <p:panel styleClass="panel" rendered="#{ncbInfo.tdrRendered}">
                                                        <td>
                                                            <p:spacer width="10px;" height="20px;"/>
                                                            <h:selectBooleanCheckbox value="#{ncbInfo.ncbInfoView.tdrTMBFlag}"
                                                                                     disabled="#{ncbInfo.isDisabled('isTDRwithTMB')}"/>
                                                        </td>
                                                        <td>
                                                            <p:spacer width="10px;" height="20px;"/>
                                                            <h:outputLabel value="#{msg.get('app.ncbDetail.isTDRwithTMB')}"/>
                                                            <h:outputText value="#{ncbInfo.mandate('isTDRwithTMB')}" styleClass="require-field"/>
                                                            <h:outputText value=" :"/>
                                                        </td>
                                                        <td>
                                                            <p:selectOneMenu value="#{ncbInfo.ncbInfoView.tdrTMBMonth}"
                                                                             disabled="#{ncbInfo.isDisabled('TMBTDRMonth')}">
                                                                <f:selectItem itemLabel="" itemValue="0"/>
                                                                <f:selectItems value="#{ncbInfo.statMonths}"
                                                                               var="MonthList"
                                                                               itemValue="#{MonthList.value}"
                                                                               itemLabel="#{MonthList.nameTH}"/>
                                                            </p:selectOneMenu>
                                                        </td>
                                                        <td>
                                                            <p:selectOneMenu value="#{ncbInfo.ncbInfoView.tdrTMBYear}"
                                                                             disabled="#{ncbInfo.isDisabled('TMBTDRYear')}">
                                                                <f:selectItem itemLabel="" itemValue="0"/>
                                                                <f:selectItems value="#{ncbInfo.yearList}"/>
                                                            </p:selectOneMenu>
                                                        </td>
                                                        <td>
                                                            <p:spacer width="10px;" height="20px;"/>
                                                            <h:selectBooleanCheckbox value="#{ncbInfo.ncbInfoView.tdrOtherFlag}"
                                                                                     disabled="#{ncbInfo.isDisabled('isTDRwithOther')}"/>
                                                        </td>
                                                        <td>
                                                            <p:spacer width="10px;" height="20px;"/>
                                                            <h:outputLabel value="#{msg.get('app.ncbDetail.isTDRwithOther')}"/>
                                                            <h:outputText value="#{ncbInfo.mandate('isTDRwithOther')}" styleClass="require-field"/>
                                                            <h:outputText value=" :"/>
                                                        </td>
                                                        <td>
                                                            <p:selectOneMenu value="#{ncbInfo.ncbInfoView.tdrOtherMonth}"
                                                                             disabled="#{ncbInfo.isDisabled('OtherTDRMonth')}">
                                                                <f:selectItem itemLabel="" itemValue="0"/>
                                                                <f:selectItems value="#{ncbInfo.statMonths}"
                                                                               var="MonthList"
                                                                               itemValue="#{MonthList.value}"
                                                                               itemLabel="#{MonthList.nameTH}"/>
                                                            </p:selectOneMenu>
                                                        </td>
                                                        <td>
                                                            <p:selectOneMenu value="#{ncbInfo.ncbInfoView.tdrOtherYear}"
                                                                             disabled="#{ncbInfo.isDisabled('OtherTDRYear')}">
                                                                <f:selectItem itemLabel="" itemValue="0"/>
                                                                <f:selectItems value="#{ncbInfo.yearList}"/>
                                                            </p:selectOneMenu>
                                                        </td>
                                                    </p:panel>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">
                                            <h:outputText value="#{msg.get('app.ncbDetail.TDRPaymentCondition')}"/>
                                            <h:outputText value="#{ncbInfo.mandate('TDRPaymentCondition')}" styleClass="require-field"/>
                                            <h:outputText value=" :"/>
                                        </td>
                                        <td>
                                            <p:selectOneMenu id="dlgSattlementStatus" style="min-width:200px;width: 200px;max-width:200px;" size="1"
                                                             value="#{ncbInfo.ncbInfoView.tdrCondition.id}"
                                                             disabled="#{ncbInfo.isDisabled('TDRPaymentCondition')}">
                                                <f:selectItem itemLabel="" itemValue="0"/>
                                                <f:selectItems value="#{ncbInfo.tdrConditionList}"
                                                                var="dlgTDRConditionList"
                                                                itemLabel="#{dlgTDRConditionList.description}"
                                                                itemValue="#{dlgTDRConditionList.id}"/>
                                            </p:selectOneMenu>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title top">
                                            <h:outputText value="#{msg.get('app.ncbDetail.remark')}"/>
                                            <h:outputText value="#{ncbInfo.mandate('remark')}" styleClass="require-field"/>
                                            <h:outputText value=" :"/>
                                        </td>
                                        <td>
                                            <p:inputTextarea id="ncbRemark" cols="60" rows="3"
                                                             value="#{ncbInfo.ncbInfoView.remark}"
                                                             readonly="#{ncbInfo.isDisabled('remark')}"/>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="separate"></div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <p:commandButton id="btnAdd" value="#{msg.get('app.button.add')}" styleClass="smaller"
                                                 process="@this"
                                                 actionListener="#{ncbInfo.onAddNcbRecord}"
                                                 update=":ncbDlgForm"
                                                 oncomplete="ncbDlg.show();">
                                    <p:resetInput target=":ncbDlgForm"/>
                                </p:commandButton>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <table class="content_table_form" style="width:90%">
                                    <tr>
                                        <td>
                                            <p:dataTable id="resultNcbDetail" var="item" value="#{ncbInfo.ncbDetailViewList}"
                                                         rowKey="#{item.ncbDetailView}" rowIndexVar="rowIndex">
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.no')}" style="min-width: 30px; width: 30px; max-width: 30px;">
                                                    <div class="center"><h:outputText value="#{rowIndex+1}"/></div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.loanAccountType')}" style="min-width: 130px; width: 130px; max-width: 130px;">
                                                    <div class="center"><h:outputText value="#{item.accountType.name}"/></div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.isTMBAccount')}" style="min-width: 35px; width: 35px; max-width: 35px;">
                                                    <div class="center"><h:selectBooleanCheckbox value="#{item.tmbCheck}" disabled="true"/></div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.loanAccountStatus')}" style="min-width: 130px; width: 130px; max-width: 130px;">
                                                    <div class="center"><h:outputText value="#{item.accountStatus.name}"/></div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.InfoAsOfDate')}" style="min-width:80px; width:80px; max-width: 80px;">
                                                    <div class="center">
                                                        <h:outputText value="#{item.dateOfInfo}">
                                                            <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                                        </h:outputText>
                                                    </div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.accountOpenDate')}" style="min-width:80px; width:80px; max-width: 80px;">
                                                    <div class="center">
                                                        <h:outputText value="#{item.accountOpenDate}">
                                                            <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                                        </h:outputText>
                                                    </div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.limit')}" style="min-width:100px; width:100px; max-width: 100px;">
                                                    <div class="right">
                                                        <h:outputText value="#{item.limit}">
                                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                        </h:outputText>
                                                    </div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.outstanding')}" style="min-width:120px;width:120px;max-width: 120px;">
                                                    <div class="right">
                                                        <h:outputText value="#{item.outstanding}">
                                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                        </h:outputText>
                                                    </div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.installment')}" style="min-width:120px; width:120px; max-width: 120px;">
                                                    <div class="right">
                                                        <h:outputText value="#{item.installment}">
                                                            <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                                        </h:outputText>
                                                    </div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.dateOfDebtRestructuring')}" style="min-width:140px; width:140px; max-width: 140px;">
                                                    <div class="center">
                                                        <h:outputText value="#{item.dateOfDebtRestructuring}">
                                                            <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                                        </h:outputText>
                                                    </div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.typeOfCurrentPayment')}" style="min-width:180px; width:180px; max-width: 180px;">
                                                    <div class="center"><h:outputText value="#{item.currentPayment.name}"/></div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.typeOfHistoryPayment')}" style="min-width:180px; width:180px; max-width: 180px;">
                                                    <div class="center"><h:outputText value="#{item.historyPayment.name}"/></div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.noOfOutstandingPaymentIn12months')}" style="min-width:110px; width:110px; max-width: 110px;">
                                                    <div class="center"><h:outputText value="#{item.noOfOutstandingPaymentIn12months}"/></div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.noOfOverLimit')}" style="min-width:60px; width:60px; max-width: 60px;">
                                                    <div class="center"><h:outputText value="#{item.noOfOverLimit}"/></div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.refinanceFlag')}" style="min-width:80px; width:80px; max-width: 80px;">
                                                    <div class="center"><h:selectBooleanCheckbox value="#{item.refinanceCheck}"/></div>
                                                </p:column>
                                                <p:column headerText="#{msg.get('app.ncbDetail.table.label.wcFlag')}" style="min-width:50px; width:50px; max-width: 50px;">
                                                    <div class="center"><h:selectBooleanCheckbox value="#{item.wcCheck}"/></div>
                                                </p:column>
                                                <p:column style="min-width:30px; width:60px; max-width: 60px;">
                                                    <p:commandButton title="Edit" icon="ui-icon-pencil"
                                                                     rendered="#{item.canToEdit}"
                                                                     action="#{ncbInfo.onEditNcbDetail()}"
                                                                     process="@form" update=":ncbDlgForm"
                                                                     onclick="PF('blockNCB').show()"
                                                                     oncomplete="ncbDlg.show(); blockNCB.hide();">
                                                        <f:setPropertyActionListener value="#{item}" target="#{ncbInfo.selectNcbRecordItem}"/>
                                                        <f:setPropertyActionListener value="#{rowIndex}" target="#{ncbInfo.rowIndex}"/>
                                                        <p:resetInput target=":ncbDlgForm" />
                                                    </p:commandButton>
                                                    <p:commandButton title="Remove" icon="ui-icon-trash"
                                                                     rendered="#{item.canToEdit}"
                                                                     oncomplete="confirmDeleteNcbRecordDlg.show()">
                                                        <f:setPropertyActionListener value="#{item}" target="#{ncbInfo.selectNcbRecordItem}"/>
                                                    </p:commandButton>
                                                </p:column>
                                            </p:dataTable>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" class="center">
                                <p:commandButton id="btnSave"
                                                 value="#{msg.get('app.button.save')}"
                                                 styleClass="medium"
                                                 process="@form"
                                                 action="#{ncbInfo.onSaveNcb()}"
                                                 update=":frmMain, :msgBoxSystemMessagePanel"
                                                 disabled="#{ncbInfo.isDisabled('saveButton')}"/>
                                <p:commandButton id="btnCancel"
                                                 value="#{msg.get('app.button.cancel')}"
                                                 styleClass="medium"
                                                 process="@this"
                                                 action="#{ncbInfo.onCancelNcbInfo()}"
                                                 update=":frmMain"
                                                 disabled="#{ncbInfo.isDisabled('cancelButton')}"/>
                            </td>
                        </tr>
                    </table>
                    <!-- end content -->
                    </div>
                </div>
                <div id="bottom_line"><!-- --></div>
            </div>
            <div class="clear"></div>
            <!-- Start Footer -->
            <ui:include src="include/footer.xhtml"/>
            <!-- End Footer -->
        </div>
        <p:blockUI widgetVar="blockNCB" block=":frmMain" trigger=":frmMain:btnSave,:frmMain:btnCancel">
            LOADING<br/>
            <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
        </p:blockUI>
    </h:form>
</p:panel>

<p:dialog id="ncbDialog" header="NCB Record Information" widgetVar="ncbDlg"
          closeOnEscape="false" modal="true"
          onShow="hideWindowsScrollBar()" onHide="showWindowsScrollBar()" height="500">
    <ui:include src="dialog/NCBDetailDialog.xhtml"/>
</p:dialog>

<ui:include src="dialog/confirmDeleteDlg.xhtml">
    <ui:param name="id" value="confirmDeleteNcbRecordDialog"/>
    <ui:param name="name" value="confirmDeleteNcbRecordDlg"/>
    <ui:param name="formId" value="frmConfirmDeleteNcbRecord"/>
    <ui:param name="controller" value="#{ncbInfo}"/>
    <ui:param name="action" value="onDeleteNcbDetail"/>
    <ui:param name="update" value=":frmMain"/>
</ui:include>

<p:panel id="msgBoxSystemMessagePanel" styleClass="panel">
    <p:confirmDialog id="msgBoxSystemMessageDialog" widgetVar="msgBoxSystemMessageDlg"
                     header="#{ncbInfo.messageHeader}" message="#{ncbInfo.message}">
        <p:commandButton value="OK"
                         process="@this"
                         update=":frmMain"
                         oncomplete="msgBoxSystemMessageDlg.hide()"/>
    </p:confirmDialog>
</p:panel>

</h:body>
</f:view>
</html>