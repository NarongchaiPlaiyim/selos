<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:clv="http://clevel.com/ui">

<h:head>
    <title>#{msg.get('app.mortgageDetail.title')}</title>
    <h:outputStylesheet name="css/style.css" />
    <h:outputScript library="js" name="custom.js" />
</h:head>

<h:body>
    <f:event type="preRenderView" listener="#{mortgageDetail.preRender()}" />
    
    <p:panel id="pnl_maincontainer" styleClass="panel">
        <h:form id="frmMain">
            <div id="main_container">
            <!-- Start Header Logo -->
            <ui:include src="include/header_logo.xhtml" />
            <!-- End Header Logo -->
            <!-- Start Header Detail -->
            <ui:include src="include/header_detail.xhtml" />
            <!-- End Header Detail -->
            <!-- Start Menu -->
            <ui:include src="include/menubar.xhtml" />
           
            <!-- End Menu -->
			<h:panelGroup id="full_main_container" layout="block">
            <div id="content_container">
                <div id="content_name">#{msg.get('app.mortgageDetail.subtitle')}</div>
                <div id="content">
                    <div id="content_info">
                        <div id="content_trackchange">
                        	[
                        	<h:outputLink value="#">
                        		<h:outputText value="#{msg.get('app.viewTrackChange')}" />
                        	</h:outputLink>
                        	]
                        </div>
                        <div id="content_lastupdate">
                        	<h:outputText value="#{msg.get('app.lastUpdateBy')} "/>
                        	<h:outputText value="#{mortgageDetail.lastUpdateBy}"/>, 
                        	<h:outputText value="#{mortgageDetail.lastUpdateDateTime}">
                        		<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" locale="th_TH"/>
                        	</h:outputText>
                        </div>
                    </div>
                    <div id="content_form">
                        <!-- start content -->
                        <table class="content_table_form">
	                        <tr>
                               <td colspan="100%">
                                    <table>
                                        <tr>
                                            <td class="title" style="width:200px;">
                                                <p:outputLabel value="#{msg.get('app.approveType')}#{mortgageDetail.mandate('approvedType')}" styleClass="center"/>
                                            </td>
                                            <td style="width:200px;">
                                                <p:selectOneRadio disabled="#{mortgageDetail.isDisabled('approvedType')}" value="#{mortgageDetail.approveType}">
                                                	<f:selectItems value="#{enumGeneralControl.approveTypes}" var="approveType"
                                                		itemLabel="#{msg.get(approveType.msgKey)}" itemValue="#{approveType}" 
                                                		/>
                                                </p:selectOneRadio>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                              <td colspan="100%"><div class="separate"><!-- --></div></td>
                        	</tr>
                        	<tr><td colspan="100%"></td></tr>
                        	<tr>
                        		<td colspan="100%">
                        			<h2><h:outputText value="#{msg.get('app.mortgageDetail.detail.title')}" /></h2>
	                            </td>
                        	</tr>
                        	<tr>
                        		<td class="title" style="width: 180px">
                        			<p:outputLabel  for="mortgage_signingdate"
                        				value="#{msg.get('app.mortgageDetail.detail.signingDate')}#{mortgageDetail.mandate('mortSignDate')}" />	
                        		</td>
                        		<td colspan="3">
                        			<clv:BECalendar id='mortgage_signingdate'
                        					value="#{mortgageDetail.mortgageInfoView.signingDate}"
                        					pattern="dd/MM/yyyy" showOn="button"
                                       		mindate="#{mortgageDetail.currentDate}"
                                       		autocomplete="false" locale="th_TH"
                                       		disabled="#{mortgageDetail.isDisabled('mortSignDate')}"
                                       		/>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" style="width: 180px">
                        			<p:outputLabel  for="mortgage_outsource"
                        				value="#{msg.get('app.mortgageDetail.detail.outsource')}#{mortgageDetail.mandate('outsourceCompany')}" />	
                        		</td>
                        		<td style="width:300px">
                        			<p:selectOneMenu id='mortgage_outsource'
                        				value="#{mortgageDetail.mortgageInfoView.osCompanyId}"
                        				disabled="#{mortgageDetail.isDisabled('outsourceCompany')}"
                        				>
                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                        				<f:selectItems value="#{mortgageDetail.outsourceCompaines}" />
                        			</p:selectOneMenu>
                        		</td>
                        		<td class="title" style="width: 180px">
                        			<p:outputLabel  for="mortgage_landoffice"
                        				value="#{msg.get('app.mortgageDetail.detail.landOffice')}#{mortgageDetail.mandate('landOffice')}" />	
                        		</td>
                        		<td>
                        			<p:selectOneMenu id='mortgage_landoffice'
                        				value="#{mortgageDetail.mortgageInfoView.landOfficeId}"
                        				disabled="#{mortgageDetail.isDisabled('landOffice')}"
                        				>
                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                        				<f:selectItems value="#{mortgageDetail.landOffices}" />
                        			</p:selectOneMenu>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" style="width: 180px">
                        			<p:outputLabel
                        				value="#{msg.get('app.mortgageDetail.detail.mortgageType')}" />	
                        		</td>
                        		<td style="width:350px">
                        			#{mortgageDetail.mortgageInfoView.mortgageType}
                        		</td>
                        		<td class="title" style="width: 180px">
                        			<p:outputLabel  for="mortgage_order"
                        				value="#{msg.get('app.mortgageDetail.detail.mortgageOrder')}#{mortgageDetail.mandate('mortgageOrder')}" />	
                        		</td>
                        		<td>
                        			<p:selectOneMenu id='mortgage_order'
                        				value="#{mortgageDetail.mortgageInfoView.mortgageOrder}"
                        				disabled="#{mortgageDetail.isDisabled('mortgageOrder')}"
                        				>
                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                        				<f:selectItems value="#{mortgageDetail.mortgageOrderList}" />
                        			</p:selectOneMenu>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" >
                        			<p:outputLabel
                        				value="#{msg.get('app.mortgageDetail.detail.mortgageAmount')}" />						
                        		</td>
                        		<td colspan="3">
                        			<h:outputText value="#{mortgageDetail.mortgageInfoView.mortgageAmount}" >
                        				<f:convertNumber pattern="#,##0.00"/>
                        			</h:outputText>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" >
                        			<p:outputLabel
                        				value="#{msg.get('app.mortgageDetail.detail.creditType')}" />						
                        		</td>
                        		<td colspan="3">
                        			<p:dataTable value="#{mortgageDetail.credits}" var="credit" 
                        				styleClass="full_table" rowIndexVar="rowIdx">
                        				<p:column style="width:30px" styleClass="center">
                        					#{rowIdx+1}
                        				</p:column>
                        				<p:column
                        					headerText="#{msg.get('app.mortgageDetail.detail.creditType.table.account')}"
                        					style="line-height: 1.5em;">
                        					<h:panelGroup layout="block" rendered="#{credit.hasAccountInfo}"  style="padding : 5px 0;">
                        					#{credit.accountName} <br />
                        					#{msg.get('app.creditType.account.accountNo')} #{credit.accountNo} <br/>
                        					#{msg.get('app.creditType.account.accountStatus')} #{credit.accountStatus}
                        					</h:panelGroup>
                        					<h:outputText value="-" rendered="#{not credit.hasAccountInfo}" />
                        				</p:column>
                        				<p:column style="width:100px"
                        					headerText="#{msg.get('app.mortgageDetail.detail.creditType.table.type')}">
                        					<h:outputText value="#{msg.get('app.collateral.creditType.radio.new')}"
                        						rendered="#{credit.newCredit}" 
                        						/>
                        					<h:outputText value="#{msg.get('app.collateral.creditType.radio.exist')}"
                        						rendered="#{not credit.newCredit}" 
                        						/>
                        				</p:column>
                        				<p:column style="width:200px"
                        					headerText="#{msg.get('app.mortgageDetail.detail.creditType.table.productProgram')}">
                        					#{credit.productProgram}
                        				</p:column>
                        				<p:column style="width:175px"
                        					headerText="#{msg.get('app.mortgageDetail.detail.creditType.table.creditFacility')}">
                        					#{credit.creditFacility}
                        				</p:column>
                        				<p:column style="width:120px" styleClass="right"
                        					headerText="#{msg.get('app.mortgageDetail.detail.creditType.table.limit')}">
                        					<h:outputText value="#{credit.limit}">
                        						<f:convertNumber pattern="#,##0.00"/>
                        					</h:outputText>
                        				</p:column>
                        			</p:dataTable>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" colspan="100%">
                        			<p:outputLabel
                        				value="#{msg.get('app.mortgageDetail.detail.collateral')}" />						
                        		</td>
                        	</tr>
                        	<tr>
                        		<td colspan="100%">
                        			<p:dataTable value="#{mortgageDetail.collSubs}" var="coll" 
                        				styleClass="full_table" rowIndexVar="rowIdx">
                        				<p:column style="width:30px">
                        					#{rowIdx+1}
                        				</p:column>
                        				
                        				<p:column style="width:150px" styleClass="center"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.JB')}">
                        					#{coll.jobNo}
                        				</p:column>
                        				<p:column style="width:150px" styleClass="center"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.HC')}">
                        					#{coll.hcNo}
                        				</p:column>
                        				<p:column style="width:150px" styleClass="center"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.SUB')}">
                        					#{coll.subNo}
                        				</p:column>
                        				<p:column style="width:100px;line-height: 1.5em;"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.UW')}"
                        					>
                        					<h:panelGroup layout="block" rendered="#{not empty coll.owner}"  style="padding : 5px 0;">
                        						<h:outputText value="#{coll.owner}" escape="false" />
                        					</h:panelGroup>
                        				</p:column>
                        				
                        				<p:column style="width:100px"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.type')}">
                        					#{coll.collateralType}
                        				</p:column>
                        				<p:column style="width:50px"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.id')}">
                        					#{coll.titleDeed}
                        				</p:column>
                        				<p:column 
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.detail')}">
                        					#{coll.mortgageDetail}
                        				</p:column>
                        				<p:column style="width:100px;line-height: 1.5em;"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.related')}"
                        					>
                        					<h:panelGroup layout="block" rendered="#{not empty coll.relatedWith}"  style="padding : 5px 0;">
                        						<h:outputText value="#{coll.relatedWith}" escape="false" />
                        					</h:panelGroup>
                        				</p:column>
                        				<p:column style="width:100px" styleClass="right"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.appraisalValue')}">
                        					<h:outputText value="#{coll.appraisalValue}">
                        						<f:convertNumber pattern="#,##0.00"/>
                        					</h:outputText>
                        				</p:column>
                        			</p:dataTable>	
                        		</td>
                        	</tr>
                        	<tr><td colspan="100%"><p:spacer height="1em"/></td></tr>
                        	<tr>
                              <td colspan="100%"><div class="separate"><!-- --></div></td>
                        	</tr>
                        	<tr>
                        		<td colspan="100%">
                        			<h2><h:outputText value="#{msg.get('app.mortgageDetail.appointee.title')}" /></h2>
	                            </td>
                        	</tr>
                        	
                        	<tr>
                        		<td class="title" >
                        			<p:outputLabel for='poa'
                        				value="#{msg.get('app.mortgageDetail.appointee.poa')}#{mortgageDetail.mandate('poa')}" />						
                        		</td>
                        		<td colspan="3">
                        			<p:selectOneRadio id='poa' value="#{mortgageDetail.mortgageInfoView.poa}"
                        				disabled="#{mortgageDetail.isDisabled('poa')}"
                        				>
                        				<p:ajax update="coll_owner_tbl,appointee_owner_tbl,appointee_relation,attorney_pane"
                        					process="@this"
                        					onstart="p_loading_dialog.show()"
                        					oncomplete="p_loading_dialog.hide()"
                        					partialSubmit="true"
                        					listener="#{mortgageDetail.onSelectPOA()}" />
                        				<f:selectItems value="#{enumGeneralControl.yesNoEnum}" var="radioEnum"
                        					itemLabel="#{msg.get(radioEnum.msgKey)}" itemValue="#{radioEnum}"
                        					/>
                                     </p:selectOneRadio>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" >
                        			<p:outputLabel 
                        				value="#{msg.get('app.mortgageDetail.appointee.collateralOwner')}" />						
                        		</td>
                        		<td colspan="3">
                        			<p:dataTable id='coll_owner_tbl' 
                        				rowIndexVar="rowIdx" value="#{mortgageDetail.collOwners}" var="owner">
                        				<p:column style="width:30px" styleClass="center">
                        					#{rowIdx+1}
                        				</p:column>
                        				<p:column style="width:200px" 
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.customerName')}"
                        					>
                        					#{owner.customerName}
                        				</p:column>
                        				<p:column style="width:200px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.citizen')}"
                        					>
                        					#{owner.citizenId}
                        				</p:column>
                        				<p:column style="width:150px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.customerId')}"
                        					>
                        					#{owner.tmbCustomerId}
                        				</p:column>
                        				<p:column style="width:200px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.relationship')}"
                        					>
                        					#{owner.relation}
                        				</p:column>
                        				<p:column style="width:50px" styleClass="center"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.poa')}">
                        					<p:selectBooleanCheckbox value="#{owner.POA}"
                        						rendered="#{owner.canSelectPOA}"
                        						disabled="#{not mortgageDetail.enablePOA}"
                        						styleClass="normal_checkbox"
                        						/>
                        				</p:column>
                        				<p:column style="width:30px" styleClass="center">
                        					<p:commandButton icon="ui-icon-pencil" title="#{msg.get('app.button.edit')}"
	                           						action="#{mortgageDetail.clickCustomerInfo(owner.customerId,owner.juristic)}"
	                           						ajax="false"
	                           						process="@this"
	                           						style="margin-right:0px !important"
	                           						/>
                        				</p:column>
                        			</p:dataTable>
                        		</td>
                        	</tr>
                        	<tr><td colspan="100%"><p:spacer height="1em"/></td></tr>
                        	<tr>
                        		<td class="title" >
                        			<p:outputLabel for="appointee_relation"
                        				value="#{msg.get('app.mortgageDetail.appointee.relationship')}" />						
                        		</td>
                        		<td colspan="3"> 
                        			<p:selectOneRadio id='appointee_relation' 
                        				value="#{mortgageDetail.mortgageInfoView.attorneyRelation}"
                        				disabled="#{not mortgageDetail.enablePOA}">
                        				<p:ajax update="appointee_owner_tbl,attorney_pane"
                        					process="@this"
                        					partialSubmit="true"
                        					onstart="p_loading_dialog.show()"
                        					oncomplete="p_loading_dialog.hide()"
                        					listener="#{mortgageDetail.onSelectAppointeeRelationship()}"
                        					/>
                        				<f:selectItems value="#{enumGeneralControl.attorneyRelationTypes}" var="attorneyType"
                        					itemLabel="#{msg.get(attorneyType.msgKey)}" itemValue="#{attorneyType}"
                        					/>
                        			</p:selectOneRadio>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td></td>
                        		<td colspan="3">
                        			<p:dataTable id='appointee_owner_tbl'
                        				value="#{mortgageDetail.attorneySelectDataModel}" var="attorney" 
                        				rowIndexVar="rowIdx" disabledSelection="#{not mortgageDetail.appointeeOwnerSelectable}"
                        				selection="#{mortgageDetail.selectedAttorney}"
                        				>
                        				<p:ajax event="rowSelectRadio" update=":frmMain:attorney_pane"
                        					process="@this"
                        					partialSubmit="true"
                        					onstart="p_loading_dialog.show()"
                        					oncomplete="p_loading_dialog.hide()"
                        					listener="#{mortgageDetail.onSelectAppotineeOwner()}"
                        					/>
                        				<p:column selectionMode="single" style="width:30px" styleClass="center" />
                        				<p:column style="width:200px" 
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.customerName')}"
                        					>
                        					#{attorney.customerName}
                        				</p:column>
                        				<p:column style="width:200px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.citizen')}"
                        					>
                        					#{attorney.citizenId}
                        				</p:column>
                        				<p:column style="width:150px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.customerId')}"
                        					>
                        					#{attorney.tmbCustomerId}
                        				</p:column>
                        				<p:column style="width:200px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.relationship')}"
                        					>
                        					#{attorney.relation}
                        				</p:column>
                        				
                        				<p:column style="width:30px" styleClass="center">
                        					<p:commandButton icon="ui-icon-pencil" title="#{msg.get('app.button.edit')}"
	                           						action="#{mortgageDetail.clickCustomerInfo(attorney.customerId,attorney.juristic)}"
	                           						ajax="false"
	                           						process="@this"
	                           						style="margin-right:0px !important"
	                           						/>
                        				</p:column>
                        			</p:dataTable>
                        		</td>
                        	</tr>
                        	<tr><td colspan="100%"><p:spacer height="1em"/></td></tr>
                        	<tr>
                        		<td class="title" colspan="100%">
                        			<h:outputText value="#{msg.get('app.mortgageDetail.powerattorney.title')}" />
	                            </td>
                        	</tr>
                        	<tr><td colspan="100%">
                        			<h:panelGroup id='attorney_pane' layout="block">
                        				<table class="content_table_form">
                        					<tr>
	                        					<td class="title" style="width: 180px">
	                        						<p:outputLabel  for="att_doctype"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.documentType')}#{mortgageDetail.mandate('documentType')}" />
	                        					</td>
	                        					<td colspan="3">
				                        			<p:selectOneMenu id='att_doctype'
				                        				value="#{mortgageDetail.attorneyView.documentTypeId}"
				                        				rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('documentType')}"
				                        				>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.documentTypes}" />
				                        			</p:selectOneMenu>
				                        			<p:inputText id='doctype'
														value="#{mortgageDetail.attorneyView.displayDocumentType}"
														rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('documentType')}"
														readonly="true"
														/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel  for="att_personalid"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.personalID')}#{mortgageDetail.mandate('personalID')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:inputText id='att_personalid' styleClass="large"
	                        							value="#{mortgageDetail.attorneyView.personalId}"
	                        							readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('personalID')}"
	                        							 />
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel  for="att_name"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.customerNameTH')}#{mortgageDetail.mandate('firstnameTH')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_title' styleClass="inline_select"
	                        							value="#{mortgageDetail.attorneyView.titleId}"
	                        							rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('titleTH')}"
	                        							>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.titles}" />
				                        			</p:selectOneMenu>
				                        			<p:inputText styleClass="small"
														value="#{mortgageDetail.attorneyView.displayTitle}"
														readonly="true"
														rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('titleTH')}"
														/>
				                        			<p:spacer width="5"/>
	                        						<p:inputText id='att_name' styleClass="large" 
	                        							value="#{mortgageDetail.attorneyView.nameTH}"
	                        							readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('firstnameTH')}"
	                        							/>
	                        						<p:spacer width="5"/>
	                        						<p:inputText id='att_surname' styleClass="largest"
	                        							value="#{mortgageDetail.attorneyView.lastNameTH}"
	                        							readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('lastnameTH')}"
	                        							/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel  for="att_dateofbirth"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.dateOfBirth')}#{mortgageDetail.mandate('dateOfBirth')}" />
	                        					</td>
	                        					<td style="width:350px">
	                        						<clv:BECalendar id='att_dateofbirth' navigator="true" 
	                        							maxDate="#{mortgageDetail.currentDate}"
	                        							yearRange="#{mortgageDetail.ageYearRange}"
	                        							value="#{mortgageDetail.attorneyView.birthDate}"
			                        					pattern="dd/MM/yyyy" showOn="button"
			                                       		autocomplete="false" locale="th_TH"
			                                       		disabled="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('dateOfBirth')}"
			                                       		>
			                                       		<p:ajax update="att_age" event="dateSelect" 
															listener="#{mortgageDetail.handleBirthDay}"
															/>
			                                       	</clv:BECalendar>
				                        		</td>
				                        		<td class="title" style="width:180px">
				                        			<p:outputLabel  for="att_age"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.age')}" />
				                        		</td>
				                        		<td>
				                        			<p:inputText id="att_age"
				                        				value="#{mortgageDetail.attorneyView.age}" 
				                        				readonly="true"
				                        				/>
				                        				
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel  for="att_gender"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.gender')}#{mortgageDetail.mandate('gender')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_gender'
	                        							value="#{mortgageDetail.attorneyView.gender}"
														rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('gender')}"
														>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{enumGeneralControl.genders}" var="gender"
				                        					itemLabel="#{msg.get(gender.msgKey)}" itemValue="#{gender}"
				                        					/>
				                        			</p:selectOneMenu>
				                        			<p:inputText
														value="#{msg.get(mortgageDetail.attorneyView.gender.msgKey)}"
														rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('gender')}"
														readonly="true"
														/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel  for="att_race"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.race')}#{mortgageDetail.mandate('race')}" />
	                        					</td>
	                        					<td style="width:300px">
	                        						<p:selectOneMenu id='att_race'
	                        							value="#{mortgageDetail.attorneyView.raceId}"
	                        							rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('race')}"
	                        							>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.races}"/>
				                        			</p:selectOneMenu>
				                        			<p:inputText
														value="#{mortgageDetail.attorneyView.displayRace}"
														rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('race')}"
														readonly="true"
														/>
				                        		</td>
				                        		<td class="title" style="width:180px">
				                        			<p:outputLabel  for="att_nationality"
				                        				value="#{msg.get('app.mortgageDetail.powerattorney.nationality')}#{mortgageDetail.mandate('nationality')}" />
				                        		</td>
				                        		<td>
				                        			<p:selectOneMenu id='att_nationality'
				                        				value="#{mortgageDetail.attorneyView.nationalityId}"
														rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('nationality')}"
														>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.nationalities}"/>
				                        			</p:selectOneMenu>
				                        			<p:inputText
														value="#{mortgageDetail.attorneyView.displayNationality}"
														rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('nationality')}"
														readonly="true"
														/>
				                        		</td>
				                        	</tr>
				                        	<tr><td colspan="100%"><p:spacer height="0.8em"/></td></tr>
				                        	
				                        	<tr>
												<td rowspan="2" class="title top">#{msg.get('app.mortgageDetail.powerattorney.address')}</td>
												<td></td>
											</tr>
											<tr>
												<td  colspan="3">
													<h:panelGroup layout="block" id="address_detail" style="padding-bottom:28px">
														<h:panelGroup layout="block" styleClass="div_row">
															<div style="width:120px;display:inline-block">
																<p:outputLabel for="att_addressno" styleClass="title"
		                        									value="#{msg.get('app.mortgageDetail.powerattorney.address.addressNo')}#{mortgageDetail.mandate('registration.addressNo')}" />
															</div>
															<p:inputText id='att_addressno' styleClass="smaller"
				                        						value="#{mortgageDetail.attorneyView.addressNo}"
				                        						readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.addressNo')}"
				                        						/>	
															<p:spacer width="30" height="10"/>
															<p:outputLabel for="att_addressmoo" styleClass="title"
			                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.moo')}#{mortgageDetail.mandate('registration.addressMoo')}" />
															<p:spacer width="8"/>
															<p:inputText id='att_addressmoo'
			                        							value="#{mortgageDetail.attorneyView.moo}"
				                        						readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.addressMoo')}"
				                        						onkeydown="return onKeyDownNumber(event);"
																onkeypress="return onKeyPressNumber(event);"
																size="5" maxlength="5"
																/>	
															<p:spacer width="30" height="10"/>
															<p:outputLabel for="att_addressbuilding" styleClass="title"
			                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.building')}#{mortgageDetail.mandate('registration.addressBuilding')}" />
															<p:spacer width="8"/>
															<p:inputText id='att_addressbuilding'
			                        							value="#{mortgageDetail.attorneyView.building}"
				                        						readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.addressBuilding')}"
				                        						/>
														</h:panelGroup>
														
														<h:panelGroup layout="block" styleClass="div_row">
															<div style="width:120px;display:inline-block">
																<p:outputLabel for="att_addressstreet" styleClass="title"
				                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.street')}#{mortgageDetail.mandate('registration.addressStreet')}" />
															</div>
															<p:inputText id='att_addressstreet' style="width:500px"
				                        						value="#{mortgageDetail.attorneyView.road}"
				                        						readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.addressStreet')}"
				                        						/>	
														</h:panelGroup>
														
														<h:panelGroup layout="block" styleClass="div_row">
															<div style="width:120px;height: 10px;float:left"></div>
															<p:selectOneMenu id="att_province" styleClass="inline_select"
				                        						value="#{mortgageDetail.attorneyView.provinceId}"
																rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('registration.province')}"
																>
																<p:ajax update="att_district,att_subdistrict" listener="#{mortgageDetail.onSelectProvince()}"/>
						                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
						                        				<f:selectItems value="#{mortgageDetail.provinces}"/>
						                        			</p:selectOneMenu>
						                        			<p:inputText
																value="#{mortgageDetail.attorneyView.displayProvince}"
																rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.province')}"
																readonly="true"
																/>
						                        			<p:selectOneMenu id="att_district" styleClass="inline_select"
						                        				style="margin-left:4px;margin-right:4px"
				                        						value="#{mortgageDetail.attorneyView.districtId}"
																rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('registration.district')}"
																>
																<p:ajax update="att_subdistrict" listener="#{mortgageDetail.onSelectDistrict()}"/>
						                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
						                        				<f:selectItems value="#{mortgageDetail.districts}"/>
						                        			</p:selectOneMenu>
						                        			<p:inputText
																value="#{mortgageDetail.attorneyView.displayDistrict}"
																rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.district')}"
																style="margin-left:4px !important;margin-right:4px !important;"
																readonly="true"
																/>
						                        			<p:selectOneMenu id="att_subdistrict" styleClass="inline_select"
				                        						value="#{mortgageDetail.attorneyView.subDistrictId}"
																rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('registration.subdistrict')}"
																>
																<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
						                        				<f:selectItems value="#{mortgageDetail.subdistricts}"/>
						                        			</p:selectOneMenu>
						                        			<p:inputText
																value="#{mortgageDetail.attorneyView.displaySubDistrict}"
																rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.subdistrict')}"
																readonly="true"
																/>
														</h:panelGroup>
														
														<h:panelGroup layout="block" styleClass="div_row">
															<div style="width:120px;display:inline-block">
																<p:outputLabel for="att_addresspostcode" styleClass="title"
				                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.postcode')}#{mortgageDetail.mandate('registration.postcode')}" />
				                        					</div>
															<p:inputText id='att_addresspostcode'
				                        						value="#{mortgageDetail.attorneyView.postalCode}"
				                        						readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.postcode')}"
				                        						onkeydown="return onKeyDownNumber(event);"
																onkeypress="return onKeyPressNumber(event);"
																size="5" maxlength="5"
				                        						/>
														</h:panelGroup>
														
														<h:panelGroup layout="block" styleClass="div_row">
															<div style="width:120px;height: 10px;float:left">
																<p:outputLabel for="att_addresscountry" styleClass="title"
				                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.country')}#{mortgageDetail.mandate('registration.country')}" />
				                        					</div>
															<p:selectOneMenu id="att_addresscountry" styleClass="inline_select"
				                        						value="#{mortgageDetail.attorneyView.countryId}"
				                        						rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('registration.country')}"
				                        						>
																<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
						                        				<f:selectItems value="#{mortgageDetail.countries}"/>
						                        			</p:selectOneMenu>
															<p:inputText
																value="#{mortgageDetail.attorneyView.displayCountry}"
																readonly="true"
																rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.country')}"
																/>
														</h:panelGroup>
														
														<h:panelGroup layout="block" styleClass="div_row">
															<div style="width:120px;display:inline-block">
																<p:outputLabel for="att_addressphone" styleClass="title"
				                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.phone')}#{mortgageDetail.mandate('registration.phoneNo')}" />
				                        					</div>
															<p:inputText id='att_addressphone'
																value="#{mortgageDetail.attorneyView.phoneNumber}"
																readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.phoneNo')}"
																onkeydown="return onKeyDownNumber(event);"
									                            onkeypress="return onKeyPressNumber(event);"
									                            maxlength="10"
																/>
															<p:spacer width="10"/>
															<p:outputLabel for="att_addressphoneext" 
				                        						value="#{msg.get('app.mortgageDetail.powerattorney.address.phoneext')}#{mortgageDetail.mandate('registration.extension')}" />
															<p:spacer width="5"/>
															<p:inputText id='att_addressphoneext'
				                        						value="#{mortgageDetail.attorneyView.phoneExt}"
																size="5"
																onkeydown="return onKeyDownNumber(event);"
									                            onkeypress="return onKeyPressNumber(event);"
									                            maxlength="10"
																readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('registration.extension')}"
															/>
														</h:panelGroup>
													</h:panelGroup>
												</td>
											</tr>
											
				                        	<tr><td colspan="100%"><p:spacer height="0.8em"/></td></tr>
				                        	
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel for="att_marital"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.marital')}#{mortgageDetail.mandate('marriageStatus')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_marital'
	                        							value="#{mortgageDetail.attorneyView.maritalStatusId}"
														rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('marriageStatus')}"
														>
														<p:ajax update="att_marriagetitle,att_marriagename,att_marriagesurname" />
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.maritalStatuses}"/>
				                        			</p:selectOneMenu>
				                        			<p:inputText
														value="#{mortgageDetail.attorneyView.displayMaritalStatus}"
														rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('marriageStatus')}"
														readonly="true"
														/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel for="att_marriagename"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.marriageNameTH')}#{mortgageDetail.mandate('firstnameTH')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_marriagetitle' styleClass="inline_select"
	                        							value="#{mortgageDetail.attorneyView.spouseTitleId}"
														disabled="#{not mortgageDetail.canUpdateSpouse()}"
														rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('titleTH')}"
														>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.titles}"/>
				                        			</p:selectOneMenu>
				                        			<p:inputText
														value="#{mortgageDetail.attorneyView.displaySpouseTitle}"
														rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('titleTH')}"
														readonly="true"
														/>
				                        			<p:spacer width="5"/>
	                        						<p:inputText id='att_marriagename' styleClass="large" 
	                        							value="#{mortgageDetail.attorneyView.spouseNameTH}"
	                        							readonly="#{not mortgageDetail.canUpdateSpouse() or mortgageDetail.isDisabled('firstnameTH')}"
	                        							/>
	                        						<p:spacer width="5"/>
	                        						<p:inputText id='att_marriagesurname' styleClass="largest"
	                        							value="#{mortgageDetail.attorneyView.spouseLastNameTH}"
	                        							readonly="#{not mortgageDetail.canUpdateSpouse() or mortgageDetail.isDisabled('lastnameTH')}"
	                        							/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        	<td class="title">
	                        						<p:outputLabel for="att_fathername"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.fatherNameTH')}#{mortgageDetail.mandate('firstnameTH')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_fathertitle' styleClass="inline_select"
	                        							value="#{mortgageDetail.attorneyView.fatherTitleId}"
														rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('titleTH')}"
														>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.titles}"/>
				                        			</p:selectOneMenu>
				                        			<p:inputText
														value="#{mortgageDetail.attorneyView.displayFatherTitle}"
														rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('titleTH')}"
														readonly="true"
														/>
				                        			<p:spacer width="5"/>
	                        						<p:inputText id='att_fathername' styleClass="large" 
	                        							value="#{mortgageDetail.attorneyView.fatherNameTH}"
	                        							readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('firstnameTH')}"
	                        							/>
	                        						<p:spacer width="5"/>
	                        						<p:inputText id='att_fathersurname' styleClass="largest"
	                        							value="#{mortgageDetail.attorneyView.fatherLastNameTH}"
	                        							readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('lastnameTH')}"
	                        							/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel for="att_mothername"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.motherNameTH')}#{mortgageDetail.mandate('firstnameTH')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_mothertitle' styleClass="inline_select"
	                        							value="#{mortgageDetail.attorneyView.motherTitleId}"
														rendered="#{mortgageDetail.attorneyDetailEditable and not mortgageDetail.isDisabled('titleTH')}"
														>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.titles}"/>
				                        			</p:selectOneMenu>
				                        			<p:inputText
														value="#{mortgageDetail.attorneyView.displayMotherTitle}"
														rendered="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('titleTH')}"
														readonly="true"
														/>
				                        			<p:spacer width="5"/>
	                        						<p:inputText id='att_mothername' styleClass="large" 
	                        							value="#{mortgageDetail.attorneyView.motherNameTH}"
	                        							readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('firstnameTH')}"
	                        							/>
	                        						<p:spacer width="5"/>
	                        						<p:inputText id='att_mothersurname' styleClass="largest"
	                        							value="#{mortgageDetail.attorneyView.motherLastNameTH}"
	                        							readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('lastnameTH')}"
	                        							/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel 
                        								value="#{msg.get('app.mortgageDetail.powerattorney.contactNumber')}" />
	                        					</td>
	                        					<td colspan="3">
                       								<div class="title" style="width:100px;float:left">
                       									<p:outputLabel for="att_homenumber"
                      											value="#{msg.get('app.mortgageDetail.powerattorney.homeNumber')}#{mortgageDetail.mandate('homeNumber')}" />
                       								</div>
                       								<div style="width:180px;float:left">
                       									<p:inputText id="att_homenumber"
                       										value="#{mortgageDetail.attorneyView.homePhoneNumber}"
                       										readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('homeNumber')}"
															onkeydown="return onKeyDownNumber(event);"
															onkeypress="return onKeyPressNumber(event);"
															maxlength="10"
					                        				/>
					                        			
                       								</div>
                       								<div class="title" style="width:100px;float:left">
	                        								<p:outputLabel for="att_extnumber"
                        										value="#{msg.get('app.mortgageDetail.powerattorney.extNumber')}#{mortgageDetail.mandate('extNumber')}" />
                       								</div>
                       								<div style="width:180px;float:left">
                       									<p:inputText id="att_extnumber" 
                       										value="#{mortgageDetail.attorneyView.homePhoneExt}"
					                        				readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('extNumber')}"
															onkeydown="return onKeyDownNumber(event);"
															onkeypress="return onKeyPressNumber(event);"
															size="5" maxlength="10"
					                        				/>
                       								</div>
                       							</td>
                       						</tr>
                       						<tr>
                       							<td></td>
                       							<td colspan="3">
                       								<div class="title" style="width:100px;float:left">
                       									<p:outputLabel for="att_mobile1"
                        											value="#{msg.get('app.mortgageDetail.powerattorney.mobile1Number')}#{mortgageDetail.mandate('mobile1Number')}" />
                       								</div>
                       								<div style="width:180px;float:left">
                       									<p:inputText id="att_mobile1" 
                       										value="#{mortgageDetail.attorneyView.mobile1}"
							                        		readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('mobile1Number')}"
															onkeydown="return onKeyDownNumber(event);"
															onkeypress="return onKeyPressNumber(event);"
															maxlength="15"
					                        				/>
                       								</div>
                       								<div class="title" style="width:100px;float:left">
	                        								<p:outputLabel for="att_mobile2"
                        											value="#{msg.get('app.mortgageDetail.powerattorney.mobile2Number')}#{mortgageDetail.mandate('mobile2Number')}" />
                       								</div>
                       								<div style="width:180px;float:left">
                       									<p:inputText id="att_mobile2"
                       										value="#{mortgageDetail.attorneyView.mobile2}" 
					                        				readonly="#{not mortgageDetail.attorneyDetailEditable or mortgageDetail.isDisabled('mobile2Number')}"
															onkeydown="return onKeyDownNumber(event);"
															onkeypress="return onKeyPressNumber(event);"
															maxlength="15"
					                        				/>
                       								</div>
                       							</td>
                       						</tr>
	                        				
                        				</table>
                        			</h:panelGroup>
                        	</td></tr>
                        	
                        	<tr><td colspan="100%"><p:spacer height="1em"/></td></tr>
                        	
	                        <tr>
	                            <td colspan="100%"><p:separator/></td>
	                        </tr>
	                        <tr>
	                            <td colspan="100%"><p:spacer width="5px"/></td>
	                        </tr>
	                        <tr>
	                             <td colspan="100%" class="center">
	                                 <p:commandButton id="saveBtn" value="#{msg.get('app.button.save')}" 
	                                 	styleClass="medium"
										onstart="handleOnStartOpenCfmDlg();"
										oncomplete="handleOnCompleteOpenCfmDlg(args,p_saveMortgageDetailDlg);"
										update=":frmMain:full_main_container,:result_dialog"
										disabled="#{mortgageDetail.isDisabled('saveButton')}"
	                                 	 />
	                                 <p:commandButton id="cancelBtn" value="#{msg.get('app.button.cancel')}" 
										styleClass="medium"
										oncomplete="p_cancelDlg.show()"
										disabled="#{mortgageDetail.isDisabled('cancelButton')}"
										/>
	                             </td>
	                        </tr>
                        </table>
                    </div>
                </div>
                <div id="bottom_line"><!-- --></div>
            </div>
           
            <div class="clear"></div>
            <!-- Start Footer -->
            <ui:include src="include/footer.xhtml" />
            <!-- End Footer -->
            </h:panelGroup>
            </div>
        </h:form>
    </p:panel>
   
   <ui:include src="dialog/postLoadingAndErrorDialog.xhtml" />
    <ui:include src="dialog/confirmEditDlg.xhtml">
		<ui:param name="id" value="saveMortgageDetailDlg"/>
		<ui:param name="name" value="p_saveMortgageDetailDlg"/>
		<ui:param name="formId" value="saveMortgageDetailFrm"/>
		<ui:param name="controller" value="#{mortgageDetail}"/>
		<ui:param name="action" value="onSaveMortgageDetail"/>
		<ui:param name="update" value=":frmMain:full_main_container"/>
	</ui:include>
	<ui:include src="dialog/confirmCancelDlg.xhtml">
		<ui:param name="id" value="cancelDlg"/>
		<ui:param name="name" value="p_cancelDlg"/>
		<ui:param name="formId" value="cancelFrm"/>
		<ui:param name="controller" value="#{mortgageDetail}"/>
		<ui:param name="action" value="onCancelMortgage"/>
		<ui:param name="update" value=":frmMain:full_main_container"/>
	</ui:include>
</h:body>
</f:view>
</html>