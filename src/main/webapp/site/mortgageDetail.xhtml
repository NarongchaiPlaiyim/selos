<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:clv="http://clevel.com/ui">

<h:head>
    <title>#{msg.get('app.mortgageDetail.title')}</title>
    <h:outputStylesheet name="css/style.css" />
    <h:outputScript library="js" name="custom.js" />
</h:head>

<h:body>
    <f:event type="preRenderView" listener="#{mortgageDetail.preRender()}" />
    
    <p:panel id="pnl_maincontainer" styleClass="panel">
        <h:form id="frmMain">
            <div id="main_container">
            <!-- Start Header Logo -->
            <ui:include src="include/header_logo.xhtml" />
            <!-- End Header Logo -->
            <!-- Start Header Detail -->
            <ui:include src="include/header_detail.xhtml" />
            <!-- End Header Detail -->
            <!-- Start Menu -->
            <ui:include src="include/menubar.xhtml" />
           
            <!-- End Menu -->
			<h:panelGroup id="full_main_container" layout="block">
            <div id="content_container">
                <div id="content_name">#{msg.get('app.mortgageDetail.subtitle')}</div>
                <div id="content">
                    <div id="content_info">
                        <div id="content_trackchange">
                        	[
                        	<h:outputLink value="#">
                        		<h:outputText value="#{msg.get('app.viewTrackChange')}" />
                        	</h:outputLink>
                        	]
                        </div>
                        <div id="content_lastupdate">
                        	<h:outputText value="#{msg.get('app.lastUpdateBy')} "/>
                        	<h:outputText value="#{mortgageDetail.lastUpdateBy}"/>, 
                        	<h:outputText value="#{mortgageDetail.lastUpdateDateTime}">
                        		<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" locale="th_TH"/>
                        	</h:outputText>
                        </div>
                    </div>
                    <div id="content_form">
                        <!-- start content -->
                        <table class="content_table_form">
	                        <tr>
                               <td colspan="100%">
                                    <table>
                                        <tr>
                                            <td class="title" style="width:200px;">
                                                <p:outputLabel value="#{msg.get('app.approveType')}" styleClass="center"/>
                                            </td>
                                            <td style="width:200px;">
                                                <p:selectOneRadio disabled="true" value="#{mortgageDetail.approveType}">
                                                	<f:selectItems value="#{enumGeneralControl.approveTypes}" var="approveType"
                                                		itemLabel="#{msg.get(approveType.msgKey)}" itemValue="#{approveType}" 
                                                		/>
                                                </p:selectOneRadio>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                              <td colspan="100%"><div class="separate"><!-- --></div></td>
                        	</tr>
                        	<tr><td colspan="100%"></td></tr>
                        	<tr>
                        		<td colspan="100%">
                        			<h2><h:outputText value="#{msg.get('app.mortgageDetail.detail.title')}" /></h2>
	                            </td>
                        	</tr>
                        	<tr>
                        		<td class="title" style="width: 180px">
                        			<p:outputLabel  for="mortgage_signingdate"
                        				value="#{msg.get('app.mortgageDetail.detail.signingDate')}" />	
                        		</td>
                        		<td colspan="3">
                        			<clv:BECalendar id='mortgage_signingdate'
                        					value="#{mortgageDetail.mortgageInfoView.signingDate}"
                        					pattern="dd/MM/yyyy" showOn="button"
                                       		mindate="#{mortgageDetail.minDate}"
                                       		autocomplete="false" locale="th_TH"
                                       		/>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" style="width: 180px">
                        			<p:outputLabel  for="mortgage_outsource"
                        				value="#{msg.get('app.mortgageDetail.detail.outsource')}" />	
                        		</td>
                        		<td style="width:300px">
                        			<p:selectOneMenu id='mortgage_outsource'
                        				value="#{mortgageDetail.mortgageInfoView.osCompanyId}"
                        				>
                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                        				<f:selectItems value="#{mortgageDetail.outsourceCompaines}" />
                        			</p:selectOneMenu>
                        		</td>
                        		<td class="title" style="width: 180px">
                        			<p:outputLabel  for="mortgage_landoffice"
                        				value="#{msg.get('app.mortgageDetail.detail.landOffice')}" />	
                        		</td>
                        		<td>
                        			<p:selectOneMenu id='mortgage_landoffice'
                        				value="#{mortgageDetail.mortgageInfoView.landOfficeId}"
                        				>
                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                        				<f:selectItems value="#{mortgageDetail.landOffices}" />
                        			</p:selectOneMenu>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" style="width: 180px">
                        			<p:outputLabel
                        				value="#{msg.get('app.mortgageDetail.detail.mortgageType')}" />	
                        		</td>
                        		<td style="width:350px">
                        			#{mortgageDetail.mortgageInfoView.mortgageType}
                        		</td>
                        		<td class="title" style="width: 180px">
                        			<p:outputLabel  for="mortgage_order"
                        				value="#{msg.get('app.mortgageDetail.detail.mortgageOrder')}" />	
                        		</td>
                        		<td>
                        			<p:selectOneMenu id='mortgage_order'
                        				value="#{mortgageDetail.mortgageInfoView.mortgageOrder}"
                        				>
                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                        				<f:selectItems value="#{mortgageDetail.mortgageOrderList}" />
                        			</p:selectOneMenu>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" >
                        			<p:outputLabel
                        				value="#{msg.get('app.mortgageDetail.detail.mortgageAmount')}" />						
                        		</td>
                        		<td colspan="3">
                        			<h:outputText value="#{mortgageDetail.mortgageInfoView.mortgageAmount}" >
                        				<f:convertNumber pattern="#,##0.00"/>
                        			</h:outputText>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" >
                        			<p:outputLabel
                        				value="#{msg.get('app.mortgageDetail.detail.creditType')}" />						
                        		</td>
                        		<td colspan="3">
                        			<p:dataTable value="#{mortgageDetail.credits}" var="credit" 
                        				styleClass="full_table" rowIndexVar="rowIdx">
                        				<p:column style="width:30px" styleClass="center">
                        					#{rowIdx+1}
                        				</p:column>
                        				<p:column
                        					headerText="#{msg.get('app.mortgageDetail.detail.creditType.table.account')}"
                        					style="line-height: 1.5em;">
                        					<h:panelGroup layout="block" rendered="#{credit.hasAccountInfo}"  style="padding : 5px 0;">
                        					#{credit.accountName} <br />
                        					#{msg.get('app.creditType.account.accountNo')} #{credit.accountNo} <br/>
                        					#{msg.get('app.creditType.account.accountStatus')} #{credit.accountStatus}
                        					</h:panelGroup>
                        					<h:outputText value="-" rendered="#{not credit.hasAccountInfo}" />
                        				</p:column>
                        				<p:column style="width:100px"
                        					headerText="#{msg.get('app.mortgageDetail.detail.creditType.table.type')}">
                        					<h:outputText value="#{msg.get('app.collateral.creditType.radio.new')}"
                        						rendered="#{credit.newCredit}" 
                        						/>
                        					<h:outputText value="#{msg.get('app.collateral.creditType.radio.exist')}"
                        						rendered="#{not credit.newCredit}" 
                        						/>
                        				</p:column>
                        				<p:column style="width:200px"
                        					headerText="#{msg.get('app.mortgageDetail.detail.creditType.table.productProgram')}">
                        					#{credit.productProgram}
                        				</p:column>
                        				<p:column style="width:175px"
                        					headerText="#{msg.get('app.mortgageDetail.detail.creditType.table.creditFacility')}">
                        					#{credit.creditFacility}
                        				</p:column>
                        				<p:column style="width:120px" styleClass="right"
                        					headerText="#{msg.get('app.mortgageDetail.detail.creditType.table.limit')}">
                        					<h:outputText value="#{credit.limit}">
                        						<f:convertNumber pattern="#,##0.00"/>
                        					</h:outputText>
                        				</p:column>
                        			</p:dataTable>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" colspan="100%">
                        			<p:outputLabel
                        				value="#{msg.get('app.mortgageDetail.detail.collateral')}" />						
                        		</td>
                        	</tr>
                        	<tr>
                        		<td colspan="100%">
                        			<p:dataTable value="#{mortgageDetail.collSubs}" var="coll" 
                        				styleClass="full_table" rowIndexVar="rowIdx">
                        				<p:column style="width:30px">
                        					#{rowIdx+1}
                        				</p:column>
                        				
                        				<p:column style="width:150px" styleClass="center"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.JB')}">
                        					#{coll.jobNo}
                        				</p:column>
                        				<p:column style="width:150px" styleClass="center"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.HC')}">
                        					#{coll.hcNo}
                        				</p:column>
                        				<p:column style="width:150px" styleClass="center"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.SUB')}">
                        					#{coll.subNo}
                        				</p:column>
                        				<p:column style="width:100px;line-height: 1.5em;"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.UW')}"
                        					>
                        					<h:panelGroup layout="block" rendered="#{not empty coll.owner}"  style="padding : 5px 0;">
                        						<h:outputText value="#{coll.owner}" escape="false" />
                        					</h:panelGroup>
                        				</p:column>
                        				
                        				<p:column style="width:100px"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.type')}">
                        					#{coll.collateralType}
                        				</p:column>
                        				<p:column style="width:50px"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.id')}">
                        					#{coll.titleDeed}
                        				</p:column>
                        				<p:column 
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.detail')}">
                        					#{coll.mortgageDetail}
                        				</p:column>
                        				<p:column style="width:100px;line-height: 1.5em;"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.related')}"
                        					>
                        					<h:panelGroup layout="block" rendered="#{not empty coll.relatedWith}"  style="padding : 5px 0;">
                        						<h:outputText value="#{coll.relatedWith}" escape="false" />
                        					</h:panelGroup>
                        				</p:column>
                        				<p:column style="width:100px" styleClass="right"
                        					headerText="#{msg.get('app.mortgageDetail.detail.collateral.table.appraisalValue')}">
                        					<h:outputText value="#{coll.appraisalValue}">
                        						<f:convertNumber pattern="#,##0.00"/>
                        					</h:outputText>
                        				</p:column>
                        			</p:dataTable>	
                        		</td>
                        	</tr>
                        	<tr><td colspan="100%"><p:spacer height="1em"/></td></tr>
                        	<tr>
                              <td colspan="100%"><div class="separate"><!-- --></div></td>
                        	</tr>
                        	<tr>
                        		<td colspan="100%">
                        			<h2><h:outputText value="#{msg.get('app.mortgageDetail.appointee.title')}" /></h2>
	                            </td>
                        	</tr>
                        	
                        	<tr>
                        		<td class="title" >
                        			<p:outputLabel for='poa'
                        				value="#{msg.get('app.mortgageDetail.appointee.poa')}" />						
                        		</td>
                        		<td colspan="3">
                        			<p:selectOneRadio id='poa' value="#{mortgageDetail.mortgageInfoView.poa}">
                        				<p:ajax update="coll_owner_tbl,appointee_owner_tbl,appointee_relation,attorney_pane"
                        					process="@this"
                        					onstart="p_loading_dialog.show()"
                        					oncomplete="p_loading_dialog.hide()"
                        					partialSubmit="true"
                        					listener="#{mortgageDetail.onSelectPOA()}" />
                        				<f:selectItems value="#{enumGeneralControl.yesNoEnum}" var="radioEnum"
                        					itemLabel="#{msg.get(radioEnum.msgKey)}" itemValue="#{radioEnum}"
                        					/>
                                     </p:selectOneRadio>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td class="title" >
                        			<p:outputLabel 
                        				value="#{msg.get('app.mortgageDetail.appointee.collateralOwner')}" />						
                        		</td>
                        		<td colspan="3">
                        			<p:dataTable id='coll_owner_tbl' 
                        				rowIndexVar="rowIdx" value="#{mortgageDetail.collOwners}" var="owner">
                        				<p:column style="width:30px" styleClass="center">
                        					#{rowIdx+1}
                        				</p:column>
                        				<p:column style="width:200px" 
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.customerName')}"
                        					>
                        					#{owner.customerName}
                        				</p:column>
                        				<p:column style="width:200px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.citizen')}"
                        					>
                        					#{owner.citizenId}
                        				</p:column>
                        				<p:column style="width:150px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.customerId')}"
                        					>
                        					#{owner.tmbCustomerId}
                        				</p:column>
                        				<p:column style="width:200px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.relationship')}"
                        					>
                        					#{owner.relation}
                        				</p:column>
                        				<p:column style="width:50px" styleClass="center"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.poa')}">
                        					<p:selectBooleanCheckbox value="#{owner.POA}"
                        						rendered="#{owner.canSelectPOA}"
                        						disabled="#{not mortgageDetail.enablePOA}"
                        						styleClass="normal_checkbox"
                        						/>
                        				</p:column>
                        				<p:column style="width:30px" styleClass="center">
                        					<p:commandButton icon="ui-icon-pencil" title="#{msg.get('app.button.edit')}"
	                           						action="#{mortgageDetail.clickCustomerInfo(owner.customerId,owner.juristic)}"
	                           						ajax="false"
	                           						process="@this"
	                           						style="margin-right:0px !important"
	                           						/>
                        				</p:column>
                        			</p:dataTable>
                        		</td>
                        	</tr>
                        	<tr><td colspan="100%"><p:spacer height="1em"/></td></tr>
                        	<tr>
                        		<td class="title" >
                        			<p:outputLabel for="appointee_relation"
                        				value="#{msg.get('app.mortgageDetail.appointee.relationship')}" />						
                        		</td>
                        		<td colspan="3"> 
                        			<p:selectOneRadio id='appointee_relation' 
                        				value="#{mortgageDetail.mortgageInfoView.attorneyRelation}"
                        				disabled="#{not mortgageDetail.enablePOA}">
                        				<p:ajax update="appointee_owner_tbl,attorney_pane"
                        					process="@this"
                        					partialSubmit="true"
                        					onstart="p_loading_dialog.show()"
                        					oncomplete="p_loading_dialog.hide()"
                        					listener="#{mortgageDetail.onSelectAppointeeRelationship()}"
                        					/>
                        				<f:selectItems value="#{enumGeneralControl.attorneyRelationTypes}" var="attorneyType"
                        					itemLabel="#{msg.get(attorneyType.msgKey)}" itemValue="#{attorneyType}"
                        					/>
                        			</p:selectOneRadio>
                        		</td>
                        	</tr>
                        	<tr>
                        		<td></td>
                        		<td colspan="3">
                        			<p:dataTable id='appointee_owner_tbl'
                        				value="#{mortgageDetail.attorneySelectDataModel}" var="attorney" 
                        				rowIndexVar="rowIdx" disabledSelection="#{not mortgageDetail.appointeeOwnerSelectable}"
                        				selection="#{mortgageDetail.selectedAttorney}"
                        				>
                        				<p:ajax event="rowSelectRadio" update=":frmMain:attorney_pane"
                        					process="@this"
                        					partialSubmit="true"
                        					onstart="p_loading_dialog.show()"
                        					oncomplete="p_loading_dialog.hide()"
                        					listener="#{mortgageDetail.onSelectAppotineeOwner()}"
                        					/>
                        				<p:column selectionMode="single" style="width:30px" styleClass="center" />
                        				<p:column style="width:200px" 
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.customerName')}"
                        					>
                        					#{attorney.customerName}
                        				</p:column>
                        				<p:column style="width:200px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.citizen')}"
                        					>
                        					#{attorney.citizenId}
                        				</p:column>
                        				<p:column style="width:150px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.customerId')}"
                        					>
                        					#{attorney.tmbCustomerId}
                        				</p:column>
                        				<p:column style="width:200px"
                        					headerText="#{msg.get('app.mortgageDetail.appointee.collateralOwner.table.relationship')}"
                        					>
                        					#{attorney.relation}
                        				</p:column>
                        				
                        				<p:column style="width:30px" styleClass="center">
                        					<p:commandButton icon="ui-icon-pencil" title="#{msg.get('app.button.edit')}"
	                           						action="#{mortgageDetail.clickCustomerInfo(attorney.customerId,attorney.juristic)}"
	                           						ajax="false"
	                           						process="@this"
	                           						style="margin-right:0px !important"
	                           						/>
                        				</p:column>
                        			</p:dataTable>
                        		</td>
                        	</tr>
                        	<tr><td colspan="100%"><p:spacer height="1em"/></td></tr>
                        	<tr>
                        		<td class="title" colspan="100%">
                        			<h:outputText value="#{msg.get('app.mortgageDetail.powerattorney.title')}" />
	                            </td>
                        	</tr>
                        	<tr><td colspan="100%">
                        			<h:panelGroup id='attorney_pane' layout="block">
                        				<table class="content_table_form">
                        					<tr>
	                        					<td class="title" style="width: 180px">
	                        						<p:outputLabel  for="att_doctype"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.documentType')}" />
	                        					</td>
	                        					<td colspan="3">
				                        			<p:selectOneMenu id='att_doctype'
				                        				value="#{mortgageDetail.attorneyView.documentTypeId}"
				                        				disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateGeneralData) }"
				                        				>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.documentTypes}" />
				                        			</p:selectOneMenu>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel  for="att_personalid"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.personalID')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:inputText id='att_personalid' styleClass="large"
	                        							value="#{mortgageDetail.attorneyView.personalId}"
	                        							readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateGeneralData) }"
	                        							 />
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel  for="att_name"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.customerNameTH')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_title' styleClass="inline_select"
	                        							value="#{mortgageDetail.attorneyView.titleId}"
	                        							disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateGeneralData) }"
	                        							>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.titles}" />
				                        			</p:selectOneMenu>
				                        			<p:spacer width="5"/>
	                        						<p:inputText id='att_name' styleClass="large" 
	                        							value="#{mortgageDetail.attorneyView.nameTh}"
	                        							readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateGeneralData)}"/>
	                        						<p:spacer width="5"/>
	                        						<p:inputText id='att_surname' styleClass="largest"
	                        							value="#{mortgageDetail.attorneyView.lastNameTh}"
	                        							readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateGeneralData)}"/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel  for="att_dateofbirth"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.dateOfBirth')}" />
	                        					</td>
	                        					<td style="width:350px">
	                        						<clv:BECalendar id='att_dateofbirth' navigator="true" 
	                        							yearRange="#{mortgageDetail.ageYearRange}"
	                        							value="#{mortgageDetail.attorneyView.birthDate}"
			                        					pattern="dd/MM/yyyy" showOn="button"
			                                       		autocomplete="false" locale="th_TH"
			                                       		disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateGeneralData)}"
			                                       		/>
				                        		</td>
				                        		<td class="title" style="width:180px">
				                        			<p:outputLabel  for="att_age"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.age')}" />
				                        		</td>
				                        		<td>
				                        			<p:inputText id="att_age"
				                        				value="#{mortgageDetail.attorneyView.age}" 
				                        				readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateGeneralData)}">
				                        				<f:convertNumber pattern="0"/>
				                        			</p:inputText>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel  for="att_gender"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.gender')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_gender'
	                        							value="#{mortgageDetail.attorneyView.gender}"
														disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateGeneralData)}">
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{enumGeneralControl.genders}" var="gender"
				                        					itemLabel="#{msg.get(gender.msgKey)}" itemValue="#{gender}"
				                        					/>
				                        			</p:selectOneMenu>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel  for="att_race"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.race')}" />
	                        					</td>
	                        					<td style="width:350px">
	                        						<p:selectOneMenu id='att_race'
	                        							value="#{mortgageDetail.attorneyView.raceId}"
														disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateGeneralData)}">
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.races}"/>
				                        			</p:selectOneMenu>
				                        		</td>
				                        		<td class="title" style="width:180px">
				                        			<p:outputLabel  for="att_nationality"
				                        				value="#{msg.get('app.mortgageDetail.powerattorney.nationality')}" />
				                        		</td>
				                        		<td>
				                        			<p:selectOneMenu id='att_nationality'
				                        				value="#{mortgageDetail.attorneyView.nationalityId}"
														disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateGeneralData)}">
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.nationalities}"/>
				                        			</p:selectOneMenu>
				                        		</td>
				                        	</tr>
				                        	<tr><td colspan="100%"><p:spacer height="0.8em"/></td></tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel 
                        								value="#{msg.get('app.mortgageDetail.powerattorney.address')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<div style="width:100px;display:inline-block">
		                        						<p:outputLabel for="att_addressno" styleClass="title"
		                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.addressNo')}" />
		                        					</div>
		                        					<p:inputText id='att_addressno' styleClass="smaller"
		                        						value="#{mortgageDetail.attorneyView.addressNo}"
		                        						readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress)}"
		                        						/>
		                        					<p:spacer width="30" height="10"/>
		                        					<p:outputLabel for="att_addressmoo" styleClass="title"
		                        						value="#{msg.get('app.mortgageDetail.powerattorney.address.moo')}" />
	                        						<p:spacer width="8"/>
	                        						<p:inputText id='att_addressmoo' styleClass="smaller"
	                        							value="#{mortgageDetail.attorneyView.addressNo}"
		                        						readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress)}"
		                        						/>
	                        						<p:spacer width="30" height="10"/>
	                        						<p:outputLabel for="att_addressbuilding" styleClass="title"
		                        						value="#{msg.get('app.mortgageDetail.powerattorney.address.building')}" />
	                        						<p:spacer width="8"/>
	                        						<p:inputText id='att_addressbuilding'
	                        							value="#{mortgageDetail.attorneyView.building}"
		                        						readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress)}"
		                        						/>
	                        						
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td></td>
	                        					<td colspan="3">
	                        						<div style="width:100px;display:inline-block">
		                        						<p:outputLabel for="att_addressstreet" styleClass="title"
		                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.street')}" />
		                        					</div>
		                        					<p:inputText id='att_addressstreet' style="width:500px"
		                        						value="#{mortgageDetail.attorneyView.road}"
		                        						readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress)}"
		                        						/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td></td>
	                        					<td colspan="3">
	                        						<div style="width:100px;height: 10px;float:left"></div>
		                        					<p:selectOneMenu id="att_province" styleClass="inline_select"
		                        						value="#{mortgageDetail.attorneyView.provinceId}"
														disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress)}">
														<p:ajax update="att_district,att_subdistrict" listener="#{mortgageDetail.onSelectProvince()}"/>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.provinces}"/>
				                        			</p:selectOneMenu>
				                        			
				                        			<p:selectOneMenu id="att_district" styleClass="inline_select"
				                        				style="margin-left:4px;margin-right:4px"
		                        						value="#{mortgageDetail.attorneyView.districtId}"
														disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress and mortgageDetail.attorneyView.provinceId gt 0)}">
														<p:ajax update="att_subdistrict" listener="#{mortgageDetail.onSelectDistrict()}"/>
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.districts}"/>
				                        			</p:selectOneMenu>
				                        			
				                        			<p:selectOneMenu id="att_subdistrict" styleClass="inline_select"
		                        						value="#{mortgageDetail.attorneyView.subDistrictId}"
														disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress and mortgageDetail.attorneyView.districtId gt 0)}">
														<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.subdistricts}"/>
				                        			</p:selectOneMenu>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td></td>
	                        					<td colspan="3">
	                        						<div style="width:100px;display:inline-block">
		                        						<p:outputLabel for="att_addresspostcode" styleClass="title"
		                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.postcode')}" />
		                        					</div>
		                        					<p:inputText id='att_addresspostcode'
		                        						value="#{mortgageDetail.attorneyView.postalCode}"
		                        						readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress)}"
		                        						maxlength="5"
		                        						/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td></td>
	                        					<td colspan="3">
	                        						<div style="width:100px;height: 10px;float:left">
		                        						<p:outputLabel for="att_addresscountry" styleClass="title"
		                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.country')}" />
		                        					</div>
		                        					<p:selectOneMenu id="att_addresscountry" styleClass="inline_select"
		                        						value="#{mortgageDetail.attorneyView.countryId}"
		                        						disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress)}">
														<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.countries}"/>
				                        			</p:selectOneMenu>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td></td>
	                        					<td colspan="3">
	                        						<div style="width:100px;display:inline-block">
		                        						<p:outputLabel for="att_addressphone" styleClass="title"
		                        							value="#{msg.get('app.mortgageDetail.powerattorney.address.phone')}" />
		                        					</div>
		                        					<p:inputText id='att_addressphone'
		                        						value="#{mortgageDetail.attorneyView.phoneNumber}"
		                        						readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress)}"
		                        						/>
		                        					<p:spacer width="10"/>
		                        					<p:outputLabel for="att_addressphoneext" 
		                        						value="#{msg.get('app.mortgageDetail.powerattorney.address.phoneext')}" />
		                        					<p:spacer width="5"/>
		                        					<p:inputText id='att_addressphoneext'
		                        						value="#{mortgageDetail.attorneyView.phoneExt}"
		                        						readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateAddress)}"
		                        						/>
				                        		</td>
				                        	</tr>
				                        	
				                        	<tr><td colspan="100%"><p:spacer height="0.8em"/></td></tr>
				                        	
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel for="att_marital"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.marital')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_marital'
	                        							value="#{mortgageDetail.attorneyView.maritalStatusId}"
														disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateRelationInfo)}">
														<p:ajax update="att_marriagetitle,att_marriagename,att_marriagesurname" />
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.maritalStatuses}"/>
				                        			</p:selectOneMenu>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel for="att_marriagename"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.marriageNameTH')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_marriagetitle' styleClass="inline_select"
	                        							value="#{mortgageDetail.attorneyView.spouseTitleId}"
														disabled="#{not mortgageDetail.canUpdateSpouse()}">
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.titles}"/>
				                        			</p:selectOneMenu>
				                        			<p:spacer width="5"/>
	                        						<p:inputText id='att_marriagename' styleClass="large" 
	                        							value="#{mortgageDetail.attorneyView.spouseNameTh}"
	                        							readonly="#{not mortgageDetail.canUpdateSpouse()}"/>
	                        						<p:spacer width="5"/>
	                        						<p:inputText id='att_marriagesurname' styleClass="largest"
	                        							value="#{mortgageDetail.attorneyView.spouseLastNameTh}"
	                        							readonly="#{not mortgageDetail.canUpdateSpouse()}"/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        	<td class="title">
	                        						<p:outputLabel for="att_fathername"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.fatherNameTH')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_fathertitle' styleClass="inline_select"
	                        							value="#{mortgageDetail.attorneyView.fatherTitleId}"
														disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateRelationInfo)}">
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.titles}"/>
				                        			</p:selectOneMenu>
				                        			<p:spacer width="5"/>
	                        						<p:inputText id='att_fathername' styleClass="large" 
	                        							value="#{mortgageDetail.attorneyView.fatherNameTh}"
	                        							readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateRelationInfo)}"/>
	                        						<p:spacer width="5"/>
	                        						<p:inputText id='att_fathersurname' styleClass="largest"
	                        							value="#{mortgageDetail.attorneyView.fatherLastNameTh}"
	                        							readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateRelationInfo)}"/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel for="att_mothername"
                        								value="#{msg.get('app.mortgageDetail.powerattorney.motherNameTH')}" />
	                        					</td>
	                        					<td colspan="3">
	                        						<p:selectOneMenu id='att_mothertitle' styleClass="inline_select"
	                        							value="#{mortgageDetail.attorneyView.motherTitleId}"
														disabled="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateRelationInfo)}">
				                        				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				                        				<f:selectItems value="#{mortgageDetail.titles}"/>
				                        			</p:selectOneMenu>
				                        			<p:spacer width="5"/>
	                        						<p:inputText id='att_mothername' styleClass="large" 
	                        							value="#{mortgageDetail.attorneyView.motherNameTh}"
	                        							readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateRelationInfo)}"/>
	                        						<p:spacer width="5"/>
	                        						<p:inputText id='att_mothersurname' styleClass="largest"
	                        							value="#{mortgageDetail.attorneyView.motherLastNameTh}"
	                        							readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateRelationInfo)}"/>
				                        		</td>
				                        	</tr>
				                        	<tr>
				                        		<td class="title">
	                        						<p:outputLabel 
                        								value="#{msg.get('app.mortgageDetail.powerattorney.contactNumber')}" />
	                        					</td>
	                        					<td colspan="3">
                       								<div class="title" style="width:100px;float:left">
                       									<p:outputLabel for="att_homenumber"
                      											value="#{msg.get('app.mortgageDetail.powerattorney.homeNumber')}" />
                       								</div>
                       								<div style="width:180px;float:left">
                       									<p:inputText id="att_homenumber"
                       										value="#{mortgageDetail.attorneyView.homePhoneNumber}"
					                        				readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateOthers)}">
					                        			</p:inputText>
                       								</div>
                       								<div class="title" style="width:100px;float:left">
	                        								<p:outputLabel for="att_extnumber"
                        										value="#{msg.get('app.mortgageDetail.powerattorney.extNumber')}" />
                       								</div>
                       								<div style="width:180px;float:left">
                       									<p:inputText id="att_extnumber" 
                       										value="#{mortgageDetail.attorneyView.homePhoneExt}"
					                        				readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateOthers)}">
					                        			</p:inputText>
                       								</div>
                       							</td>
                       						</tr>
                       						<tr>
                       							<td></td>
                       							<td colspan="3">
                       								<div class="title" style="width:100px;float:left">
                       									<p:outputLabel for="att_mobile1"
                        											value="#{msg.get('app.mortgageDetail.powerattorney.mobile1Number')}" />
                       								</div>
                       								<div style="width:180px;float:left">
                       									<p:inputText id="att_mobile1" 
                       										value="#{mortgageDetail.attorneyView.mobile1}"
							                        		readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateOthers)}">
					                        			</p:inputText>
                       								</div>
                       								<div class="title" style="width:100px;float:left">
	                        								<p:outputLabel for="att_mobile2"
                        											value="#{msg.get('app.mortgageDetail.powerattorney.mobile2Number')}" />
                       								</div>
                       								<div style="width:180px;float:left">
                       									<p:inputText id="att_mobile2"
                       										value="#{mortgageDetail.attorneyView.mobile2}" 
					                        				readonly="#{not (mortgageDetail.attorneyDetailEditable and mortgageDetail.attorneyView.canUpdateOthers)}">
					                        			</p:inputText>
                       								</div>
                       							</td>
                       						</tr>
	                        				
                        				</table>
                        			</h:panelGroup>
                        	</td></tr>
                        	
                        	<tr><td colspan="100%"><p:spacer height="1em"/></td></tr>
                        	
	                        <tr>
	                            <td colspan="100%"><p:separator/></td>
	                        </tr>
	                        <tr>
	                            <td colspan="100%"><p:spacer width="5px"/></td>
	                        </tr>
	                        <tr>
	                             <td colspan="100%" class="center">
	                                 <p:commandButton id="saveBtn" value="#{msg.get('app.button.save')}" 
	                                 	styleClass="medium"
										onstart="handleOnStartOpenCfmDlg();"
										oncomplete="handleOnCompleteOpenCfmDlg(args,p_saveMortgageDetailDlg);"
										update=":frmMain:full_main_container,:result_dialog"
	                                 	 />
	                                 <p:commandButton id="cancelBtn" value="#{msg.get('app.button.cancel')}" 
										styleClass="medium"
										/>
	                             </td>
	                        </tr>
                        </table>
                    </div>
                </div>
                <div id="bottom_line"><!-- --></div>
            </div>
           
            <div class="clear"></div>
            <!-- Start Footer -->
            <ui:include src="include/footer.xhtml" />
            <!-- End Footer -->
            </h:panelGroup>
            </div>
        </h:form>
    </p:panel>
   
   <ui:include src="dialog/postLoadingAndErrorDialog.xhtml" />
    <ui:include src="dialog/confirmEditDlg.xhtml">
		<ui:param name="id" value="saveMortgageDetailDlg"/>
		<ui:param name="name" value="p_saveMortgageDetailDlg"/>
		<ui:param name="formId" value="saveMortgageDetailFrm"/>
		<ui:param name="controller" value="#{mortgageDetail}"/>
		<ui:param name="action" value="onSaveMortgageDetail"/>
		<ui:param name="update" value=":frmMain:full_main_container"/>
	</ui:include>
</h:body>
</f:view>
</html>