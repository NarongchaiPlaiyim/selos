<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:clv="http://clevel.com/ui">

<h:head>
    <title>#{msg.get('app.custInfoJuri.post.title')}</title>
    <h:outputStylesheet name="css/style.css" />
    <h:outputScript library="js" name="custom.js" />
</h:head>

<h:body>
    <f:event type="preRenderView" listener="#{postCustomerInfoJuris.preRender()}" />
    
    <p:panel id="pnl_maincontainer" styleClass="panel">
        <h:form id="frmMain">
        	<div id="main_container">
        	
            <!-- Start Header Logo -->
            <ui:include src="include/header_logo.xhtml" />
            <!-- End Header Logo -->
            <!-- Start Header Detail -->
            <ui:include src="include/header_detail.xhtml" />
            <!-- End Header Detail -->
            <!-- Start Menu -->
            <ui:include src="include/menubar.xhtml" />
           
            <!-- End Menu -->
            <h:panelGroup id="full_main_container" layout="block">
            <div id="content_container">
                <div id="content_name">#{msg.get('app.custInfoJuri.post.header')}</div>
                <div id="content">
                    <div id="content_info">
                        <div id="content_trackchange">
                        	[
                        	<h:outputLink value="#">
                        		<h:outputText value="#{msg.get('app.viewTrackChange')}" />
                        	</h:outputLink>
                        	]
                        </div>
                        <div id="content_lastupdate">
                        	<h:outputText value="#{msg.get('app.lastUpdateBy')} "/>
                        	<h:outputText value="#{postCustomerInfoJuris.lastUpdateBy}"/>, 
                        	<h:outputText value="#{postCustomerInfoJuris.lastUpdateDateTime}">
                        		<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" locale="th_TH"/>
                        	</h:outputText>
                        </div>
                    </div>
                    <div id="content_form">
                        <!-- start content -->
                        <table class="content_table_form">
	                        <tr>
                               <td>
                                    <table>
                                        <tr>
                                            <td class="title" style="width:200px;">
                                                <p:outputLabel value="#{msg.get('app.approveType')}" styleClass="center"/>
                                            </td>
                                            <td style="width:200px;">
                                                <p:selectOneRadio disabled="true" value="#{postCustomerInfoJuris.approveType}">
                                                	<f:selectItems value="#{enumGeneralControl.approveTypes}" var="approveType"
                                                		itemLabel="#{msg.get(approveType.msgKey)}" itemValue="#{approveType}" 
                                                		/>
                                                </p:selectOneRadio>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                              <td><div class="separate"><!-- --></div></td>
                        	</tr>
                        	<tr>
                        		<td>
                        			<h2><h:outputText value="#{msg.get('app.custInfoJuri.post.subtitle')}" /></h2>
	                            </td>
                        	</tr>
                        	<tr>
                        		<td>
<table class="content_table_form">
	<tr>
		<td class="title" style="width: 270px">
			<p:outputLabel  for="relation"
				value="#{msg.get('app.custInfoJuri.content.relationship')}" />
		</td>
		<td style="width:300px">
			<p:inputText id='relation'
				value="#{postCustomerInfoJuris.customer.displayRelation}"
				readonly="true"
				/>
		</td>
		<td class="title" style="width:150px">
			<p:outputLabel  for="coll_owner"
				value="#{msg.get('app.custInfoJuri.content.collOwner')}" />
		</td>
		<td>
			<p:selectOneRadio id='coll_owner' disabled="true" value="#{postCustomerInfoJuris.customer.collateralOwner}">
            	<f:selectItems value="#{enumGeneralControl.yesNoEnum}" var="yesNoEnum"
            		itemLabel="#{msg.get(yesNoEnum.msgKey)}" itemValue="#{yesNoEnum}" 
            		/>
            </p:selectOneRadio>
		</td>
	</tr>
	<tr>
		<td class="title">
			<p:outputLabel  for="doctype"
				value="#{msg.get('app.custInfoJuri.content.docType')}" />
		</td>
		<td colspan="3">
			<p:inputText id='doctype'
				value="#{postCustomerInfoJuris.customer.displayDocumentType}"
				readonly="true"
				/>
		</td>
	</tr>
	<tr>
		<td class="title">
			<p:outputLabel  for="personalid"
				value="#{msg.get('app.custInfoJuri.content.regisId')}" />
		</td>
		<td colspan="3">
			<p:inputText id='personalid' styleClass="large"
				value="#{postCustomerInfoJuris.customer.personalId}"
				readonly="true"
				 />
		</td>
	</tr>
	<tr>
		<td class="title">
			<p:outputLabel  for="title"
				value="#{msg.get('app.custInfoJuri.content.nameTh')}" />
		</td>
		<td colspan="3">
			<p:selectOneMenu id='title' styleClass="inline_select"
				value="#{postCustomerInfoJuris.customer.titleId}"
				rendered="#{postCustomerInfoJuris.canUpdateInfo}"
				required="true" requiredMessage="#{msg.get('app.custInfoJuri.content.nameTh.required')}"
				>
				<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
				<f:selectItems value="#{postCustomerInfoJuris.titles}" />
			</p:selectOneMenu>
			<p:inputText styleClass="small"
				value="#{postCustomerInfoJuris.customer.displayTitle}"
				readonly="true"
				rendered="#{not postCustomerInfoJuris.canUpdateInfo}"
				/>
			<p:spacer width="5"/>
			<p:inputText id='nameTH' styleClass="largest" 
				value="#{postCustomerInfoJuris.customer.nameTH}"
				readonly="true"/>
		</td>
	</tr>
	<tr>
		<td class="title">
			<p:outputLabel  for="registdate"
				value="#{msg.get('app.custInfoJuri.content.regisDate')}" />
		</td>
		<td>
			<clv:BECalendar id='registdate' 
				value="#{postCustomerInfoJuris.customer.registrationDate}"
				pattern="dd/MM/yyyy" showOn="button"
				autocomplete="false" locale="th_TH"
				disabled="true"
				/>
		</td>
		<td class="title">
			<p:outputLabel  for="age"
				value="#{msg.get('app.custInfoJuri.content.age')}" />
		</td>
		<td>
			<p:inputText id="age" styleClass="smaller"
				value="#{postCustomerInfoJuris.customer.age}" 
				readonly="true">
				<f:convertNumber pattern="0"/>
			</p:inputText>
		</td>
	</tr>
	<tr>
		<td class="title">
			<p:outputLabel  for="tmbCustomerId"
				value="#{msg.get('app.custInfoJuri.content.tmbCus')}" />
		</td>
		<td colspan="3">
			<p:inputText id="tmbCustomerId"
				value="#{postCustomerInfoJuris.customer.tmbCustomerId}"
				readonly="true"
				/>
		</td>
	</tr>
	<tr>
		<td class="title">
			<p:outputLabel for="businesstype"
				value="#{msg.get('app.custInfoJuri.content.bussType')}" />
		</td>
		<td colspan="3">
			<p:inputText id="businesstype"
				value="#{postCustomerInfoJuris.customer.displayBusinessType}"
				readonly="true"
				/>
		</td>
	</tr>
	
	
	<tr><td colspan="100%"><p:spacer height="0.8em"/></td></tr>
	
	<ui:repeat var="address" value="#{postCustomerInfoJuris.customer.addresses}"
		varStatus="repeatStatus"
		>
		<tr>
			<td rowspan="2" class="title top">#{address.displayAddressType} :</td>
			<td colspan="3">
				<p:selectOneRadio value="#{address.addressFlag}"
					rendered="#{not empty address.availableFlagList}"
					disabled="#{not postCustomerInfoJuris.canUpdateInfo}"
					>
					<p:ajax update="address_detail" 
						listener="#{postCustomerInfoJuris.onSelectAddressFlag(repeatStatus.index)}"
						onstart="p_loading_dialog.show()"
						oncomplete="p_loading_dialog.hide()"
						/>
	            	<f:selectItems value="#{address.availableFlagList}" var="flag"
	            		itemLabel="#{postCustomerInfoJuris.getAddressFlagLabel(flag)}" itemValue="#{flag}" 
	            		/>
	            </p:selectOneRadio>
			</td>
		</tr>
		<tr>
			<td  colspan="3">
				<h:panelGroup layout="block" id="address_detail" style="padding-bottom:28px">
					<h:panelGroup layout="block" styleClass="div_row">
						<div style="width:120px;display:inline-block">
							<p:outputLabel for="addressno" styleClass="title"
								value="#{msg.get('app.custInfoJuri.content.no')}" />
						</div>
						<p:inputText id='addressno' styleClass="smaller"
							value="#{address.addressNo}"
							readonly="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							/>
						<p:spacer width="30" height="10"/>
						<p:outputLabel for="addressmoo" styleClass="title"
							value="#{msg.get('app.custInfoJuri.content.moo')}" />
						<p:spacer width="8"/>
						<p:inputText id='addressmoo'
							value="#{address.moo}"
							readonly="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							onkeydown="return onKeyDownNumber(event);"
							onkeypress="return onKeyPressNumber(event);"
							size="5" maxlength="5"
							/>
						<p:spacer width="30" height="10"/>
						<p:outputLabel for="addressbuilding" styleClass="title"
							value="#{msg.get('app.custInfoJuri.content.building')}" />
						<p:spacer width="8"/>
						<p:inputText id='addressbuilding'
							value="#{address.building}"
							readonly="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							/>
					</h:panelGroup>
					
					<h:panelGroup layout="block" styleClass="div_row">
						<div style="width:120px;display:inline-block">
							<p:outputLabel for="addressstreet" styleClass="title"
								value="#{msg.get('app.custInfoJuri.content.road')}" />
						</div>
						<p:inputText id='addressstreet' style="width:500px"
							value="#{address.road}"
							readonly="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"		
							/>
					</h:panelGroup>
					
					<h:panelGroup layout="block" styleClass="div_row">
						<div style="width:120px;height: 10px;float:left"></div>
						<p:selectOneMenu id="province" styleClass="inline_select"
							value="#{address.provinceId}"
							rendered="#{(postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							>
							<p:ajax update="district,subdistrict" 
								listener="#{postCustomerInfoJuris.onSelectProvince(repeatStatus.index)}"/>
							
							<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
							<f:selectItems value="#{postCustomerInfoJuris.provinces}"/>
						</p:selectOneMenu>
						<p:inputText
							value="#{address.displayProvince}"
							readonly="true"
							rendered="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							/>
						
						<p:selectOneMenu id="district" styleClass="inline_select"
							style="margin-left:4px;margin-right:4px"
							value="#{address.districtId}"
							rendered="#{(postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							>
							<p:ajax update="subdistrict" 
								listener="#{postCustomerInfoJuris.onSelectDistrict(repeatStatus.index)}"/>
							<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
							<f:selectItems value="#{address.districtList}"/>
						</p:selectOneMenu>
						<p:inputText
							value="#{address.displayDistrict}"
							style="margin-left:4px !important;margin-right:4px !important;"
							readonly="true"
							rendered="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							/>
						
						<p:selectOneMenu id="subdistrict" styleClass="inline_select"
							value="#{address.subDistrictId}"
							rendered="#{(postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							>
							<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
							<f:selectItems value="#{address.subDistrictList}"/>
						</p:selectOneMenu>
						<p:inputText
							value="#{address.displaySubDistrict}"
							readonly="true"
							rendered="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							/>
					</h:panelGroup>
					
					<h:panelGroup layout="block" styleClass="div_row">
						<div style="width:120px;display:inline-block">
							<p:outputLabel for="addresspostcode" styleClass="title"
								value="#{msg.get('app.custInfoJuri.content.postalCode')}" />
						</div>
						<p:inputText id='addresspostcode'
							value="#{address.postalCode}"
							readonly="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							onkeydown="return onKeyDownNumber(event);"
							onkeypress="return onKeyPressNumber(event);"
							size="5" maxlength="5"
							/>
					</h:panelGroup>
					
					<h:panelGroup layout="block" styleClass="div_row">
						<div style="width:120px;height: 10px;float:left">
							<p:outputLabel for="addresscountry" styleClass="title"
								value="#{msg.get('app.custInfoJuri.content.country')}" />
						</div>
						<p:selectOneMenu id="addresscountry" styleClass="inline_select"
							value="#{address.countryId}"
							rendered="#{(postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							>
							<f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
							<f:selectItems value="#{postCustomerInfoJuris.countries}"/>
						</p:selectOneMenu>
						<p:inputText
							value="#{address.displayCountry}"
							readonly="true"
							rendered="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							/>
					</h:panelGroup>
					
					<h:panelGroup layout="block" styleClass="div_row">
						<div style="width:120px;display:inline-block">
							<p:outputLabel for="addressphone" styleClass="title"
								value="#{msg.get('app.custInfoJuri.content.tel')}" />
						</div>
						<p:inputText id='addressphone'
							value="#{address.phoneNumber}"
							readonly="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"
							onkeydown="return onKeyDownNumber(event);"
                            onkeypress="return onKeyPressNumber(event);"
                            maxlength="10"
							/>
						<p:spacer width="10"/>
						<p:outputLabel for="addressphoneext" 
							value="#{msg.get('app.custInfoJuri.content.telTo')}" />
						<p:spacer width="5"/>
						<p:inputText id='addressphoneext'
							value="#{address.phoneExt}"
							size="5"
							onkeydown="return onKeyDownNumber(event);"
                            onkeypress="return onKeyPressNumber(event);"
                            maxlength="10"
							readonly="#{not (postCustomerInfoJuris.canUpdateInfo and address.canUpdate())}"	
						/>
					</h:panelGroup>
				</h:panelGroup>
			</td>
		</tr>
	</ui:repeat>	
	
	<tr>
		<td class="title">
			<p:outputLabel for="mailing_addresstype"
				value="#{msg.get('app.custInfoJuri.content.mailAdd')}" />
		</td>
		<td colspan="3">
			<p:inputText id='mailing_addresstype'
				value="#{postCustomerInfoJuris.customer.displayMailingAddressType}"
				readonly="true"
				/>
		</td>
	</tr>
	<tr>
		<td class="title">
			<p:outputLabel for="contactName"
				value="#{msg.get('app.custInfoJuri.content.contactName')}" />
		</td>
		<td colspan="3">
			<p:inputText id='contactName'
				value="#{postCustomerInfoJuris.customer.contactPerson}"
				readonly="true"
				/>
		</td>
	</tr>
	<tr>
		<td class="title">
			<p:outputLabel for="mobile"
				value="#{msg.get('app.custInfoJuri.content.mobile')}" />
		</td>
		<td colspan="3">
			<p:inputText id='mobile'
				value="#{postCustomerInfoJuris.customer.mobile}"
				readonly="true"
				/>
		</td>
	</tr>
	<tr>
		<td class="title">
			<p:outputLabel for="fax"
				value="#{msg.get('app.custInfoJuri.content.fax')}" />
		</td>
		<td colspan="3">
			<p:inputText id='fax'
				value="#{postCustomerInfoJuris.customer.fax}"
				readonly="true"
				/>
		</td>
	</tr>
	<tr>
		<td class="title">
			<p:outputLabel for="email"
				value="#{msg.get('app.custInfoJuri.content.email')}" />
		</td>
		<td colspan="3">
			<p:inputText id='email'
				value="#{postCustomerInfoJuris.customer.email}"
				readonly="true"
				/>
		</td>
	</tr>
</table>
                        		</td>
                        	</tr>
                        	
                        	<tr><td colspan="100%"><p:spacer height="1em"/></td></tr>
                        	
	                        <tr>
	                            <td colspan="100%"><p:separator/></td>
	                        </tr>
	                        <tr>
	                            <td colspan="100%"><p:spacer width="5px"/></td>
	                        </tr>
	                        <tr>
	                             <td colspan="100%" class="center">
	                                 <p:commandButton id="saveBtn" value="#{msg.get('app.button.save')}" 
	                                 	styleClass="medium"
	                                 	onstart="handleOnStartOpenCfmDlg();"
	                                 	oncomplete="handleOnCompleteOpenCfmDlg(args,p_savePostCustJurisDlg);"
	                                 	update=":frmMain:full_main_container,:result_dialog"
	                                 	 />
	                                 <p:commandButton id="cancelBtn" value="#{msg.get('app.button.cancel')}" 
										styleClass="medium"
										/>
	                             </td>
	                        </tr>
                        	
                        </table>
                    </div>
                </div>
                <div id="bottom_line"><!-- --></div>
            </div>
           
            <div class="clear"></div>
            <!-- Start Footer -->
            <ui:include src="include/footer.xhtml" />
            <!-- End Footer -->
            </h:panelGroup>
            </div>
        </h:form>
    </p:panel>
    
 	<ui:include src="dialog/postLoadingAndErrorDialog.xhtml" />
    <ui:include src="dialog/confirmEditDlg.xhtml">
		<ui:param name="id" value="savePostCustJurisDlg"/>
		<ui:param name="name" value="p_savePostCustJurisDlg"/>
		<ui:param name="formId" value="savePostCustJurisFrm"/>
		<ui:param name="controller" value="#{postCustomerInfoJuris}"/>
		<ui:param name="action" value="onSaveCustomerInfo"/>
		<ui:param name="update" value=":frmMain:full_main_container"/>
	</ui:include>
</h:body>
</f:view>
</html>