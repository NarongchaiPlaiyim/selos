<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Business Information Detail</title>
        <link type="text/css" rel="stylesheet" href="../resources/css/style.css"/>
        <script type="text/javascript" language="javascript" src="#{request.contextPath}/resources/js/jquery.numeric.js"/>
        <script type="text/javascript" language="javascript" src="#{request.contextPath}/resources/js/custom.js"/>
        <script type="text/javascript" src="../resources/js/superfish.js"></script>
    </h:head>
    <h:body>
    <p:panel id="pnl_maincontainer" style="border:0; margin:0; padding: 0;">
        <h:form id="frmMain">
        <div id="main_container">
            <!-- Start Header Logo -->
            <ui:include src="../resources/header_logo.xhtml" />
            <!-- End Header Logo -->
            <!-- Start Header Detail -->
            <ui:include src="../resources/header_detail.xhtml" />
            <!-- End Header Detail -->
            <!-- Start Menu -->
            <ui:include src="include/menubar.xhtml" />
            <!-- End Menu -->
            <div id="content_container">
                <div id="content_name"><p:outputLabel value="#{msg.get('app.bizInfoDetail.header')}"/></div>
                <div id="content">
                    <table id="content_form" class="content_table_form">
                        <tr>
                            <td colspan="6" class="right" style="padding-right: 1%;">
                                Last update by MR.BDM Maker , 06/06/2556 10:05:39
                            <a style="cursor: pointer;" href="#">[View Track Change]</a>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="6"><div class="separate"><!-- --></div></td>
                        </tr>
                        <tr>
                            <td class="title" style="width: 25%"> <p:outputLabel value="#{msg.get('app.bizInfoDetail.label.businessInfoDetail')}"/> : </td>
                            <td colspan="5">
                                <p:inputText styleClass="width: 40%;" value="#{bizInfoDetail.bizInfoDetailView.bizInfoText}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="title"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.tradeType')}"/> : </td>
                            <td colspan="5">
                                <p:selectOneMenu styleClass="largest" size="1" value="#{bizInfoDetail.bizInfoDetailView.bizActivity.code}"
                                                 id="bizActivityId">
                                    <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                                    <f:selectItems value="#{bizInfoDetail.businessActivityList}"
                                                   var="bizActivity"
                                                   itemLabel="#{bizActivity.description}"
                                                   itemValue="#{bizActivity.code}"/>
                                </p:selectOneMenu>
                            </td>
                        </tr>
                        <tr>
                            <td class="title"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.bizType')}"/> : </td>
                            <td colspan="5">
                                <p:selectOneMenu styleClass="largest" size="1" value="#{bizInfoDetail.bizInfoDetailView.bizType.id}"
                                                 id="bizTypeId">
                                    <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                                    <f:selectItems value="#{bizInfoDetail.businessTypeList}"
                                                   var="bizType"
                                                   itemLabel="#{bizType.name}"
                                                   itemValue="#{bizType.id}"/>
                                </p:selectOneMenu>
                            </td>
                        </tr>
                        <tr>
                            <td class="title"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.bizGroup')}"/> : </td>
                            <td colspan="5">
                                <p:selectOneMenu styleClass="largest" size="1" value="#{bizInfoDetail.bizInfoDetailView.bizGroup.id}"
                                    id="businessGroupId">
                                    <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                                    <f:selectItems value="#{bizInfoDetail.businessGroupList}"
                                                   var="businessGroup"
                                                   itemLabel="#{businessGroup.name}"
                                                   itemValue="#{businessGroup.id}"/>
                                    <p:ajax process=":frmMain" listener="#{bizInfoDetail.onChangeBusinessGroup()}" update=":frmMain" />
                                </p:selectOneMenu>
                            </td>
                        </tr>
                        <tr>
                            <td class="title" style="line-height: 15px;"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.bizDesc')}"/> : </td>
                            <td colspan="5">
                                <p:selectOneMenu styleClass="largest" size="1"  value="#{bizInfoDetail.bizInfoDetailView.bizDesc.id}"
                                    id="businessDescriptionId">
                                    <f:selectItem itemLabel="- Please Select -" itemValue=""/>
                                    <f:selectItems value="#{bizInfoDetail.businessDescriptionList}"
                                                   var="businessDescription"
                                                   itemLabel="#{businessDescription.name}"
                                                   itemValue="#{businessDescription.id}"/>
                                    <p:ajax process=":frmMain" listener="#{bizInfoDetail.onChangeBusinessDesc()}" update=":frmMain" />
                                </p:selectOneMenu>
                            </td>
                        </tr>
                        <tr>
                            <td class="title"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.bizCode')}"/> : </td>
                            <td style="width: 20%">
                                <p:inputText styleClass="large" id="bizCode" value="#{bizInfoDetail.bizInfoDetailView.bizCode}"/>

                            </td>
                        </tr>
                        <tr>
                            <td class="title" style="width: 10%;">
                                <p:outputLabel value="#{msg.get('app.bizInfoDetail.label.incomeFactor')}"/> :
                            </td>
                            <td>
                                <p:inputText styleClass="right" id="incomeFactor" value="#{bizInfoDetail.bizInfoDetailView.incomeFactor}">
                                    <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                    <p:ajax event="blur" update=":frmMain:incomeFactor"/>
                                </p:inputText>
                            </td>
                            <td class="title" style="width: 22%;">
                                <p:outputLabel value="#{msg.get('app.bizInfoDetail.label.adjustedIncomeFactor')}"/> :
                            </td>
                            <td colspan="3">
                                <p:inputText styleClass="right" id="adjustedIncomeFactor" value="#{bizInfoDetail.bizInfoDetailView.adjustedIncomeFactor}">
                                    <f:convertNumber pattern="#,##0" minFractionDigits="2" maxFractionDigits="2"/>
                                    <p:ajax event="blur" update=":frmMain:adjustedIncomeFactor"/>
                                </p:inputText>
                            </td>
                        </tr>
                        <tr>
                            <td class="title">
                                <p:outputLabel value="#{msg.get('app.bizInfoDetail.label.bizComment')}"/> : 
                            </td>
                            <td colspan="5">
                                <p:inputText styleClass="width: 40%;" value="#{bizInfoDetail.bizInfoDetailView.bizComment}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="title"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.percentBusiness')}"/> : </td>
                            <td colspan="5">
                                <p:inputText styleClass="right" id="percentBiz" value="#{bizInfoDetail.bizInfoDetailView.percentBiz}">
                                    <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                    <p:ajax event="blur" update=":frmMain:percentBiz"/>
                                </p:inputText>
                            </td>
                        </tr>
                        <tr>
                            <td class="title"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.bizPermission')}"/> : </td>
                            <td colspan="5" class="title">
                                <p:selectOneRadio id="bizPermissionRadio" value="#{bizInfoDetail.bizInfoDetailView.bizPermission}" layout="custom">
                                    <f:selectItem itemLabel="NO"  itemValue="N" />
                                    <f:selectItem itemLabel="Yes" itemValue="Y" />
                                </p:selectOneRadio>
                                <p:radioButton id="Peropt1" for="bizPermissionRadio" itemIndex="0"/> <p:spacer width="8px" />
                                <h:outputLabel for="Peropt1" value="No" />
                            </td>
                        </tr>
                        <tr>
                            <td class="title"></td>
                            <td class="title">
                                <p:radioButton id="Peropt2" for="bizPermissionRadio" itemIndex="1"/> <p:spacer width="8px" />
                                <h:outputLabel for="Peropt2" value="Yes" />
                            </td>
                            <td class="title">
                                <p:outputLabel value="#{msg.get('app.bizInfoDetail.label.bizDocPermission')}"/> :
                            </td>
                            <td colspan="3" class="title">
                                <p:inputText styleClass="largest" id="bizDocPermission" value="#{bizInfoDetail.bizInfoDetailView.bizDocPermission}" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" class="title"></td>
                            <td class="title">
                                <p:outputLabel value="#{msg.get('app.bizInfoDetail.label.bizDocExpiryDate')}"/> :
                            </td>
                            <td colspan="2" class="title">
                                <p:calendar id="bizDocExpiryDate" showOn="button" navigator="true"
                                            value="#{bizInfoDetail.bizInfoDetailView.bizDocExpiryDate}"
                                            pattern="dd/MM/yyyy">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </p:calendar>

                            </td>
                        </tr>
                        <tr>
                            <td class="title"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.expIndCountryName')}"/> : </td>
                            <td colspan="5">
                                <p:inputText styleClass="large" id="exportIndirectCountryName" value="#{bizInfoDetail.bizInfoDetailView.expIndCountryName}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="title"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.percentExpIndCountryName')}"/> : </td>
                            <td colspan="5">
                                <p:inputText styleClass="right" id="percentExpIndCountryName" value="#{bizInfoDetail.bizInfoDetailView.percentExpIndCountryName}">
                                    <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                    <p:ajax event="blur" update=":frmMain:percentExpIndCountryName"/>
                                </p:inputText>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="6" style="text-align: center;"><p:separator/></td>
                        </tr>
                        <tr>
                            <td class="left" colspan="6">
                                <p:outputLabel value="#{msg.get('app.bizInfoDetail.label.bizProductDetail')}"/> :
                                <p:commandButton id="btnAddBizProduct"
                                                 value="#{msg.get('app.button.add')}"
                                                 styleClass="smaller"
                                                 process="@this"
                                                 actionListener="#{bizInfoDetail.onAddBizProductDetailView()}"
                                                 update=":bizProductViewDlgForm"
                                                 oncomplete="bizProductViewDlg.show()"/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="6" class="center">
                                <p:dataTable styleClass="main_container" style="width: 100%"
                                             id="bizProductViewTable"
                                             var="bizProductDetailView"
                                             value="#{bizInfoDetail.bizInfoDetailView.bizProductDetailViewList}"
                                             paginator="false"
                                             rowKey="#{bizProductView.no}"
                                             rowIndexVar="rowIndex" >
                                    <p:column headerText="" styleClass="center" style="width:4%;">
                                        <p:outputLabel value="#{bizProductDetailView.no}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizProduct.label.productType')}" styleClass="center" style="width: 30%;">
                                        <p:outputLabel value="#{bizProductDetailView.productType}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizProduct.label.percentSalesVolume')}" styleClass="center" style="width: 20%;">
                                        <p:outputLabel value="#{bizProductDetailView.percentSalesVolume}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizProduct.label.percentEBIT')}" styleClass="center" style="width: 20%;">
                                        <p:outputLabel value="#{bizProductDetailView.percentEBIT}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizProduct.label.productDetail')}" styleClass="center" style="width: 30%;">
                                        <p:outputLabel value="#{bizProductDetailView.productDetail}"/>
                                    </p:column>
                                    <p:column headerText="" styleClass="center" style="width:8%;">
                                        <p:commandButton icon="ui-icon-pencil"
                                                         action="#{bizInfoDetail.onEditBizProductDetailView()}"
                                                         update=":bizProductViewDlgForm"
                                                         process=":frmMain:bizProductViewTable"
                                                         oncomplete="bizProductViewDlg.show();">
                                            <f:setPropertyActionListener value="#{bizProductDetailView}"
                                                                         target="#{bizInfoDetail.selectBizProductDetail}"/>
                                            <f:setPropertyActionListener value="#{rowIndex}"
                                                                         target="#{bizInfoDetail.rowIndex}"/>
                                        </p:commandButton>
                                        <p:commandButton title="Remove" process="@this"
                                                         icon="ui-icon-trash"
                                                         oncomplete="confirmDeleteBizProductDlg.show()" >
                                            <f:setPropertyActionListener value="#{bizProductDetailView}"
                                                                         target="#{bizInfoDetail.selectBizProductDetail}"/>
                                            <f:setPropertyActionListener value="#{rowIndex}"
                                                                         target="#{bizInfoDetail.rowIndex}"/>
                                        </p:commandButton>
                                    </p:column>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td class="title" colspan="6">
                                <p:outputLabel value="#{msg.get('app.bizInfoDetail.label.supplierDetail')}"/> :
                                <p:spacer width="5px"/>
                                <p:commandButton value="#{msg.get('app.button.add')}"
                                                 styleClass="small"
                                                 process="@this"
                                                 action="#{bizInfoDetail.onAddBizStakeHolderDetailView()}"
                                                 update=":stakeholderViewDlgForm" oncomplete="stakeholderViewDlg.show()">
                                    <f:setPropertyActionListener value="1"
                                                                 target="#{bizInfoDetail.stakeType}"/>
                                </p:commandButton>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="6" >
                                <p:dataTable style="width: 100%;"
                                             id="supplierTable"
                                             var="supplierItem"
                                             value="#{bizInfoDetail.bizInfoDetailView.supplierDetailList}"
                                             paginator="false"
                                             rowKey="#{supplierItem.no}"
                                             rowIndexVar="rowIndex">
                                    <p:column headerText="" styleClass="center" style="width:4%;">
                                        <p:outputLabel value="#{supplierItem.no}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.supplierName')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel value="#{supplierItem.name}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.contactName')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel value="#{supplierItem.contactName}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.phoneNo')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel value="#{supplierItem.phoneNo}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.contactYear')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel styleClass="right" value="#{supplierItem.contactYear}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.percentBuysVolume')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel styleClass="right" value="#{supplierItem.percentSalesVolume}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.percentCash')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel styleClass="right" value="#{supplierItem.percentCash}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.percentCredit')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel styleClass="right" value="#{supplierItem.percentCredit}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.creditTerm')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel styleClass="right" value="#{supplierItem.creditTerm}"/>
                                    </p:column>
                                    <p:column headerText="" styleClass="center" style="width:8%;">
                                        <p:commandButton icon="ui-icon-pencil"
                                                         title="Edit"
                                                         action="#{bizInfoDetail.onEditBizStakeHolderDetailView}"
                                                         update=":stakeholderViewDlgForm,:frmMain:supplierTable"
                                                         process=":frmMain:supplierTable"
                                                         oncomplete="stakeholderViewDlg.show();">
                                            <f:setPropertyActionListener value="1"
                                                                         target="#{bizInfoDetail.stakeType}"/>
                                            <f:setPropertyActionListener value="#{supplierItem}"
                                                                         target="#{bizInfoDetail.selectStakeHolder}"/>
                                            <f:setPropertyActionListener value="#{rowIndex}"
                                                                         target="#{bizInfoDetail.rowIndex}"/>
                                        </p:commandButton>

                                        <p:commandButton icon="ui-icon-trash"
                                                         title="Remove" process="@this"
                                                         oncomplete="confirmDeleteStakeholderDlg.show()">
                                            <f:setPropertyActionListener value="#{supplierItem}"
                                                                         target="#{bizInfoDetail.selectStakeHolder}"/>
                                            <f:setPropertyActionListener value="1"
                                                                         target="#{bizInfoDetail.stakeType}"/>
                                            <f:setPropertyActionListener value="#{rowIndex}"
                                                                         target="#{bizInfoDetail.rowIndex}"/>
                                        </p:commandButton>
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="5" footerText="#{msg.get('app.bizInfoSummary.table.footer.sumIncomeAmount')}"
                                                      style="background-color:#f4f8b6; text-align:left;"/>

                                            <p:column style="background-color:#f4f8b6; text-align:right;">
                                                <f:facet name="footer">
                                                    <p:inputText id="supplierTotalPercentBuyVolume" styleClass="right"
                                                                 value="#{bizInfoDetail.bizInfoDetailView.supplierTotalPercentBuyVolume}">
                                                        <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                                        <p:ajax event="blur" update=":frmMain:supplierTable:supplierTotalPercentBuyVolume"/>
                                                    </p:inputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="2"  style="background-color:#f4f8b6; text-align:right;">
                                                <f:facet name="footer">
                                                    <p:inputText id="supplierTotalPercentCredit" styleClass="right"
                                                                 value="#{bizInfoDetail.bizInfoDetailView.supplierTotalPercentCredit}">
                                                        <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                                        <p:ajax event="blur" update=":frmMain:supplierTable:supplierTotalPercentCredit"/>
                                                    </p:inputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column  style="background-color:#f4f8b6; text-align:right;">
                                                <f:facet name="footer">
                                                    <p:inputText id="supplierTotalCreditTerm" styleClass="right"
                                                                 value="#{bizInfoDetail.bizInfoDetailView.supplierTotalCreditTerm}">
                                                        <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                                        <p:ajax event="blur" update=":frmMain:supplierTable:supplierTotalCreditTerm"/>
                                                    </p:inputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column style="background-color:#f4f8b6;" />
                                        </p:row>

                                        <p:row>
                                            <p:column colspan="7" footerText="#{msg.get('app.bizInfoSummary.table.footer.sumWeight')}"
                                                      style="background-color:#f8d0b6;; text-align:left;"/>

                                        <p:column style="background-color:#f8d0b6; text-align:right;">
                                            <f:facet name="footer">
                                                <p:inputText id="supplierUWAdjustPercentCredit" styleClass="right"
                                                             value="#{bizInfoDetail.bizInfoDetailView.supplierUWAdjustPercentCredit}">
                                                    <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                                    <p:ajax event="blur" update=":frmMain:supplierTable:supplierUWAdjustPercentCredit"/>
                                                </p:inputText>
                                            </f:facet>
                                        </p:column>

                                        <p:column style="background-color:#f8d0b6; text-align:right;">
                                                <f:facet name="footer">
                                                    <p:inputText id="supplierUWAdjustCreditTerm" styleClass="right"
                                                                 value="#{bizInfoDetail.bizInfoDetailView.supplierUWAdjustCreditTerm}">
                                                        <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                                        <p:ajax event="blur" update=":frmMain:supplierTable:supplierUWAdjustCreditTerm"/>
                                                    </p:inputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column style="background-color:#f8d0b6;" />
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="100%"><p:spacer width="2px"/></td>
                        </tr>
                        <tr>
                            <td colspan="6"><p:separator/></td>
                        </tr>
                        <tr>
                            <td class="title" colspan="6">
                                <p:outputLabel value="#{msg.get('app.bizInfoDetail.label.buyerDetail')}"/> :
                                <p:spacer width="5px"/>
                                <p:commandButton value="#{msg.get('app.button.add')}"
                                                 process="@this"
                                                 action="#{bizInfoDetail.onAddBizStakeHolderDetailView()}"
                                                 update=":stakeholderViewDlgForm" oncomplete="stakeholderViewDlg.show()">
                                    <f:setPropertyActionListener value="2"
                                                                 target="#{bizInfoDetail.stakeType}"/>
                                </p:commandButton>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="6">
                                <p:dataTable id="buyerTable" style="width: 100%;"
                                             var="buyerItem"
                                             value="#{bizInfoDetail.bizInfoDetailView.buyerDetailList}"
                                             paginator="false"
                                             rowKey="#{buyer.no}"
                                             rowIndexVar="rowIndex">
                                    <p:column headerText="" styleClass="center" style="width:4%;">
                                        <p:outputLabel value="#{buyerItem.no}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.buyerName')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel value="#{buyerItem.name}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.contactName')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel value="#{buyerItem.contactName}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.phoneNo')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel value="#{buyerItem.phoneNo}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.contactYear')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel styleClass="right" value="#{buyerItem.contactYear}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.percentSalesVolume')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel styleClass="right" value="#{buyerItem.percentSalesVolume}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.percentCash')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel styleClass="right" value="#{buyerItem.percentCash}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.percentCredit')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel styleClass="right" value="#{buyerItem.percentCredit}"/>
                                    </p:column>
                                    <p:column headerText="#{msg.get('app.bizInfoDetail.bizStakeHolder.label.creditTerm')}" styleClass="center" style="width:11%;">
                                        <p:outputLabel styleClass="right" value="#{buyerItem.creditTerm}"/>
                                    </p:column>
                                    <p:column headerText="" styleClass="center" style="width:8%;">
                                        <p:commandButton icon="ui-icon-pencil"
                                                         title="Edit"
                                                         action="#{bizInfoDetail.onEditBizStakeHolderDetailView}"
                                                         update=":stakeholderViewDlgForm,:frmMain:buyerTable"
                                                         process=":frmMain:buyerTable"
                                                         oncomplete="stakeholderViewDlg.show();">
                                            <f:setPropertyActionListener value="2"
                                                                         target="#{bizInfoDetail.stakeType}"/>
                                            <f:setPropertyActionListener value="#{buyerItem}"
                                                                         target="#{bizInfoDetail.selectStakeHolder}"/>
                                            <f:setPropertyActionListener value="#{rowIndex}"
                                                                         target="#{bizInfoDetail.rowIndex}"/>
                                        </p:commandButton>
                                        <p:commandButton icon="ui-icon-trash"
                                                         title="Remove" process="@this"
                                                         oncomplete="confirmDeleteStakeholderDlg.show()">

                                            <f:setPropertyActionListener value="#{buyerItem}"
                                                                         target="#{bizInfoDetail.selectStakeHolder}"/>
                                            <f:setPropertyActionListener value="2"
                                                                         target="#{bizInfoDetail.stakeType}"/>
                                        </p:commandButton>
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="5" footerText="#{msg.get('app.bizInfoSummary.table.footer.sumIncomeAmount')}"
                                                      style="background-color:#f4f8b6; text-align:left;"/>

                                            <p:column style="background-color:#f4f8b6; text-align:right;">
                                                <f:facet name="footer">
                                                    <p:inputText id="buyerTotalPercentBuyVolume" styleClass="right"
                                                                 value="#{bizInfoDetail.bizInfoDetailView.buyerTotalPercentBuyVolume}">
                                                        <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                                        <p:ajax event="blur" update=":frmMain:buyerTable:buyerTotalPercentBuyVolume"/>
                                                    </p:inputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column colspan="2"  style="background-color:#f4f8b6; text-align:right;">
                                                <f:facet name="footer">
                                                    <p:inputText id="buyerTotalPercentCredit" styleClass="right"
                                                                 value="#{bizInfoDetail.bizInfoDetailView.buyerTotalPercentCredit}">
                                                        <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                                        <p:ajax event="blur" update=":frmMain:buyerTable:buyerTotalPercentCredit"/>
                                                    </p:inputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column  style="background-color:#f4f8b6; text-align:right;">
                                                <f:facet name="footer">
                                                    <p:inputText id="buyerTotalCreditTerm" styleClass="right"
                                                                 value="#{bizInfoDetail.bizInfoDetailView.buyerTotalCreditTerm}">
                                                        <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                                        <p:ajax event="blur" update=":frmMain:buyerTable:buyerTotalCreditTerm"/>
                                                    </p:inputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column style="background-color:#f4f8b6;" />
                                        </p:row>

                                        <p:row>
                                            <p:column colspan="7" footerText="#{msg.get('app.bizInfoSummary.table.footer.sumWeight')}"
                                                      style="background-color:#f8d0b6;; text-align:left;"/>

                                            <p:column style="background-color:#f8d0b6; text-align:right;">
                                                <f:facet name="footer">
                                                    <p:inputText id="buyerUWAdjustPercentCredit" styleClass="right"
                                                                 value="#{bizInfoDetail.bizInfoDetailView.buyerUWAdjustPercentCredit}">
                                                        <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                                        <p:ajax event="blur" update=":frmMain:buyerTable:buyerUWAdjustPercentCredit"/>
                                                    </p:inputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column style="background-color:#f8d0b6; text-align:right;">
                                                <f:facet name="footer">
                                                    <p:inputText id="buyerUWAdjustCreditTerm" styleClass="right"
                                                                 value="#{bizInfoDetail.bizInfoDetailView.buyerUWAdjustCreditTerm}">
                                                        <f:convertNumber pattern="#,##0"  minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="2"  />
                                                        <p:ajax event="blur" update=":frmMain:buyerTable:buyerUWAdjustCreditTerm"/>
                                                    </p:inputText>
                                                </f:facet>
                                            </p:column>

                                            <p:column style="background-color:#f8d0b6;" />
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="100%"><p:spacer width="2px"/></td>
                        </tr>
                        <tr>
                            <td colspan="6"><p:separator/></td>
                        </tr>
                        <tr>
                            <td colspan="6">
                                <table class="table_content" style="width: 100%" >
                                    <tr>
                                        <th colspan="2" style="width:33%;">การจัดซื้อ</th>
                                        <th colspan="2" style="width:33%;">การขาย</th>
                                        <th colspan="2" style="width:33%;">Stock</th>
                                    </tr>
                                    <tr style="background-color: #FAFAFA">
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.standardAccountReceivable')}"/>  </td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="standardAccountReceivable" value="#{bizInfoDetail.bizInfoDetailView.standardAccountReceivable}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:standardAccountReceivable"/>
                                            </p:inputText>

                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.standardAccountPayable')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="standardAccountPayable" value="#{bizInfoDetail.bizInfoDetailView.standardAccountPayable}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:standardAccountPayable"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.standardStock')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="standardStock" value="#{bizInfoDetail.bizInfoDetailView.standardStock }">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:standardStock"/>
                                            </p:inputText>
                                        </td>
                                    </tr>
                                    <tr style="background-color: #efefef">
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.averagePurchaseAmount')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="averagePurchaseAmount" value="#{bizInfoDetail.bizInfoDetailView.averagePurchaseAmount}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:averagePurchaseAmount"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.averagePayableAmount')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="averagePayableAmount" value="#{bizInfoDetail.bizInfoDetailView.averagePayableAmount}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:averagePayableAmount"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.stockDurationBDM')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="stockDurationBDM" value="#{bizInfoDetail.bizInfoDetailView.stockDurationBDM}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:stockDurationBDM"/>
                                            </p:inputText>
                                        </td>
                                    </tr>
                                    <tr style="background-color: #FAFAFA">
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.purchasePercentCash')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="purchasePercentCash" value="#{bizInfoDetail.bizInfoDetailView.purchasePercentCash}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:purchasePercentCash"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.payablePercentCash')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="payablePercentCash" value="#{bizInfoDetail.bizInfoDetailView.payablePercentCash}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:payablePercentCash"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.stockDurationUW')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="stockDurationUW" value="#{bizInfoDetail.bizInfoDetailView.stockDurationUW}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:stockDurationUW"/>
                                            </p:inputText>
                                        </td>
                                    </tr>
                                    <tr style="background-color: #efefef">
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.purchasePercentCredit')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="purchasePercentCredit" value="#{bizInfoDetail.bizInfoDetailView.purchasePercentCredit}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:purchasePercentCredit"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.payablePercentCredit')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="payablePercentCredit" value="#{bizInfoDetail.bizInfoDetailView.payablePercentCredit}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:payablePercentCredit"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.stockValueBDM')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="stockValueBDM" value="#{bizInfoDetail.bizInfoDetailView.stockValueBDM}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:stockValueBDM"/>
                                            </p:inputText>
                                        </td>
                                    </tr>
                                    <tr style="background-color: #FAFAFA">
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.purchasePercentLocal')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="purchasePercentLocal" value="#{bizInfoDetail.bizInfoDetailView.purchasePercentLocal}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:purchasePercentLocal"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.payablePercentLocal')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="payablePercentLocal" value="#{bizInfoDetail.bizInfoDetailView.payablePercentLocal}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:payablePercentLocal"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.stockValueUW')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="stockValueUW" value="#{bizInfoDetail.bizInfoDetailView.stockValueUW}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:stockValueUW"/>
                                            </p:inputText>
                                        </td>
                                    </tr>
                                    <tr style="background-color: #efefef">
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.purchasePercentForeign')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="purchasePercentForeign" value="#{bizInfoDetail.bizInfoDetailView.purchasePercentForeign}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:purchasePercentForeign"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.payablePercentForeign')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="payablePercentForeign" value="#{bizInfoDetail.bizInfoDetailView.payablePercentForeign}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:payablePercentForeign"/>
                                            </p:inputText>
                                        </td>
                                        <td colspan="2" style="width: 25%;line-height: 15px"></td>
                                    </tr>

                                    <tr style="background-color: #FAFAFA">
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.purchaseTerm')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="purchaseTerm" value="#{bizInfoDetail.bizInfoDetailView.purchaseTerm}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:purchaseTerm"/>
                                            </p:inputText>
                                        </td>
                                        <td style="line-height: 15px"><p:outputLabel value="#{msg.get('app.bizInfoDetail.label.payableTerm')}"/></td>
                                        <td>
                                            <p:inputText styleClass="right" style="width: 80%;" id="payableTerm" value="#{bizInfoDetail.bizInfoDetailView.payableTerm}">
                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="2"  />
                                                <p:ajax event="blur" update=":frmMain:payableTerm"/>
                                            </p:inputText>
                                        </td>
                                        <td colspan="2" style="width: 25%;line-height: 15px"></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr><td colspan="100%"><p:spacer width="2px"/></td></tr>
                        <tr>
                            <td colspan="100%"><p:separator/></td>
                        </tr>
                        <tr><td colspan="100%"><p:spacer width="2px"/></td></tr>
                        <tr>
                            <td colspan="6" class="center">
                                <p:commandButton id="btnAddBizInfoDetailFull"
                                                 value="#{msg.get('app.button.save')}"
                                                 process=":frmMain"
                                                 actionListener="#{bizInfoDetail.onSaveBizInfoView()}"
                                                 update=":msgBoxSystemMessagePanel,:frmMain"/>

                                <p:commandButton value="#{msg.get('app.button.cancel')}" onclick="document.location.replace('bizInfoSummary.jsf')"/>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="bottom_line"></div>
            </div>
            <div class="clear"></div>
                <!-- Start Footer -->
            <ui:include src="../resources/footer.xhtml" />
                <!-- End Footer -->
            <h:inputHidden id="pagename" value="mnuprescreen"/>
            <h:inputHidden id="subpagename" value="submnuprescreen"/>
        </div>
    </h:form>
    </p:panel>

    <p:dialog id="stakeholderViewDialog" header="stakeholderView Information" widgetVar="stakeholderViewDlg"
              modal="true" width="350" height="280">
        <ui:include src="dialog/fullscreenStakeholderDialog.xhtml"/>
    </p:dialog>

    <p:dialog id="bizProductViewDialog" header="bizProductView Information" widgetVar="bizProductViewDlg"
              modal="true" width="350" height="170">
        <ui:include src="dialog/fullscreenBizProductDialog.xhtml"/>
    </p:dialog>

    <ui:include src="dialog/confirmDeleteDlg.xhtml">
        <ui:param name="id" value="confirmDeleteBizProductDialog"/>
        <ui:param name="name" value="confirmDeleteBizProductDlg"/>
        <ui:param name="formId" value="frmConfirmDeleteBizProduct"/>
        <ui:param name="controller" value="#{bizInfoDetail}"/>
        <ui:param name="action" value="onDeleteBizProductDetailView"/>
        <ui:param name="update" value=":frmMain:bizProductViewTable"/>
    </ui:include>

    <ui:include src="dialog/confirmDeleteDlg.xhtml">
        <ui:param name="id" value="confirmDeleteStakeholderDialog"/>
        <ui:param name="name" value="confirmDeleteStakeholderDlg"/>
        <ui:param name="formId" value="frmConfirmDeleteStakeholder"/>
        <ui:param name="controller" value="#{bizInfoDetail}"/>
        <ui:param name="action" value="onDeleteBizStakeHolderDetailView"/>
        <ui:param name="update" value=":frmMain:supplierTable,:frmMain:buyerTable"/>
    </ui:include>

    <p:panel id="msgBoxSystemMessagePanel" styleClass="panel">
        <p:confirmDialog id="msgBoxSystemMessageDialog" widgetVar="msgBoxSystemMessageDlg"
                         header="#{bizInfoDetail.messageHeader}" message="#{bizInfoDetail.message}" >
            <p:commandButton value="OK"
                             process="@this"
                             update="frmMain"
                             oncomplete="msgBoxSystemMessageDlg.hide()"/>
        </p:confirmDialog>
    </p:panel>

    </h:body>
</f:view>
</html>
