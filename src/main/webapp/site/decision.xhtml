<!DOCTYPE html>
<html>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:fn="http://java.sun.com/jsp/jstl/functions"
        xmlns:clv="http://clevel.com/ui">

<h:head>
    <title>SE-LOS : Decision</title>
    <h:outputStylesheet name="css/style.css" />
    <h:outputScript library="js" name="custom.js" />
    <h:outputScript library="js" name="jquery.ui.datepicker.min.js" />
    <!-- Override CSS -->
    <style>
        .ui-datatable thead th {
            white-space: normal !important;
        }
        .ui-datatable tbody td {
            border-color: #868686 !important;
            white-space: normal !important;
        }
        tfoot {
            background: none !important;
        }
        .ui-datatable table {
            width: 100% !important;
        }
        table.ovr-border {
            margin: 0 auto !important;
            width: auto !important;
        }
        table.ovr-border tbody td {
            border-style: none !important;
        }
        .calendar_right input {
            background: #ffffff !important;
            border: 1px solid #868686 !important;
        }
    </style>
</h:head>

<h:body>
<p:panel id="pnl_maincontainer" style="border:0; margin:0; padding: 0;">
    <f:event type="preRenderView" listener="#{decision.preRender()}" />
    <h:form id="frmMain">
        <div id="main_container">
        <!-- Start Header Logo -->
        <ui:include src="include/header_logo.xhtml"/>
        <!-- End Header Logo -->
        <!-- Start Header Detail -->
        <ui:include src="include/header_detail.xhtml"/>
        <!-- End Header Detail -->
        <!-- Start Menu -->
        <ui:include src="include/menubar.xhtml"/>
        <!-- End Menu -->
        <div id="content_container">
            <div id="content_name">#{msg.get('app.decision.header')}</div>
            <div id="content">
                <div id="content_info">
                    <div id="content_trackchange" title="Click to view Track Change">[ View Track Change ]</div>
                    <div id="content_lastupdate">Last update by
                        <!-- TODO: Show last update in Decision -->
                    </div>
                </div>
                <!-- start content -->
                <div id="content_form">
                    <table class="content_table_form">
                        <!-- ===== Existing Credit ===== -->
                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.existingCredit')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.borrower')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <!-- Borrower Commercial Credit -->
                                <div class="ui-datatable ui-widget">
                                    <div class="ui-datatable-tablewrapper">
                                        <table style="width: 100%">
                                            <thead>
                                                <tr>
                                                    <th class="ui-state-default" colspan="10">#{msg.get('app.decision.tb.th.commercialCredit')}</th>
                                                </tr>
                                                <tr>
                                                    <th class="ui-state-default" style="width: 3%"></th>
                                                    <th class="ui-state-default" style="width: 30%">#{msg.get('app.decision.tb.th.account')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.productProgram')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.creditType')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.code')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.limit')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.outstanding')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.installment')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.intFeePercent')}</th>
                                                    <th class="ui-state-default" style="width: 4%">#{msg.get('app.decision.tb.th.tenorMonths')}</th>
                                                </tr>
                                            </thead>

                                            <tbody class="ui-datatable-data ui-widget-content">
                                                <ui:repeat var="borrowerCredit" value="#{decision.decisionView.extBorrowerComCreditList}" varStatus="i">
                                                    <tr>
                                                        <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(borrowerCredit.existingCreditTierDetailViewList) + fn:length(borrowerCredit.existingSplitLineDetailViewList) :
                                                                        not empty borrowerCredit.existingSplitLineDetailViewList and fn:length(borrowerCredit.existingSplitLineDetailViewList) gt 0 ?
                                                                        fn:length(borrowerCredit.existingSplitLineDetailViewList) + 1 : '1'}">
                                                            #{borrowerCredit.no}
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(borrowerCredit.existingCreditTierDetailViewList) + fn:length(borrowerCredit.existingSplitLineDetailViewList) :
                                                                        not empty borrowerCredit.existingSplitLineDetailViewList and fn:length(borrowerCredit.existingSplitLineDetailViewList) gt 0 ?
                                                                        fn:length(borrowerCredit.existingSplitLineDetailViewList) + 1 : '1'}">
                                                            #{borrowerCredit.accountName}<br/>
                                                            #{msg.get('app.decision.tb.td.label.accNo')} #{borrowerCredit.accountNumber}&#160;
                                                            #{msg.get('app.decision.tb.td.label.suf')} #{borrowerCredit.accountSuf}<br/>
                                                            #{msg.get('app.decision.tb.td.label.accStatus')} #{not empty borrowerCredit.existAccountStatusView ? borrowerCredit.existAccountStatusView.description : ''}
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(borrowerCredit.existingCreditTierDetailViewList) : '1'}">
                                                            #{not empty borrowerCredit.existProductProgramView ? borrowerCredit.existProductProgramView.name : ''}
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(borrowerCredit.existingCreditTierDetailViewList) : '1'}">
                                                            #{not empty borrowerCredit.existCreditTypeView ? borrowerCredit.existCreditTypeView.name : ''}
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(borrowerCredit.existingCreditTierDetailViewList) : '1'}">
                                                            #{msg.get('app.decision.tb.td.label.product')} #{borrowerCredit.productCode}<br/>
                                                            #{msg.get('app.decision.tb.td.label.project')} #{borrowerCredit.projectCode}
                                                        </td>
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(borrowerCredit.existingCreditTierDetailViewList) : '1'}">
                                                            <h:outputText value="#{borrowerCredit.limit}" rendered="#{not borrowerCredit.usePCE}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="19"/>
                                                            </h:outputText>

                                                            <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.notional')}" rendered="#{borrowerCredit.usePCE}"/>
                                                            <h:outputText value="#{borrowerCredit.limit}" rendered="#{borrowerCredit.usePCE}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="19"/>
                                                            </h:outputText>
                                                            <br/>
                                                            <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.pce')}" rendered="#{borrowerCredit.usePCE}"/>
                                                            <h:outputText value="#{borrowerCredit.pcePercent}" rendered="#{borrowerCredit.usePCE}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="19"/>
                                                            </h:outputText>
                                                            <h:outputText value="#{msg.get('app.credit.facility.propose.dlg.label.percent')}" rendered="#{borrowerCredit.usePCE}"/>
                                                            <br/>
                                                            <h:outputText value="PCE Limit: " rendered="#{borrowerCredit.usePCE}"/>
                                                            <h:outputText value="#{borrowerCredit.pceLimit}" rendered="#{borrowerCredit.usePCE}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="19"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(borrowerCredit.existingCreditTierDetailViewList) : '1'}">
                                                            <h:outputText value="#{borrowerCredit.outstanding}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="19"/>
                                                            </h:outputText>
                                                        </td>

                                                        <!-- BEGIN: Credit Tier Detail [0] -->
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                                    borrowerCredit.existingCreditTierDetailViewList[0].installment : '0.00'}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="19"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="right  top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                                    borrowerCredit.existingCreditTierDetailViewList[0].finalBasePrice.name : ''}">
                                                            </h:outputText>
                                                            <h:outputText value="#{borrowerCredit.existingCreditTierDetailViewList[0].finalInterest ge 0 ? '+' : ''}">
                                                            </h:outputText>
                                                            <h:outputText value="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                                    borrowerCredit.existingCreditTierDetailViewList[0].finalInterest : ''}">
                                                            </h:outputText>
                                                        </td>
                                                        <td class="right  top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                                    borrowerCredit.existingCreditTierDetailViewList[0].tenor : '0'}">
                                                                <f:convertNumber pattern="#,##0" maxIntegerDigits="19"/>
                                                            </h:outputText>
                                                        </td>
                                                        <!-- END: Credit Tier Detail [0] -->
                                                    </tr>

                                                    <!-- BEGIN: Credit Tier Detail [1]->[N-1] -->
                                                    <h:panelGroup rendered="#{not empty borrowerCredit.existingCreditTierDetailViewList and fn:length(borrowerCredit.existingCreditTierDetailViewList) gt 1}">
                                                    <ui:repeat value="#{borrowerCredit.existingCreditTierDetailViewList}" var="creditTierDetail" varStatus="j" offset="1">
                                                        <tr>
                                                            <td class="right  top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.installment}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="19"/>
                                                                </h:outputText>
                                                            </td>
                                                            <td class="right  top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.finalBasePrice.name}"/>
                                                                <h:outputText value="#{creditTierDetail.finalInterest ge 0 ? '+' : ''}"/>
                                                                <h:outputText value="#{creditTierDetail.finalInterest}"/>
                                                            </td>
                                                            <td class="right  top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.tenor}">
                                                                    <f:convertNumber pattern="#,##0" maxIntegerDigits="19"/>
                                                                </h:outputText>
                                                            </td>
                                                        </tr>
                                                    </ui:repeat>
                                                    </h:panelGroup>

                                                    <ui:repeat value="#{borrowerCredit.existingSplitLineDetailViewList}" var="existingSplitLineDetailView" varStatus="j">
                                                        <tr>
                                                            <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{existingSplitLineDetailView.productProgram.name}"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{existingSplitLineDetailView.limit}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="19"/>
                                                                </h:outputText>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                        </tr>
                                                    </ui:repeat>
                                                    <!-- END: Credit Tier Detail [1]->[N-1] -->
                                                </ui:repeat>

                                                <h:panelGroup rendered="#{empty decision.decisionView.extBorrowerComCreditList}">
                                                    <tr>
                                                        <td colspan="10">#{msg.get('app.label.noRecordsFound')}</td>
                                                    </tr>
                                                </h:panelGroup>

                                                <tr>
                                                    <td style="height: 10px;" colspan="10"/>
                                                </tr>

                                                <tr>
                                                    <td style="text-align:left; background-color:#f4f8b6;"></td>
                                                    <td style="text-align:left; background-color:#f4f8b6;" class="title" colspan="4">
                                                        <h:outputText value="#{msg.get('app.label.total')}"/>
                                                    </td>
                                                    <td style="text-align:right; background-color:#f4f8b6;" class="title">
                                                        <h:outputText value="#{decision.decisionView.extBorrowerTotalComLimit}"
                                                                      style="text-align: right;">
                                                            <f:convertNumber pattern="#,##0"
                                                                             minFractionDigits="2" maxFractionDigits="2"/>
                                                        </h:outputText>
                                                    </td>
                                                    <td style="text-align:left; background-color:#f4f8b6;" colspan="4"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <!-- Condition Commercial Credit -->
                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.conditionComCredit')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <p:dataTable id="dtExtCondition"
                                             var="extCondition" value="#{decision.decisionView.extConditionComCreditList}"
                                             paginator="false" rowKey="#{extCondition}" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column style="width: 3%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.loanType')}" style="width: 33%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.conditionDesc')}" style="width: 64%"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="center top">#{rowIndex + 1}</p:column>

                                    <p:column styleClass="left top">#{extCondition.loanType}</p:column>

                                    <p:column styleClass="left top">#{extCondition.conditionDesc}</p:column>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <tr>
                            <td class="left" colspan="2">
                                <!-- Borrower Retail Credit -->
                                <p:dataTable id="dtRetailProcessBorrower"
                                             var="borrowerRetailCredit" value="#{decision.decisionView.extBorrowerRetailCreditList}"
                                             paginator="false" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column colspan="10" headerText="#{msg.get('app.decision.tb.th.retailCredit')}"/>
                                        </p:row>

                                        <p:row>
                                            <p:column headerText="" styleClass="center" style="width: 3%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.account')}" style="width: 30%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.productProgram')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.creditType')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.code')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.limit')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.outstanding')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.installment')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.intFeePercent')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.tenorMonths')}" style="width: 4%"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{borrowerRetailCredit.no}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{borrowerRetailCredit.accountName}"/><br/>
                                        <p:outputLabel value="Acc No.: #{borrowerRetailCredit.accountNumber}"/> Suff. <p:outputLabel value="#{borrowerRetailCredit.accountSuf}"/><br/>
                                        <p:outputLabel value="Acc Status: #{borrowerRetailCredit.existAccountStatusView.description}" />
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{borrowerRetailCredit.existProductProgramView.name}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{borrowerRetailCredit.existCreditTypeView.name}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="Product: #{borrowerRetailCredit.productCode}"/><br/>
                                        <p:outputLabel value="Project: #{borrowerRetailCredit.projectCode}"/>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <h:outputText value="#{borrowerRetailCredit.limit}" rendered="#{not borrowerRetailCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>

                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.notional')}" rendered="#{borrowerRetailCredit.usePCE}"/>
                                        <h:outputText value="#{borrowerRetailCredit.limit}" rendered="#{borrowerRetailCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                        <br/>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.pce')}" rendered="#{borrowerRetailCredit.usePCE}"/>
                                        <h:outputText value="#{borrowerRetailCredit.pcePercent}" rendered="#{borrowerRetailCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.dlg.label.percent')}" rendered="#{borrowerRetailCredit.usePCE}"/>
                                        <br/>
                                        <h:outputText value="PCE Limit: " rendered="#{borrowerRetailCredit.usePCE}"/>
                                        <h:outputText value="#{borrowerRetailCredit.pceLimit}" rendered="#{borrowerRetailCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{borrowerRetailCredit.outstanding}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{borrowerRetailCredit.installment}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{borrowerRetailCredit.intFeePercent}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{borrowerRetailCredit.tenor}"/>
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column style="text-align:left; background-color:#f4f8b6;"
                                                      colspan="4"
                                                      footerText="#{msg.get('app.label.total')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extBorrowerTotalRetailLimit}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <tr>
                            <td colspan="2">
                                <!-- Borrower App In RLOS -->
                                <p:dataTable id="dtRlosProcessBorrower"
                                             var="borrowerRLOSCredit" value="#{decision.decisionView.extBorrowerAppInRLOSList}"
                                             paginator="false" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column colspan="10" headerText="#{msg.get('app.decision.tb.th.appInRLOSProcess')}" />
                                        </p:row>

                                        <p:row>
                                            <p:column headerText="" styleClass="center" style="width: 3%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.account')}" style="width: 30%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.productProgram')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.creditType')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.code')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.limit')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.outstanding')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.installment')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.intFeePercent')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.tenorMonths')}" style="width: 4%"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{borrowerRLOSCredit.no}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{borrowerRLOSCredit.accountName}"/><br/>
                                        <p:outputLabel value="Acc No.: #{borrowerRLOSCredit.accountNumber}"/> Suff. <p:outputLabel value="#{borrowerRLOSCredit.accountSuf}"/><br/>
                                        <p:outputLabel value="Acc Status: #{borrowerRLOSCredit.existAccountStatusView.description}" />
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{borrowerRLOSCredit.existProductProgramView.name}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{borrowerRLOSCredit.existCreditTypeView.name}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="Product: #{borrowerRLOSCredit.productCode}"/><br/>
                                        <p:outputLabel value="Project: #{borrowerRLOSCredit.projectCode}"/>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <h:outputText value="#{borrowerRLOSCredit.limit}" rendered="#{not borrowerRLOSCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>

                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.notional')}" rendered="#{borrowerRLOSCredit.usePCE}"/>
                                        <h:outputText value="#{borrowerRLOSCredit.limit}" rendered="#{borrowerRLOSCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                        <br/>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.pce')}" rendered="#{borrowerRLOSCredit.usePCE}"/>
                                        <h:outputText value="#{borrowerRLOSCredit.pcePercent}" rendered="#{borrowerRLOSCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.dlg.label.percent')}" rendered="#{borrowerRLOSCredit.usePCE}"/>
                                        <br/>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.pceLimit')}" rendered="#{borrowerRLOSCredit.usePCE}"/>
                                        <h:outputText value="#{borrowerRLOSCredit.pceLimit}" rendered="#{borrowerRLOSCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{borrowerRLOSCredit.outstanding}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{borrowerRLOSCredit.installment}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{borrowerRLOSCredit.intFeePercent}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{borrowerRLOSCredit.tenor}"/>
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column style="text-align:left; background-color:#f4f8b6;"
                                                      colspan="4"
                                                      footerText="#{msg.get('app.label.total')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extBorrowerTotalAppInRLOSLimit}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column colspan="10"
                                                      styleClass="title" style="text-align:left; background: none !important; line-height:30px; height:30px;"
                                                      footerText="#{msg.get('app.decision.borrower')}"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column style="text-align:left; background-color:#f4f8b6;" styleClass="title"
                                                      colspan="4"
                                                      footerText="#{msg.get('app.decision.totalCommercial')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extBorrowerTotalCommercial}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px; background: none !important;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column style="text-align:left; background-color:#f4f8b6;" styleClass="title"
                                                      colspan="4"
                                                      footerText="#{msg.get('app.decision.totalCommAndOBOD')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extBorrowerTotalComAndOBOD}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px; background: none !important;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column style="text-align:left; background-color:#f4f8b6;" styleClass="title"
                                                      colspan="4"
                                                      footerText="#{msg.get('app.decision.totalExposure')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extBorrowerTotalExposure}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>

                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <tr>
                            <td colspan="2" class="title">
                                <h:outputText value="#{msg.get('app.decision.relatedPerson')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <!-- Related Person - Commercial Credit -->
                                <div class="ui-datatable ui-widget">
                                    <div class="ui-datatable-tablewrapper">
                                        <table style="width: 100%">
                                            <thead>
                                                <tr>
                                                    <th class="ui-state-default" colspan="10">#{msg.get('app.decision.tb.th.commercialCredit')}</th>
                                                </tr>
                                                <tr>
                                                    <th class="ui-state-default" style="width: 3%">&#160;</th>
                                                    <th class="ui-state-default" style="width: 30%">#{msg.get('app.decision.tb.th.account')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.productProgram')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.creditType')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.code')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.limit')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.outstanding')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.installment')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.intFeePercent')}</th>
                                                    <th class="ui-state-default" style="width: 4%">#{msg.get('app.decision.tb.th.tenorMonths')}</th>
                                                </tr>
                                            </thead>

                                            <tbody class="ui-datatable-data ui-widget-content">
                                                <ui:repeat var="relatedCredit" value="#{decision.decisionView.extRelatedComCreditList}" varStatus="i">
                                                    <tr>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(relatedCredit.existingCreditTierDetailViewList) + fn:length(relatedCredit.existingSplitLineDetailViewList) :
                                                                        not empty relatedCredit.existingSplitLineDetailViewList and fn:length(relatedCredit.existingSplitLineDetailViewList) gt 0 ?
                                                                        fn:length(relatedCredit.existingSplitLineDetailViewList) + 1 : '1'}">
                                                            #{relatedCredit.no}
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(relatedCredit.existingCreditTierDetailViewList) + fn:length(relatedCredit.existingSplitLineDetailViewList) :
                                                                        not empty relatedCredit.existingSplitLineDetailViewList and fn:length(relatedCredit.existingSplitLineDetailViewList) gt 0 ?
                                                                        fn:length(relatedCredit.existingSplitLineDetailViewList) + 1 : '1'}">
                                                            #{relatedCredit.accountName} <br/>
                                                            #{msg.get('app.decision.tb.td.label.accNo')} #{relatedCredit.accountNumber}&#160;
                                                            #{msg.get('app.decision.tb.td.label.suf')} #{relatedCredit.accountSuf}<br/>
                                                            #{msg.get('app.decision.tb.td.label.accStatus')} #{not empty relatedCredit.existAccountStatusView ? relatedCredit.existAccountStatusView.description : ''}
                                                        </td>
                                                        <td class="top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(relatedCredit.existingCreditTierDetailViewList) : '1'}">
                                                            #{not empty relatedCredit.existProductProgramView ? relatedCredit.existProductProgramView.name : ''}
                                                        </td>
                                                        <td class="top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(relatedCredit.existingCreditTierDetailViewList) : '1'}">
                                                            #{not empty relatedCredit.existCreditTypeView ? relatedCredit.existCreditTypeView.name : ''}
                                                        </td>
                                                        <td class="top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(relatedCredit.existingCreditTierDetailViewList) : '1'}">
                                                            #{msg.get('app.decision.tb.td.label.product')} #{relatedCredit.productCode}<br/>
                                                            #{msg.get('app.decision.tb.td.label.project')} #{relatedCredit.projectCode}
                                                        </td>
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(relatedCredit.existingCreditTierDetailViewList) : '1'}">
                                                            <h:outputText value="#{relatedCredit.limit}" rendered="#{not relatedCredit.usePCE}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="19"/>
                                                            </h:outputText>

                                                            <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.notional')}" rendered="#{relatedCredit.usePCE}"/>
                                                            <h:outputText value="#{relatedCredit.limit}" rendered="#{relatedCredit.usePCE}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="19"/>
                                                            </h:outputText>
                                                            <br/>
                                                            <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.pce')}" rendered="#{relatedCredit.usePCE}"/>
                                                            <h:outputText value="#{relatedCredit.pcePercent}" rendered="#{relatedCredit.usePCE}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="19"/>
                                                            </h:outputText>
                                                            <h:outputText value="#{msg.get('app.credit.facility.propose.dlg.label.percent')}" rendered="#{relatedCredit.usePCE}"/>
                                                            <br/>
                                                            <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.pceLimit')}" rendered="#{relatedCredit.usePCE}"/>
                                                            <h:outputText value="#{relatedCredit.pceLimit}" rendered="#{relatedCredit.usePCE}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="19"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(relatedCredit.existingCreditTierDetailViewList) : '1'}">
                                                            <h:outputText value="#{relatedCredit.outstanding}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                            </h:outputText>
                                                        </td>

                                                        <!-- BEGIN: Credit Tier Detail [0] -->
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                                    relatedCredit.existingCreditTierDetailViewList[0].installment : '0.00'}">
                                                                <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                                    relatedCredit.existingCreditTierDetailViewList[0].finalBasePrice.name : ''}">
                                                            </h:outputText>
                                                            <h:outputText value="#{relatedCredit.existingCreditTierDetailViewList[0].finalInterest ge 0 ? '+' : ''}"/>
                                                            <h:outputText value="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                                    relatedCredit.existingCreditTierDetailViewList[0].finalInterest : ''}">
                                                            </h:outputText>
                                                        </td>
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 0 ?
                                                                                    relatedCredit.existingCreditTierDetailViewList[0].tenor : '0'}">
                                                                <f:convertNumber pattern="#,##0"/>
                                                            </h:outputText>
                                                        </td>
                                                        <!-- END: Credit Tier Detail [0] -->
                                                    </tr>

                                                    <!-- BEGIN: Credit Tier Detail [1]->[N-1] -->
                                                    <h:panelGroup rendered="#{not empty relatedCredit.existingCreditTierDetailViewList and fn:length(relatedCredit.existingCreditTierDetailViewList) gt 1}">
                                                    <ui:repeat value="#{relatedCredit.existingCreditTierDetailViewList}" var="creditTierDetail" varStatus="j" offset="1">
                                                        <tr>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.installment}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                                </h:outputText>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.finalBasePrice.name}"/>
                                                                <h:outputText value="#{creditTierDetail.finalInterest ge 0 ? '+' : ''}"/>
                                                                <h:outputText value="#{creditTierDetail.finalInterest}"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.tenor}">
                                                                    <f:convertNumber pattern="#,##0"/>
                                                                </h:outputText>
                                                            </td>
                                                        </tr>
                                                    </ui:repeat>
                                                    </h:panelGroup>

                                                    <ui:repeat value="#{relatedCredit.existingSplitLineDetailViewList}" var="existingSplitLineDetailView" varStatus="j">
                                                        <tr>
                                                            <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{existingSplitLineDetailView.productProgram.name}"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{existingSplitLineDetailView.limit}">
                                                                    <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                                </h:outputText>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <p:spacer width="5px"/>
                                                            </td>
                                                        </tr>
                                                    </ui:repeat>
                                                    <!-- END: Credit Tier Detail [1]->[N-1] -->
                                                </ui:repeat>

                                                <h:panelGroup rendered="#{empty decision.decisionView.extRelatedComCreditList}">
                                                    <tr>
                                                        <td colspan="10">#{msg.get('app.label.noRecordsFound')}</td>
                                                    </tr>
                                                </h:panelGroup>

                                                <tr>
                                                    <td style="height: 10px;" colspan="10"/>
                                                </tr>

                                                <tr>
                                                    <td style="text-align:left; background-color:#f4f8b6;"></td>
                                                    <td style="text-align:left; background-color:#f4f8b6;" colspan="4" class="title">
                                                        <h:outputText value="#{msg.get('app.label.total')}"/>
                                                    </td>
                                                    <td style="text-align:right; background-color:#f4f8b6;" class="title">
                                                        <h:outputText value="#{decision.decisionView.extRelatedTotalComLimit}"
                                                                      style="text-align: right;">
                                                            <f:convertNumber pattern="#,##0"
                                                                             minFractionDigits="2" maxFractionDigits="2"/>
                                                        </h:outputText>
                                                    </td>
                                                    <td style="text-align:left; background-color:#f4f8b6;" colspan="4"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <tr>
                            <td class="left" colspan="2">
                                <!-- Related Person - Retail Credit -->
                                <p:dataTable id="dtRetailProcessRelated"
                                             var="relatedRetailCredit" value="#{decision.decisionView.extRelatedRetailCreditList}"
                                             paginator="false" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column colspan="10" headerText="#{msg.get('app.decision.tb.th.retailCredit')}"/>
                                        </p:row>

                                        <p:row>
                                            <p:column headerText="" styleClass="center" style="width: 3%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.account')}" style="width: 30%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.productProgram')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.creditType')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.code')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.limit')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.outstanding')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.installment')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.intFeePercent')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.tenorMonths')}" style="width: 4%"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{relatedRetailCredit.no}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{relatedRetailCredit.accountName}"/><br/>
                                        <p:outputLabel value="Acc No.: #{relatedRetailCredit.accountNumber}"/> Suff. <p:outputLabel value="#{relatedRetailCredit.accountSuf}"/><br/>
                                        <p:outputLabel value="Acc Status: #{relatedRetailCredit.existAccountStatusView.description}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{relatedRetailCredit.existProductProgramView.name}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{relatedRetailCredit.existCreditTypeView.name}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="Product: #{relatedRetailCredit.productCode}" /><br/>
                                        <p:outputLabel value="Project: #{relatedRetailCredit.projectCode}" />
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <h:outputText value="#{relatedRetailCredit.limit}" rendered="#{not relatedRetailCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>

                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.notional')}" rendered="#{relatedRetailCredit.usePCE}"/>
                                        <h:outputText value="#{relatedRetailCredit.limit}" rendered="#{relatedRetailCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                        <br/>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.pce')}" rendered="#{relatedRetailCredit.usePCE}"/>
                                        <h:outputText value="#{relatedRetailCredit.pcePercent}" rendered="#{relatedRetailCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.dlg.label.percent')}" rendered="#{relatedRetailCredit.usePCE}"/>
                                        <br/>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.pceLimit')}" rendered="#{relatedRetailCredit.usePCE}"/>
                                        <h:outputText value="#{relatedRetailCredit.pceLimit}" rendered="#{relatedRetailCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{relatedRetailCredit.outstanding}" >
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{relatedRetailCredit.installment}" >
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{relatedRetailCredit.intFeePercent}" >
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{relatedRetailCredit.tenor}" />
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column colspan="4" style="text-align:left; background-color:#f4f8b6;"
                                                      footerText="#{msg.get('app.label.total')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extRelatedTotalRetailLimit}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <tr>
                            <td colspan="2">
                                <!-- Related Person - App In RLOS -->
                                <p:dataTable id="dtRlosProcessRelatedPerson"
                                             var="relatedRLOSCredit" value="#{decision.decisionView.extRelatedAppInRLOSList}"
                                             paginator="false" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column colspan="10" headerText="#{msg.get('app.decision.tb.th.appInRLOSProcess')}" />
                                        </p:row>

                                        <p:row>
                                            <p:column headerText="" styleClass="center" style="width: 3%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.account')}" style="width: 30%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.productProgram')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.creditType')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.code')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.limit')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.outstanding')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.installment')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.intFeePercent')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.tenorMonths')}" style="width: 4%"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{relatedRLOSCredit.no}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{relatedRLOSCredit.accountName}"/><br/>
                                        <p:outputLabel value="Acc No.: #{relatedRLOSCredit.accountNumber}"/> Suff. <p:outputLabel value="#{relatedRLOSCredit.accountSuf}"/><br/>
                                        <p:outputLabel value="Acc Status: #{relatedRLOSCredit.existAccountStatusView.description}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{relatedRLOSCredit.existProductProgramView.name}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="#{relatedRLOSCredit.existCreditTypeView.name}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:outputLabel value="Product: #{relatedRLOSCredit.productCode}" /><br/>
                                        <p:outputLabel value="Project: #{relatedRLOSCredit.projectCode}" />
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <h:outputText value="#{relatedRLOSCredit.limit}" rendered="#{not relatedRLOSCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>

                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.notional')}" rendered="#{relatedRLOSCredit.usePCE}"/>
                                        <h:outputText value="#{relatedRLOSCredit.limit}" rendered="#{relatedRLOSCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                        <br/>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.pce')}" rendered="#{relatedRLOSCredit.usePCE}"/>
                                        <h:outputText value="#{relatedRLOSCredit.pcePercent}" rendered="#{relatedRLOSCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.dlg.label.percent')}" rendered="#{relatedRLOSCredit.usePCE}"/>
                                        <br/>
                                        <h:outputText value="#{msg.get('app.credit.facility.propose.tb.label.pceLimit')}" rendered="#{relatedRLOSCredit.usePCE}"/>
                                        <h:outputText value="#{relatedRLOSCredit.pceLimit}" rendered="#{relatedRLOSCredit.usePCE}">
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="19"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{relatedRLOSCredit.outstanding}" >
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{relatedRLOSCredit.installment}" >
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{relatedRLOSCredit.intFeePercent}" >
                                            <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                        </p:outputLabel>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <p:outputLabel value="#{relatedRLOSCredit.tenor}" />
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column colspan="4" style="text-align:left; background-color:#f4f8b6;"
                                                      footerText="#{msg.get('app.label.total')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extRelatedTotalAppInRLOSLimit}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px;"/>
                                        </p:row>

                                        <!-- Total Related -->
                                        <p:row>
                                            <p:column colspan="10"
                                                      styleClass="title" style="text-align:left; background: none !important; line-height:30px; height:30px;"
                                                      footerText="#{msg.get('app.decision.related')}"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column colspan="4" style="text-align:left; background-color:#f4f8b6;"
                                                      footerText="#{msg.get('app.decision.totalCommercial')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extRelatedTotalCommercial}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px; background: none !important;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column colspan="4" style="text-align:left; background-color:#f4f8b6;"
                                                      footerText="#{msg.get('app.decision.totalCommAndOBOD')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extRelatedTotalComAndOBOD}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px; background: none !important;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column colspan="4" style="text-align:left; background-color:#f4f8b6;"
                                                      footerText="#{msg.get('app.decision.totalExposure')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extRelatedTotalExposure}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px; background: none !important;"/>
                                        </p:row>

                                        <!-- Total Group -->
                                        <p:row>
                                            <p:column colspan="10"
                                                      styleClass="title" style="text-align:left; background: none !important; line-height:30px; height:30px;"
                                                      footerText="#{msg.get('app.decision.group')}"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column colspan="4" style="text-align:left; background-color:#f4f8b6;"
                                                      footerText="#{msg.get('app.decision.grpTotalCommercial')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extGroupTotalCommercial}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px; background: none !important;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column colspan="4" style="text-align:left; background-color:#f4f8b6;"
                                                      footerText="#{msg.get('app.decision.grpTotalCommAndOBOD')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extGroupTotalComAndOBOD}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column colspan="10" style="line-height:10px; height:10px; background: none !important;"/>
                                        </p:row>

                                        <p:row>
                                            <p:column style="background-color:#f4f8b6;"/>
                                            <p:column colspan="4" style="text-align:left; background-color:#f4f8b6;"
                                                      footerText="#{msg.get('app.decision.grpTotalExposure')}"/>
                                            <p:column style="background-color:#f4f8b6; text-align: right">
                                                <f:facet name="footer">
                                                    <p:outputLabel value="#{decision.decisionView.extGroupTotalExposure}">
                                                        <f:convertNumber pattern="#,##0.##" minFractionDigits="2" maxFractionDigits="2"/>
                                                    </p:outputLabel>
                                                </f:facet>
                                            </p:column>
                                            <p:column colspan="4" style="background-color:#f4f8b6;"/>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="separate"><!-- --></div>
                            </td>
                        </tr>

                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.existingCollateral')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.borrower')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <!-- Borrower - Collateral -->
                                <p:dataTable id="dtExtBrwCollateral"
                                             var="extBrwCollateral" value="#{decision.decisionView.extBorrowerCollateralList}"
                                             paginator="false" rowKey="#{extBrwCollateral}" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column headerText="" style="width: 3%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.collateralType')}" style="width: 40%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.creditType')}" style="width: 30%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.mortgageType')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.appraisalValue')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.mortgageValue')}" style="width: 9%"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="center top">#{rowIndex + 1}</p:column>

                                    <p:column styleClass="left top">
                                        <table border="0" style="margin:-1px 0 -1px -10px; width: 100%;">
                                            <tr>
                                                <td style="border-style:none !important; width: 110px;">#{msg.get('app.decision.tb.td.label.potential')}</td>
                                                <td style="border-style:none !important;">#{extBrwCollateral.potentialCollateral.description}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.collateralType')}</td>
                                                <td style="border-style:none !important;">#{extBrwCollateral.collateralType.description}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.owner')}</td>
                                                <td style="border-style:none !important;">#{extBrwCollateral.owner}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.relationship')}</td>
                                                <td style="border-style:none !important;">#{extBrwCollateral.relation.description}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.appraisalDate')}</td>
                                                <td style="border-style:none !important;">
                                                    <h:outputText value="#{extBrwCollateral.appraisalDate}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                                    </h:outputText>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.collateralNumber')}</td>
                                                <td style="border-style:none !important;">#{extBrwCollateral.collateralNumber}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.collateralLocation')}</td>
                                                <td style="border-style:none !important;">#{extBrwCollateral.collateralLocation}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.remark')}</td>
                                                <td style="border-style:none !important;">#{extBrwCollateral.remark}</td>
                                            </tr>
                                        </table>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <p:panel rendered="#{not empty extBrwCollateral.existingCreditTypeDetailViewList
                                                            and fn:length(extBrwCollateral.existingCreditTypeDetailViewList) gt 0}" styleClass="panel">
                                            <ui:repeat value="#{extBrwCollateral.existingCreditTypeDetailViewList}" var="existingCredit">
                                                <p:outputLabel value="#{existingCredit.accountName}"/><br/>
                                                #{msg.get('app.decision.tb.td.label.accNo')} <p:outputLabel value="#{existingCredit.accountNumber}"/>&#160;
                                                #{msg.get('app.decision.tb.td.label.suf')} <p:outputLabel value="#{existingCredit.accountSuf}"/><br/>
                                                <p:outputLabel value="#{existingCredit.productProgram}"/>,&#160;
                                                <p:outputLabel value="#{existingCredit.creditFacility}"/>&#160;
                                                <p:outputLabel value="#{existingCredit.limit}"/><br/>
                                            </ui:repeat>
                                        </p:panel>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        #{not empty extBrwCollateral.mortgageType ? extBrwCollateral.mortgageType.mortgage : ''}
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <h:outputText value="#{extBrwCollateral.appraisalValue}">
                                            <f:convertNumber pattern="#,##0.##"
                                                             minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="14"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <h:outputText value="#{extBrwCollateral.mortgageValue}">
                                            <f:convertNumber pattern="#,##0.##"
                                                             minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="14"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="6" style="background-color:#ffffff; line-height:10px; height:10px;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="summary_column" style="text-align: left;" colspan="4"
                                                      footerText="#{msg.get('app.label.total')}"/>
                                            <p:column styleClass="summary_column" style="text-align: right;">
                                                <f:facet name="footer">
                                                    <h:outputText value="#{decision.decisionView.extBorrowerTotalAppraisalValue}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column styleClass="summary_column" style="text-align: right;">
                                                <f:facet name="footer">
                                                    <h:outputText value="#{decision.decisionView.extBorrowerTotalMortgageValue}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.relatedPerson')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <!-- Related Person - Collateral -->
                                <p:dataTable id="dtExtRelatedCollateral"
                                             var="extRelatedCollateral" value="#{decision.decisionView.extRelatedCollateralList}"
                                             paginator="false" rowKey="#{extRelatedCollateral}" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column headerText="" style="width: 3%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.collateralType')}" style="width: 40%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.creditType')}" style="width: 30%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.mortgageType')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.appraisalValue')}" style="width: 9%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.mortgageValue')}" style="width: 9%"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="center top">#{rowIndex + 1}</p:column>

                                    <p:column styleClass="left top">
                                        <table border="0" style="margin:-1px 0 -1px -10px; width: 100%;">
                                            <tr>
                                                <td style="border-style:none !important; width: 110px;">#{msg.get('app.decision.tb.td.label.potential')}</td>
                                                <td style="border-style:none !important;">#{extRelatedCollateral.potentialCollateral.description}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.collateralType')}</td>
                                                <td style="border-style:none !important;">#{extRelatedCollateral.collateralType.description}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.owner')}</td>
                                                <td style="border-style:none !important;">#{extRelatedCollateral.owner}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.relationship')}</td>
                                                <td style="border-style:none !important;">#{extRelatedCollateral.relation.description}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.appraisalDate')}</td>
                                                <td style="border-style:none !important;">
                                                    <h:outputText value="#{extRelatedCollateral.appraisalDate}">
                                                        <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                                    </h:outputText>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.collateralNumber')}</td>
                                                <td style="border-style:none !important;">#{extRelatedCollateral.collateralNumber}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.collateralLocation')}</td>
                                                <td style="border-style:none !important;">#{extRelatedCollateral.collateralLocation}</td>
                                            </tr>
                                            <tr>
                                                <td style="border-style:none !important;">#{msg.get('app.decision.tb.td.label.remark')}</td>
                                                <td style="border-style:none !important;">#{extRelatedCollateral.remark}</td>
                                            </tr>
                                        </table>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <ui:repeat value="#{extRelatedCollateral.existingCreditTypeDetailViewList}" var="existingCredit">
                                            <p:outputLabel value="#{existingCredit.accountName}"/><br/>
                                            #{msg.get('app.decision.tb.td.label.accNo')} <p:outputLabel value="#{existingCredit.accountNumber}"/>&#160;
                                            #{msg.get('app.decision.tb.td.label.suf')} <p:outputLabel value="#{existingCredit.accountSuf}"/><br/>
                                            <p:outputLabel value="#{existingCredit.productProgram}"/>,&#160;
                                            <p:outputLabel value="#{existingCredit.creditFacility}"/>&#160;
                                            <p:outputLabel value="#{existingCredit.limit}"/><br/>
                                        </ui:repeat>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        #{not empty extRelatedCollateral.mortgageType ? extRelatedCollateral.mortgageType.mortgage : ''}
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <h:outputText value="#{extRelatedCollateral.appraisalValue}">
                                            <f:convertNumber pattern="#,##0.##"
                                                             minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="14"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <h:outputText value="#{extRelatedCollateral.mortgageValue}">
                                            <f:convertNumber pattern="#,##0.##"
                                                             minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="14"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="6" style="background-color:#ffffff; line-height:10px; height:10px;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="summary_column" style="text-align: left;" colspan="4"
                                                      footerText="#{msg.get('app.label.total')}"/>
                                            <p:column styleClass="summary_column" style="text-align: right;">
                                                <f:facet name="footer">
                                                    <h:outputText value="#{decision.decisionView.extRelatedTotalAppraisalValue}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                            <p:column styleClass="summary_column" style="text-align: right;">
                                                <f:facet name="footer">
                                                    <h:outputText value="#{decision.decisionView.extRelatedTotalMortgageValue}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="separate"><!-- --></div>
                            </td>
                        </tr>

                        <!-- Existing Guarantor -->
                        <tr>
                            <td colspan="2" class="title">
                                <h:outputText value="#{msg.get('app.decision.existingGuarantor')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" class="title">
                                <h:outputText value="#{msg.get('app.decision.borrowerGuarantor')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <!-- Existing - Guarantor -->
                                <p:dataTable id="dtExtGuarantor"
                                             var="extGuarantor" value="#{decision.decisionView.extGuarantorList}"
                                             paginator="false" rowKey="#{extGuarantor}" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column style="width: 5%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.guarantorName')}" style="width: 20%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.TCGLGNo')}" style="width: 10%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.creditType')}" style="width: 50%"/>
                                            <p:column headerText="#{msg.get('app.decision.tb.th.guaranteeAmount')}" style="width: 15%"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="center top">#{rowIndex + 1}</p:column>

                                    <p:column styleClass="left top">
                                        <h:outputText value="#{extGuarantor.guarantorName.titleTh.titleTh}"
                                                      rendered="#{not empty extGuarantor.guarantorName and not empty extGuarantor.guarantorName.titleTh}"/>
                                        <h:outputText value="#{extGuarantor.guarantorName.firstNameTh} #{extGuarantor.guarantorName.lastNameTh}"
                                                      rendered="#{not empty extGuarantor.guarantorName}"/>
                                    </p:column>

                                    <p:column styleClass="center top">#{extGuarantor.tcgLgNo}</p:column>

                                    <p:column styleClass="left top">
                                        <table border="0" style="margin:-1px 0 -1px -10px; width: 100%">
                                            <ui:repeat value="#{extGuarantor.existingCreditTypeDetailViewList}" var="extCreditType">
                                                <tr>
                                                    <td class="top left" style="border-style: none !important;">
                                                        #{extCreditType.accountName}<br/>
                                                        #{msg.get('app.decision.tb.td.label.accNo')} #{extCreditType.accountNumber},&#160;
                                                        #{msg.get('app.decision.tb.td.label.suf')} #{extCreditType.accountSuf}
                                                    </td>
                                                    <td class="top center" style="border-style: none !important;">
                                                        #{extCreditType.productProgram}<br/>
                                                        #{extCreditType.creditFacility}
                                                    </td>
                                                    <td class="top center" style="border-style: none !important;">
                                                        <h:outputText value="#{extCreditType.limit}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>
                                                    <td class="top center" style="border-style: none !important;">
                                                        #{msg.get('app.decision.tb.td.label.guaranteeAmt')}&#160;
                                                        <h:outputText value="#{extCreditType.guaranteeAmount}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <h:outputText value="#{extGuarantor.totalLimitGuaranteeAmount}">
                                            <f:convertNumber pattern="#,##0.##"
                                                             minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="14"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="5" style="background-color:#ffffff; line-height:10px; height:10px;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="summary_column" style="text-align: left;" colspan="4"
                                                      footerText="#{msg.get('app.label.total')}"/>
                                            <p:column styleClass="summary_column" style="text-align: right;">
                                                <f:facet name="footer">
                                                    <h:outputText value="#{decision.decisionView.extTotalGuaranteeAmount}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                        </p:row>
                                    </p:columnGroup>
                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="separate"><!-- --></div>
                            </td>
                        </tr>

                        <!-- ===== Propose Credit ===== -->
                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.proposedCredit')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <!-- Propose Credit Table -->
                                <div class="ui-datatable ui-widget">
                                    <div class="ui-datatable-tablewrapper">
                                        <table style="width: 100%">
                                            <thead>
                                                <tr>
                                                    <th class="ui-state-default" style="width: 5%"></th>
                                                    <th class="ui-state-default" style="width: 10%">#{msg.get('app.decision.tb.th.productProgram')}</th>
                                                    <th class="ui-state-default" style="width: 10%">#{msg.get('app.decision.tb.th.creditType')}</th>
                                                    <th class="ui-state-default" style="width: 10%">#{msg.get('app.decision.tb.th.code')}</th>
                                                    <th class="ui-state-default" style="width: 10%">#{msg.get('app.decision.tb.th.limit')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.standardPricePercent')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.suggestPricePercent')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.finalPricePercent')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.installment')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.tenorMonths')}</th>
                                                    <th class="ui-state-default" style="width: 10%">#{msg.get('app.decision.tb.th.frontEndFeePercent')}</th>
                                                </tr>
                                            </thead>

                                            <tbody class="ui-datatable-data ui-widget-content">
                                            <ui:repeat value="#{decision.decisionView.proposeCreditList}"
                                                       var="proposeCredit" varStatus="i">
                                                <tr>
                                                    <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                fn:length(proposeCredit.newCreditTierDetailViewList) + 1 : '2'}">
                                                        #{i.index + 1}
                                                    </td>
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                        #{not empty proposeCredit.productProgramView ? proposeCredit.productProgramView.name : ''}
                                                    </td>
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                        #{not empty proposeCredit.creditTypeView ? proposeCredit.creditTypeView.name : ''}
                                                    </td>
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                        #{msg.get('app.decision.tb.td.label.product')} #{proposeCredit.productCode}<br/>
                                                        #{msg.get('app.decision.tb.td.label.project')} #{proposeCredit.projectCode}
                                                    </td>
                                                    <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                        <h:outputText value="#{proposeCredit.limit}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>

                                                    <!-- BEGIN: Credit Tier Detail [0] -->
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].standardPriceLabel : ''}">
                                                        </h:outputText>
                                                    </td>
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].suggestPriceLabel : ''}">
                                                        </h:outputText>
                                                    </td>
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].finalPriceLabel : ''}">
                                                        </h:outputText>
                                                    </td>
                                                    <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].installment : ''}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>
                                                    <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].tenor : ''}">
                                                        </h:outputText>
                                                    </td>
                                                    <!-- END: Credit Tier Detail [0] -->

                                                    <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                            fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                        <h:outputText value="#{proposeCredit.frontEndFee}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>
                                                </tr>

                                                <!-- BEGIN: Credit Tier Detail [1]->[N-1] -->
                                                <h:panelGroup rendered="#{fn:length(proposeCredit.newCreditTierDetailViewList) gt 1}">
                                                <ui:repeat value="#{proposeCredit.newCreditTierDetailViewList}" var="creditTierDetail" varStatus="j" offset="1">
                                                    <tr>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{creditTierDetail.standardPrice}"/>
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{creditTierDetail.suggestPrice}"/>
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{creditTierDetail.finalPriceRate}"/>
                                                        </td>
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{creditTierDetail.installment}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{creditTierDetail.tenor}"/>
                                                        </td>
                                                    </tr>
                                                </ui:repeat>
                                                </h:panelGroup>
                                                <!-- END: Credit Tier Detail [1]->[N-1] -->

                                                <tr>
                                                    <td class="left top" colspan="10" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <table border="0" style="margin:-1px 0 -1px -10px; width: 600px !important;">
                                                            <tr>
                                                                <td class="title" style="border-style: none !important; width: 110px;">
                                                                    #{msg.get('app.decision.tb.td.label.requestType')}
                                                                </td>
                                                                <td class="left" style="border-style: none !important;">
                                                                    #{proposeCredit.requestType == decision.requestTypeNEW.value ? msg.get('app.label.new')
                                                                    : proposeCredit.requestType == decision.requestTypeCHANGE.value ? msg.get('app.label.change')
                                                                    : ''}
                                                                </td>
                                                                <td class="title" style="border-style: none !important; width: 110px;">
                                                                    #{msg.get('app.decision.tb.td.label.refinance')}
                                                                </td>
                                                                <td class="left" style="border-style: none !important;">
                                                                    #{proposeCredit.refinance == decision.yesValue ? msg.get('app.label.yes')
                                                                    : proposeCredit.refinance == decision.noValue ? msg.get('app.label.no')
                                                                    : ''}
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="title" style="border-style: none !important;">
                                                                    #{msg.get('app.decision.tb.td.label.purpose')}
                                                                </td>
                                                                <td class="left" colspan="3" style="border-style: none !important;">
                                                                    #{not empty proposeCredit.loanPurposeView ? proposeCredit.loanPurposeView.description : ''}
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="title" style="border-style: none !important;">
                                                                    #{msg.get('app.decision.tb.td.label.purposeDetail')}</td>
                                                                <td class="left" colspan="3" style="border-style: none !important;">
                                                                    #{proposeCredit.remark}
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="title" style="border-style: none !important;">
                                                                    #{msg.get('app.decision.tb.td.label.disbursement')}
                                                                </td>
                                                                <td class="left" style="border-style: none !important;">
                                                                    #{not empty proposeCredit.disbursementTypeView ? proposeCredit.disbursementTypeView.disbursement : ''}
                                                                </td>
                                                                <td class="title" style="border-style: none !important;">
                                                                    #{msg.get('app.decision.tb.td.label.holdAmount')}
                                                                </td>
                                                                <td class="left" style="border-style: none !important;">
                                                                    <h:outputText value="#{proposeCredit.holdLimitAmount}">
                                                                        <f:convertNumber pattern="#,##0.##"
                                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                                         maxIntegerDigits="14"/>
                                                                    </h:outputText>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </ui:repeat>

                                            <h:panelGroup rendered="#{empty decision.decisionView.proposeCreditList}">
                                                <tr>
                                                    <td colspan="11">#{msg.get('app.label.noRecordsFound')}</td>
                                                </tr>
                                            </h:panelGroup>

                                                <tr>
                                                    <td colspan="11" style="background-color:#ffffff; line-height:10px; height:10px;"></td>
                                                </tr>
                                                <tr>
                                                    <td class="summary_column"></td>
                                                    <td class="summary_column title" style="text-align: left;" colspan="3">
                                                        #{msg.get('app.decision.totalProposedCredit')}
                                                    </td>
                                                    <td class="summary_column title" style="text-align: right;">
                                                        <h:outputText value="#{decision.decisionView.proposeTotalCreditLimit}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>
                                                    <td class="summary_column" colspan="6"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <!-- Approved Propose Credit - Section -->
                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.approvedCredit')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.label.approvedPurposed')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <p:selectOneRadio value="#{decision.decisionView.creditCustomerType}"
                                                  disabled="true">
                                    <f:selectItem itemLabel="#{msg.get('app.button.normal')}" itemValue="#{decision.creditCusTypeNORMAL}"/>
                                    <f:selectItem itemLabel="#{msg.get('app.button.prime')}" itemValue="#{decision.creditCusTypePRIME}"/>
                                </p:selectOneRadio>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <table border="0">
                                    <tr>
                                        <td class="title"><h:outputText value="#{msg.get('app.decision.label.typeOfLoan')}"/></td>
                                        <td class="left">
                                            <p:selectOneMenu value="#{decision.decisionView.loanRequestType.id}"
                                                             disabled="true"
                                                             style="width: 200px">
                                                <f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                                                <f:selectItems value="#{decision.creditRequestTypeViewList}" var="crdRequestType"
                                                               itemLabel="#{crdRequestType.name}" itemValue="#{crdRequestType.id}"/>
                                            </p:selectOneMenu>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <table border="0">
                                    <tr>
                                        <td class="title"><h:outputText value="#{msg.get('app.decision.label.investedCountry')}"/></td>
                                        <td class="left">
                                            <p:selectOneMenu value="#{decision.decisionView.investedCountry.id}"
                                                             disabled="true"
                                                             style="width: 200px">
                                                <f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                                                <f:selectItems value="#{decision.countryViewList}" var="country"
                                                               itemLabel="#{country.name}" itemValue="#{country.id}"/>
                                            </p:selectOneMenu>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>

                        <h:panelGroup rendered="#{not decision.roleUW}">
                            <!-- Existing SME (Limit & Max Limit) -->
                            <tr>
                                <td class="left" colspan="2">
                                    <table border="0">
                                        <tr>
                                            <td class="left">
                                                <h:outputText value="#{msg.get('app.decision.label.existingSMELimit')}"
                                                              styleClass="title" style="margin-right: 5px"/>
                                                <p:inputText value="#{decision.decisionView.existingSMELimit}"
                                                             onclick="this.select()"
                                                             onkeydown="return onKeyDownMoney(event);"
                                                             onkeypress="return onKeyPressMoney(event);"
                                                             readonly="true"
                                                             styleClass="left">
                                                    <f:convertNumber pattern="#,##0.##"
                                                                     minFractionDigits="2" maxFractionDigits="2"
                                                                     maxIntegerDigits="14"/>
                                                    <p:ajax event="blur" update="@this"/>
                                                </p:inputText>

                                                <p:spacer width="10" height="0"/>

                                                <h:outputText value="#{msg.get('app.decision.label.maxExistingSMELimit')}"
                                                              styleClass="title" style="margin-right: 5px"/>
                                                <p:inputText value="#{decision.decisionView.maximumSMELimit}"
                                                             onclick="this.select()"
                                                             onkeydown="return onKeyDownMoney(event);"
                                                             onkeypress="return onKeyPressMoney(event);"
                                                             readonly="true"
                                                             styleClass="left">
                                                    <f:convertNumber pattern="#,##0.##"
                                                                     minFractionDigits="2" maxFractionDigits="2"
                                                                     maxIntegerDigits="14"/>
                                                    <p:ajax event="blur" update="@this"/>
                                                </p:inputText>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </h:panelGroup>

                        <h:panelGroup rendered="#{decision.roleUW}">
                            <!-- Add Approve Credit & Retrieve Pricing/Fee Button -->
                            <tr>
                                <td class="left" colspan="2">
                                    <p:commandButton id="btnAddApprovedCredit"
                                                     value="#{msg.get('app.button.add')}"
                                                     disabled="#{not decision.roleUW}"
                                                     actionListener="#{decision.onAddApproveCredit()}"
                                                     process="@form"
                                                     update=":proposeCreditDlgForm,:msgBoxSystemMessagePanel"
                                                     oncomplete="handleDialogOpen(xhr, status, args, 'proposeCreditDlg')"
                                                     styleClass="smaller">
                                        <p:resetInput target=":proposeCreditDlgForm"/>
                                    </p:commandButton>

                                    <p:spacer width="10" height="0"/>

                                    <p:commandButton id="btnRetrievePricingFee"
                                                     value="#{msg.get('app.credit.facility.propose.button.retrieveProposeCreditButton')}"
                                                     disabled="#{not decision.roleUW or decision.notRetrievePricing}"
                                                     actionListener="#{decision.onRetrievePricingFee()}"
                                                     process="@form"
                                                     update=":frmMain"
                                                     styleClass="largest"/>
                                </td>
                            </tr>
                        </h:panelGroup>

                        <tr>
                            <td class="left" colspan="2">
                                <h:panelGroup rendered="#{decision.roleUW}">
                                    <!-- Approved Credit - UW -->
                                    <div class="ui-datatable ui-widget">
                                        <div class="ui-datatable-tablewrapper">
                                            <table style="width: 100%">
                                                <thead>
                                                    <tr>
                                                        <th class="ui-state-default" style="width: 3%"></th>
                                                        <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.decision')}</th>
                                                        <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.productProgram')}</th>
                                                        <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.creditType')}</th>
                                                        <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.code')}</th>
                                                        <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.limit')}</th>
                                                        <th class="ui-state-default" style="width: 8%">#{msg.get('app.decision.tb.th.standardPricePercent')}</th>
                                                        <th class="ui-state-default" style="width: 8%">#{msg.get('app.decision.tb.th.suggestPricePercent')}</th>
                                                        <th class="ui-state-default" style="width: 8%">#{msg.get('app.decision.tb.th.finalPricePercent')}</th>
                                                        <th class="ui-state-default" style="width: 8%">#{msg.get('app.decision.tb.th.installment')}</th>
                                                        <th class="ui-state-default" style="width: 8%">#{msg.get('app.decision.tb.th.tenorMonths')}</th>
                                                        <th class="ui-state-default" style="width: 8%">#{msg.get('app.decision.tb.th.frontEndFeePercent')}</th>
                                                        <th class="ui-state-default" style="width: 4%"></th>
                                                    </tr>
                                                </thead>

                                                <tbody class="ui-datatable-data ui-widget-content">
                                                <ui:repeat value="#{decision.decisionView.approveCreditList}"
                                                           var="proposeCredit" varStatus="i">
                                                    <tr>
                                                        <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                    fn:length(proposeCredit.newCreditTierDetailViewList) + 1 : '2'}">
                                                            #{i.index + 1}
                                                        </td>
                                                        <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                    fn:length(proposeCredit.newCreditTierDetailViewList) + 1 : '2'}">
                                                            #{proposeCredit.uwDecision eq 'APPROVED' ? msg.get('app.label.approved')
                                                            : proposeCredit.uwDecision eq 'REJECTED' ? msg.get('app.label.rejected')
                                                            : ''}
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                    fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                            #{not empty proposeCredit.productProgramView ? proposeCredit.productProgramView.name : ''}
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                    fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                            #{not empty proposeCredit.creditTypeView ? proposeCredit.creditTypeView.name : ''}
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                    fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                            #{msg.get('app.decision.tb.td.label.product')} #{proposeCredit.productCode}<br/>
                                                            #{msg.get('app.decision.tb.td.label.project')} #{proposeCredit.projectCode}
                                                        </td>
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                    fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                            <h:outputText value="#{proposeCredit.limit}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>

                                                        <!-- BEGIN: Credit Tier Detail [0] -->
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                    proposeCredit.newCreditTierDetailViewList[0].standardPriceLabel : ''}">
                                                            </h:outputText>
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                    proposeCredit.newCreditTierDetailViewList[0].suggestPriceLabel : ''}">
                                                            </h:outputText>
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                    proposeCredit.newCreditTierDetailViewList[0].finalPriceLabel : ''}">
                                                            </h:outputText>
                                                        </td>
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                    proposeCredit.newCreditTierDetailViewList[0].installment : ''}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].tenor : ''}">
                                                            </h:outputText>
                                                        </td>
                                                        <!-- END: Credit Tier Detail [0] -->

                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                            <h:outputText value="#{proposeCredit.frontEndFee}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                            rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                    fn:length(proposeCredit.newCreditTierDetailViewList) + 1 : '2'}">

                                                            <p:commandButton title="#{msg.get('app.button.edit')}"
                                                                             icon="ui-icon-pencil"
                                                                             disabled="#{not decision.roleUW}"
                                                                             action="#{decision.onEditApproveCredit()}"
                                                                             update=":proposeCreditDlgForm"
                                                                             oncomplete="proposeCreditDlg.show()">
                                                                <f:setPropertyActionListener value="#{proposeCredit}"
                                                                                             target="#{decision.selectedApproveCredit}"/>
                                                                <f:setPropertyActionListener value="#{i.index}"
                                                                                             target="#{decision.rowIndexCredit}"/>
                                                                <!--<p:resetInput target=":proposeCreditDlgForm"/>-->
                                                            </p:commandButton>

                                                            <p:commandButton title="#{msg.get('app.button.delete')}"
                                                                             icon="ui-icon-trash"
                                                                             disabled="#{not decision.roleUW}"
                                                                             oncomplete="confirmDeleteAppProposeCreditDlg.show()">
                                                                <f:setPropertyActionListener value="#{proposeCredit}"
                                                                                             target="#{decision.selectedApproveCredit}"/>
                                                                <f:setPropertyActionListener value="#{i.index}"
                                                                                             target="#{decision.rowIndexCredit}"/>
                                                            </p:commandButton>
                                                        </td>
                                                    </tr>

                                                    <!-- BEGIN: Credit Tier Detail [1]->[N-1] -->
                                                    <h:panelGroup rendered="#{fn:length(proposeCredit.newCreditTierDetailViewList) gt 1}">
                                                    <ui:repeat value="#{proposeCredit.newCreditTierDetailViewList}" var="creditTierDetail" varStatus="j" offset="1">
                                                        <tr>
                                                            <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.standardPriceLabel}"/>
                                                            </td>
                                                            <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.suggestPriceLabel}"/>
                                                            </td>
                                                            <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.finalPriceLabel}"/>
                                                            </td>
                                                            <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.installment}">
                                                                    <f:convertNumber pattern="#,##0.##"
                                                                                     minFractionDigits="2" maxFractionDigits="2"
                                                                                     maxIntegerDigits="14"/>
                                                                </h:outputText>
                                                            </td>
                                                            <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                                <h:outputText value="#{creditTierDetail.tenor}"/>
                                                            </td>
                                                        </tr>
                                                    </ui:repeat>
                                                    </h:panelGroup>
                                                    <!-- END: Credit Tier Detail [1]->[N-1] -->

                                                    <tr>
                                                        <td class="left top" colspan="10" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <table border="0" style="margin:-1px 0 -1px -10px; width: 600px !important;">
                                                                <tr>
                                                                    <td class="title" style="border-style: none !important; width: 110px;">
                                                                        #{msg.get('app.decision.tb.td.label.requestType')}
                                                                    </td>
                                                                    <td class="left" style="border-style: none !important;">
                                                                        #{proposeCredit.requestType == 2 ? msg.get('app.label.new') :
                                                                          proposeCredit.requestType == 1 ? msg.get('app.label.change') : ''}
                                                                    </td>
                                                                    <td class="title" style="border-style: none !important; width: 110px;">
                                                                        #{msg.get('app.decision.tb.td.label.refinance')}
                                                                    </td>
                                                                    <td class="left" style="border-style: none !important;">
                                                                        #{proposeCredit.refinance == 2 ? msg.get('app.label.yes') :
                                                                          proposeCredit.refinance == 1 ? msg.get('app.label.no') : ''}
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="title" style="border-style: none !important;">
                                                                        #{msg.get('app.decision.tb.td.label.purpose')}
                                                                    </td>
                                                                    <td class="left" colspan="3" style="border-style: none !important;">
                                                                        #{not empty proposeCredit.loanPurposeView ?
                                                                          proposeCredit.loanPurposeView.description : ''}
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="title" style="border-style:none !important;">
                                                                        #{msg.get('app.decision.tb.td.label.purposeDetail')}
                                                                    </td>
                                                                    <td class="left" colspan="3" style="border-style:none !important;">
                                                                        #{proposeCredit.remark}
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="title" style="border-style:none !important;">
                                                                        #{msg.get('app.decision.tb.td.label.disbursement')}
                                                                    </td>
                                                                    <td class="left" style="border-style:none !important;">
                                                                        #{not empty proposeCredit.disbursementTypeView ?
                                                                          proposeCredit.disbursementTypeView.disbursement : ''}
                                                                    </td>
                                                                    <td class="title" style="border-style:none !important;">
                                                                        #{msg.get('app.decision.tb.td.label.holdAmount')}
                                                                    </td>
                                                                    <td class="left" style="border-style:none !important;">
                                                                        <h:outputText value="#{proposeCredit.holdLimitAmount}">
                                                                            <f:convertNumber pattern="#,##0.##"
                                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                                             maxIntegerDigits="14"/>
                                                                        </h:outputText>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </ui:repeat>

                                                <h:panelGroup rendered="#{empty decision.decisionView.approveCreditList}">
                                                    <tr>
                                                        <td colspan="13">#{msg.get('app.label.noRecordsFound')}</td>
                                                    </tr>
                                                </h:panelGroup>
                                                </tbody>

                                                <tfoot>
                                                    <tr>
                                                        <td colspan="13" style="background-color:#ffffff; line-height:10px; height:10px;"></td>
                                                    </tr>
                                                    <!-- Approved Total Propose Credit Limit -->
                                                    <tr>
                                                        <td class="summary_column"></td>
                                                        <td class="summary_column title" style="text-align: left;" colspan="4">
                                                            #{msg.get('app.decision.totalProposedCredit')}
                                                        </td>
                                                        <td class="summary_column title" style="text-align: right;">
                                                            <h:outputText value="#{decision.decisionView.approveTotalCreditLimit}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="summary_column" colspan="7"></td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="13" style="background-color:#ffffff; line-height:10px; height:10px;"></td>
                                                    </tr>

                                                    <!-- Total Borrower -->
                                                    <tr>
                                                        <td class="title" colspan="13" style="line-height:30px; height:30px; text-align:left;">
                                                            #{msg.get('app.decision.borrower')}
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="summary_column"></td>
                                                        <td class="summary_column title" style="text-align: left;" colspan="4">
                                                            #{msg.get('app.decision.totalCommercial')}
                                                        </td>
                                                        <td class="summary_column title" style="text-align: right;">
                                                            <h:outputText value="#{decision.decisionView.approveBrwTotalCommercial}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="summary_column" colspan="7"></td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="13" style="line-height:10px; height:10px;"></td>
                                                    </tr>

                                                    <tr>
                                                        <td class="summary_column"></td>
                                                        <td class="summary_column title" style="text-align: left;" colspan="4">
                                                            #{msg.get('app.decision.totalCommAndOBOD')}
                                                        </td>
                                                        <td class="summary_column title" style="text-align: right;">
                                                            <h:outputText value="#{decision.decisionView.approveBrwTotalComAndOBOD}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="summary_column" colspan="7"></td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="13" style="line-height:10px; height:10px;"></td>
                                                    </tr>

                                                    <tr>
                                                        <td class="summary_column"></td>
                                                        <td class="summary_column title" style="text-align: left;" colspan="4">
                                                            #{msg.get('app.decision.totalExposure')}
                                                        </td>
                                                        <td class="summary_column title" style="text-align: right;">
                                                            <h:outputText value="#{decision.decisionView.approveTotalExposure}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="summary_column" colspan="7"></td>
                                                    </tr>
                                                </tfoot>
                                            </table>
                                        </div>
                                    </div>
                                </h:panelGroup>

                                <h:panelGroup rendered="#{not decision.roleUW}">
                                    <!-- Approved Credit - NOT UW -->
                                    <div class="ui-datatable ui-widget">
                                        <div class="ui-datatable-tablewrapper">
                                            <table style="width: 100%">
                                            <thead>
                                                <tr>
                                                    <th class="ui-state-default" style="width: 3%"></th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.decision')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.productProgram')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.creditType')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.code')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.limit')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.standardPricePercent')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.suggestPricePercent')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.finalPricePercent')}</th>
                                                    <th class="ui-state-default" style="width: 9%">#{msg.get('app.decision.tb.th.installment')}</th>
                                                    <th class="ui-state-default" style="width: 8%">#{msg.get('app.decision.tb.th.tenorMonths')}</th>
                                                    <th class="ui-state-default" style="width: 8%">#{msg.get('app.decision.tb.th.frontEndFeePercent')}</th>
                                                </tr>
                                            </thead>

                                            <tbody class="ui-datatable-data ui-widget-content">
                                            <ui:repeat value="#{decision.decisionView.approveCreditList}"
                                                       var="proposeCredit" varStatus="i">
                                                <tr>
                                                    <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                    fn:length(proposeCredit.newCreditTierDetailViewList) + 1 : '2'}">
                                                        #{i.index + 1}
                                                    </td>
                                                    <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                    fn:length(proposeCredit.newCreditTierDetailViewList) + 1 : '2'}">
                                                        #{proposeCredit.uwDecision eq 'APPROVED' ? msg.get('app.label.approved') :
                                                          proposeCredit.uwDecision eq 'REJECTED' ? msg.get('app.label.rejected') : ''}
                                                    </td>
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                        #{not empty proposeCredit.productProgramView ? proposeCredit.productProgramView.name : ''}
                                                    </td>
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                            fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                        #{not empty proposeCredit.creditTypeView ? proposeCredit.creditTypeView.name : ''}
                                                    </td>
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                            fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                        #{msg.get('app.decision.tb.td.label.product')} #{proposeCredit.productCode}<br/>
                                                        #{msg.get('app.decision.tb.td.label.project')} #{proposeCredit.projectCode}
                                                    </td>
                                                    <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                            fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                        <h:outputText value="#{proposeCredit.limit}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>

                                                    <!-- BEGIN: Credit Tier Detail [0] -->
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].standardPriceLabel : ''}">
                                                        </h:outputText>
                                                    </td>
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].suggestPriceLabel : ''}">
                                                        </h:outputText>
                                                    </td>
                                                    <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].finalPriceLabel : ''}">
                                                        </h:outputText>
                                                    </td>
                                                    <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].installment : ''}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>
                                                    <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <h:outputText value="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                                proposeCredit.newCreditTierDetailViewList[0].tenor : ''}">
                                                        </h:outputText>
                                                    </td>
                                                    <!-- END: Credit Tier Detail [0] -->

                                                    <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}"
                                                        rowspan="#{not empty proposeCredit.newCreditTierDetailViewList and fn:length(proposeCredit.newCreditTierDetailViewList) gt 0 ?
                                                                        fn:length(proposeCredit.newCreditTierDetailViewList) : '1'}">
                                                        <h:outputText value="#{proposeCredit.frontEndFee}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>
                                                </tr>

                                                <!-- BEGIN: Credit Tier Detail [1]->[N-1] -->
                                                <h:panelGroup rendered="#{fn:length(proposeCredit.newCreditTierDetailViewList) gt 1}">
                                                <ui:repeat value="#{proposeCredit.newCreditTierDetailViewList}" var="creditTierDetail" varStatus="j" offset="1">
                                                    <tr>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{creditTierDetail.standardPriceLabel}"/>
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{creditTierDetail.suggestPriceLabel}"/>
                                                        </td>
                                                        <td class="left top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{creditTierDetail.finalPriceLabel}"/>
                                                        </td>
                                                        <td class="right top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{creditTierDetail.installment}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="center top" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                            <h:outputText value="#{creditTierDetail.tenor}"/>
                                                        </td>
                                                    </tr>
                                                </ui:repeat>
                                                </h:panelGroup>
                                                <!-- END: Credit Tier Detail [1]->[N-1] -->

                                                <tr>
                                                    <td class="left top" colspan="10" style="#{i.odd ? 'background-color:#e6e6e6' : ''}">
                                                        <table border="0" style="margin:-1px 0 -1px -10px; width: 600px !important;">
                                                            <tr>
                                                                <td class="title" style="border-style: none !important; width: 110px;">
                                                                    #{msg.get('app.decision.tb.td.label.requestType')}
                                                                </td>
                                                                <td class="left" style="border-style: none !important;">
                                                                    #{proposeCredit.requestType == 2 ? msg.get('app.label.new') :
                                                                      proposeCredit.requestType == 1 ? msg.get('app.label.change') : ''}
                                                                </td>
                                                                <td class="title" style="border-style: none !important; width: 110px;">
                                                                    #{msg.get('app.decision.tb.td.label.refinance')}
                                                                </td>
                                                                <td class="left" style="border-style: none !important;">
                                                                    #{proposeCredit.refinance == 2 ? msg.get('app.label.yes') :
                                                                      proposeCredit.refinance == 1 ? msg.get('app.label.no') : ''}
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="title" style="border-style: none !important;">
                                                                    #{msg.get('app.decision.tb.td.label.purpose')}
                                                                </td>
                                                                <td class="left" colspan="3" style="border-style: none !important;">
                                                                    #{not empty proposeCredit.loanPurposeView ?
                                                                      proposeCredit.loanPurposeView.description : ''}
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="title" style="border-style: none !important;">
                                                                    #{msg.get('app.decision.tb.td.label.purposeDetail')}
                                                                </td>
                                                                <td class="left" colspan="3" style="border-style: none !important;">
                                                                    #{proposeCredit.remark}
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="title" style="border-style: none !important;">
                                                                    #{msg.get('app.decision.tb.td.label.disbursement')}
                                                                </td>
                                                                <td class="left" style="border-style: none !important;">
                                                                    #{not empty proposeCredit.disbursementTypeView ?
                                                                      proposeCredit.disbursementTypeView.disbursement : ''}
                                                                </td>
                                                                <td class="title" style="border-style: none !important;">
                                                                    #{msg.get('app.decision.tb.td.label.holdAmount')}
                                                                </td>
                                                                <td class="left" style="border-style: none !important;">
                                                                    <h:outputText value="#{proposeCredit.holdLimitAmount}">
                                                                        <f:convertNumber pattern="#,##0.##"
                                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                                         maxIntegerDigits="14"/>
                                                                    </h:outputText>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </ui:repeat>

                                            <h:panelGroup rendered="#{empty decision.decisionView.approveCreditList}">
                                                <tr>
                                                    <td colspan="12">#{msg.get('app.label.noRecordsFound')}</td>
                                                </tr>
                                            </h:panelGroup>
                                            </tbody>

                                            <tfoot>
                                            <tr>
                                                <td colspan="12" style="background-color:#ffffff; line-height:10px; height:10px;"></td>
                                            </tr>
                                            <!-- Total Approved Credit Limit -->
                                            <tr>
                                                <td class="summary_column"></td>
                                                <td class="summary_column title" style="text-align: left;" colspan="4">
                                                    #{msg.get('app.decision.totalProposedCredit')}
                                                </td>
                                                <td class="summary_column title" style="text-align: right;">
                                                    <h:outputText value="#{decision.decisionView.approveTotalCreditLimit}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </td>
                                                <td class="summary_column" colspan="6"></td>
                                            </tr>
                                            <tr>
                                                <td colspan="12" style="background-color:#ffffff; line-height:10px; height:10px;"></td>
                                            </tr>

                                            <!-- Total Borrower -->
                                            <tr>
                                                <td class="title" colspan="12" style="line-height:30px; height:30px; text-align:left;">
                                                    #{msg.get('app.decision.borrower')}
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="summary_column"></td>
                                                <td class="summary_column title" style="text-align: left;" colspan="4">
                                                    #{msg.get('app.decision.totalCommercial')}
                                                </td>
                                                <td class="summary_column title" style="text-align: right;">
                                                    <h:outputText value="#{decision.decisionView.approveBrwTotalCommercial}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </td>
                                                <td class="summary_column" colspan="6"></td>
                                            </tr>
                                            <tr>
                                                <td colspan="12" style="line-height:10px; height:10px;"></td>
                                            </tr>

                                            <tr>
                                                <td class="summary_column"></td>
                                                <td class="summary_column title" style="text-align: left;" colspan="4">
                                                    #{msg.get('app.decision.totalCommAndOBOD')}
                                                </td>
                                                <td class="summary_column title" style="text-align: right;">
                                                    <h:outputText value="#{decision.decisionView.approveBrwTotalComAndOBOD}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </td>
                                                <td class="summary_column" colspan="6"></td>
                                            </tr>
                                            <tr>
                                                <td colspan="12" style="line-height:10px; height:10px;"></td>
                                            </tr>

                                            <tr>
                                                <td class="summary_column"></td>
                                                <td class="summary_column title" style="text-align: left;" colspan="4">
                                                    #{msg.get('app.decision.totalExposure')}
                                                </td>
                                                <td class="summary_column title" style="text-align: right;">
                                                    <h:outputText value="#{decision.decisionView.approveTotalExposure}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </td>
                                                <td class="summary_column" colspan="6"></td>
                                            </tr>
                                            </tfoot>
                                            </table>
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <tr>
                            <td class="left" colspan="2">
                                <!-- Propose - Fee Information -->
                                <p:dataTable id="dtProFeeInfo"
                                             var="feeInfoDetail" value="#{decision.decisionView.proposeFeeInfoList}"
                                             paginator="false" 
                                             rowKey="#{feeInfoDetail}" 
                                             rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column style="width: 17%" headerText="#{msg.get('app.decision.tb.th.productProgram')}"/>
                                            <p:column style="width: 17%" headerText="#{msg.get('app.decision.tb.th.standardFrontEndFee')}"/>
                                            <p:column style="width: 17%" headerText="#{msg.get('app.decision.tb.th.commitmentFee')}"/>
                                            <p:column style="width: 17%" headerText="#{msg.get('app.decision.tb.th.extensionFee')}"/>
                                            <p:column style="width: 16%" headerText="#{msg.get('app.decision.tb.th.prepaymentFee')}"/>
                                            <p:column style="width: 16%" headerText="#{msg.get('app.decision.tb.th.cancellationFee')}"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="center top">#{feeInfoDetail.productProgram}</p:column>

                                    <p:column styleClass="center top">
                                        <h:outputText value="#{not empty feeInfoDetail.standardFrontEndFee ? not empty feeInfoDetail.standardFrontEndFee.percentFee ?
                                                                         feeInfoDetail.standardFrontEndFee.percentFee : '0.00' : '0.00'} % ,
                                                             #{not empty feeInfoDetail.standardFrontEndFee ? not empty feeInfoDetail.standardFrontEndFee.feeYear ?
                                                                         feeInfoDetail.standardFrontEndFee.feeYear : '-' : '-'}
                                                             #{not empty feeInfoDetail.standardFrontEndFee ? not empty feeInfoDetail.standardFrontEndFee.feeYear ?
                                                                         ' Years' : '' : ''}"/>
                                    </p:column>

                                    <p:column styleClass="center top">
                                        <h:outputText value="#{not empty feeInfoDetail.commitmentFee ? not empty feeInfoDetail.commitmentFee.percentFee ?
                                                                         feeInfoDetail.commitmentFee.percentFee : '0.00' : '0.00'} %,
                                                             #{not empty feeInfoDetail.commitmentFee ? not empty feeInfoDetail.commitmentFee.feeYear ?
                                                                         feeInfoDetail.commitmentFee.feeYear : '-' : '-'}
                                                             #{not empty feeInfoDetail.commitmentFee ? not empty feeInfoDetail.commitmentFee.feeYear ?
                                                                         ' Years' : '' : ''}"/>
                                    </p:column>

                                    <p:column styleClass="center top">
                                        <h:outputText value="#{not empty feeInfoDetail.extensionFee ? not empty feeInfoDetail.extensionFee.percentFee ?
                                                                         feeInfoDetail.extensionFee.percentFee : '0.00' : '0.00'} %,
                                                             #{not empty feeInfoDetail.extensionFee ? not empty feeInfoDetail.extensionFee.feeYear ?
                                                                         feeInfoDetail.extensionFee.feeYear : '-' : '-'}
                                                             #{not empty feeInfoDetail.extensionFee ? not empty feeInfoDetail.extensionFee.feeYear ?
                                                                         ' Years' : '' : ''}"/>
                                    </p:column>

                                    <p:column styleClass="center top">
                                        <h:outputText value="#{not empty feeInfoDetail.prepaymentFee ? not empty feeInfoDetail.prepaymentFee.percentFee ?
                                                                         feeInfoDetail.prepaymentFee.percentFee : '0.00' : '0.00'} %,
                                                             #{not empty feeInfoDetail.prepaymentFee ? not empty feeInfoDetail.prepaymentFee.feeYear ?
                                                                         feeInfoDetail.prepaymentFee.feeYear : '-' : '-'}
                                                             #{not empty feeInfoDetail.prepaymentFee ? not empty feeInfoDetail.prepaymentFee.feeYear ?
                                                                         ' Years' : '' : ''}"/>
                                    </p:column>

                                    <p:column styleClass="center top">
                                        <h:outputText value="#{not empty feeInfoDetail.cancellationFee ? not empty feeInfoDetail.cancellationFee.percentFee ?
                                                                         feeInfoDetail.cancellationFee.percentFee : '0.00' : '0.00'} %,
                                                             #{not empty feeInfoDetail.cancellationFee ? not empty feeInfoDetail.cancellationFee.feeYear ?
                                                                         feeInfoDetail.cancellationFee.feeYear : '-' : '-'}
                                                             #{not empty feeInfoDetail.cancellationFee ? not empty feeInfoDetail.cancellationFee.feeYear ?
                                                                         ' Years' : '' : ''}"/>
                                    </p:column>

                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.proposedCollateral')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <!-- Proposed Collateral -->
                                <table border="0" style="width: 100%">
                                    <!-- BEGIN: Collateral -->
                                    <ui:repeat value="#{decision.decisionView.proposeCollateralList}"
                                               var="proposeColl" varStatus="collIndex">
                                    <tr>
                                        <td class="title" style="width: 15%">#{msg.get('app.decision.label.jobId')}</td>
                                        <td class="left" colspan="3">#{proposeColl.jobID}</td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.appraisalDate')}</td>
                                        <td class="left" colspan="3">
                                            <h:outputText value="#{proposeColl.appraisalDate}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                            </h:outputText>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.AADDecision')}</td>
                                        <td class="left" colspan="3">#{proposeColl.aadDecision}</td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.AADDecisionReason')}</td>
                                        <td class="left" style="width: 35%">#{proposeColl.aadDecisionReason}</td>
                                        <td class="title" style="width: 15%">#{msg.get('app.decision.label.AADDecisionReasonDetail')}</td>
                                        <td class="left" style="width: 35%">#{proposeColl.aadDecisionReasonDetail}</td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.usage')}</td>
                                        <td class="left">#{proposeColl.usage}</td>
                                        <td class="title">#{msg.get('app.decision.label.typeOfUsage')}</td>
                                        <td class="left">#{proposeColl.typeOfUsage}</td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.mortgageCondition')}</td>
                                        <td class="left">#{proposeColl.mortgageCondition}</td>
                                        <td class="title">#{msg.get('app.decision.label.mortgageConditionDetail')}</td>
                                        <td class="left">#{proposeColl.mortgageConditionDetail}</td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.creditType')}</td>
                                        <td class="left" colspan="3">
                                            <p:dataTable var="collCrdType" value="#{proposeColl.proposeCreditDetailViewList}"
                                                         paginator="false" rowKey="#{collCrdType}" rowIndexVar="rowIndex"
                                                         style="width: 100%">

                                                <p:columnGroup type="header">
                                                    <p:row>
                                                        <p:column style="width: 5%"/>
                                                        <p:column headerText="#{msg.get('app.decision.tb.th.account')}" style="width: 40%"/>
                                                        <p:column headerText="#{msg.get('app.decision.tb.th.type')}" style="width: 10%"/>
                                                        <p:column headerText="#{msg.get('app.decision.tb.th.productProgram')}" style="width: 15%"/>
                                                        <p:column headerText="#{msg.get('app.decision.tb.th.creditFacility')}" style="width: 15%"/>
                                                        <p:column headerText="#{msg.get('app.decision.tb.th.limit')}" style="width: 15%"/>
                                                    </p:row>
                                                </p:columnGroup>

                                                <p:column styleClass="center top">#{rowIndex + 1}</p:column>

                                                <p:column styleClass="left top">
                                                    #{collCrdType.accountName}<br/>
                                                    #{msg.get('app.decision.tb.td.label.accNo')} #{collCrdType.accountNumber},
                                                    #{msg.get('app.decision.tb.td.label.suf')} #{collCrdType.accountSuf}
                                                </p:column>

                                                <p:column styleClass="left top">
                                                    #{collCrdType.requestType == decision.requestTypeNEW.value ? msg.get('app.label.new')
                                                    : collCrdType.requestType == decision.requestTypeCHANGE.value ? msg.get('app.label.change')
                                                    : ''}
                                                </p:column>

                                                <p:column styleClass="left top">
                                                    <h:outputText value="#{collCrdType.productProgramView.name}"
                                                                  rendered="#{not empty collCrdType.productProgramView}"/>
                                                </p:column>

                                                <p:column styleClass="left top">
                                                    <h:outputText value="#{collCrdType.creditFacilityView.name}"
                                                                  rendered="#{not empty collCrdType.creditFacilityView}"/>
                                                </p:column>

                                                <p:column styleClass="right top">
                                                    <h:outputText value="#{collCrdType.limit}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </p:column>
                                            </p:dataTable>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.BDMComments')}</td>
                                        <td class="left" colspan="3">#{proposeColl.bdmComments}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="4">
                                            <div class="separate"><!-- --></div>
                                        </td>
                                    </tr>

                                    <!-- BEGIN: Coll Head -->
                                    <ui:repeat value="#{proposeColl.newCollateralHeadViewList}"
                                               var="collHead" varStatus="collHeadIndex">
                                        <tr>
                                            <td class="title" style="width: 15%">#{msg.get('app.decision.label.potential')}</td>
                                            <td class="left" colspan="3">
                                                <h:outputText value="#{collHead.potentialCollateral.description}"
                                                              rendered="#{not empty collHead.potentialCollateral}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.collTypePercentLTV')}</td>
                                            <td class="left" colspan="3">
                                                <h:outputText value="#{collHead.tcgCollateralType.description}"
                                                              rendered="#{not empty collHead.tcgCollateralType}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.existingCredit')}</td>
                                            <td class="left" colspan="3">
                                                <h:outputText value="#{collHead.existingCredit}">
                                                    <f:convertNumber pattern="#,##0.##"
                                                                     minFractionDigits="2" maxFractionDigits="2"
                                                                     maxIntegerDigits="14"/>
                                                </h:outputText>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.titleDeed')}</td>
                                            <td class="left" colspan="3">#{collHead.titleDeed}</td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.collateralLocation')}</td>
                                            <td class="left" colspan="3">#{collHead.collateralLocation}</td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.headCollAppraisalValue')}</td>
                                            <td class="left" colspan="3">
                                                <h:outputText value="#{collHead.appraisalValue}">
                                                    <f:convertNumber pattern="#,##0.##"
                                                                     minFractionDigits="2" maxFractionDigits="2"
                                                                     maxIntegerDigits="14"/>
                                                </h:outputText>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.headCollType')}</td>
                                            <td class="left" colspan="3">
                                                <h:outputText value="#{collHead.headCollType.description}"
                                                              rendered="#{not empty collHead.headCollType}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.insuranceCompany')}</td>
                                            <td class="left" colspan="3">
                                                #{collHead.insuranceCompany eq decision.yesValue ? msg.get('app.button.partner')
                                                : collHead.insuranceCompany eq decision.noValue ? msg.get('app.button.nonPartner')
                                                : ''}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="left" colspan="4">
                                                <!-- Sub Collateral -->
                                                <p:dataTable var="subColl" value="#{collHead.newCollateralSubViewList}"
                                                             paginator="false" rowKey="#{subColl}" rowIndexVar="rowIndex"
                                                             style="width: 100%">

                                                    <p:columnGroup type="header">
                                                        <p:row>
                                                            <p:column headerText="" style="width: 3%"/>
                                                            <p:column headerText="#{msg.get('app.decision.tb.th.subCollType')}" style="width: 30%"/>
                                                            <p:column headerText="#{msg.get('app.decision.tb.th.titleDeed')}" style="width: 7%"/>
                                                            <p:column headerText="#{msg.get('app.decision.tb.th.collateralOwner.add')}" style="width: 10%"/>
                                                            <p:column headerText="#{msg.get('app.decision.tb.th.collateralOwner.uw')}" style="width: 10%"/>
                                                            <p:column headerText="#{msg.get('app.decision.tb.th.mortgageType')}" style="width: 10%"/>
                                                            <p:column headerText="#{msg.get('app.decision.tb.th.relatedWith')}" style="width: 10%"/>
                                                            <p:column headerText="#{msg.get('app.decision.tb.th.appraisalValue')}" style="width: 10%"/>
                                                            <p:column headerText="#{msg.get('app.decision.tb.th.mortgageValue')}" style="width: 10%"/>
                                                        </p:row>
                                                    </p:columnGroup>

                                                    <p:column styleClass="center top">#{rowIndex + 1}</p:column>

                                                    <p:column styleClass="left top">
                                                        <h:outputText value="#{subColl.subCollateralType.description}"
                                                                      rendered="#{not empty subColl.subCollateralType}"/>
                                                        <br/>
                                                        #{msg.get('app.decision.tb.td.label.address')} #{subColl.address}
                                                        <br/>
                                                        #{msg.get('app.decision.tb.td.label.landOffice')} #{subColl.landOffice}
                                                    </p:column>

                                                    <p:column styleClass="left top">#{subColl.titleDeed}</p:column>

                                                    <p:column styleClass="left top">#{subColl.collateralOwnerAAD}</p:column>

                                                    <p:column styleClass="left top">
                                                        <ui:repeat value="#{subColl.collateralOwnerUWList}"
                                                                   var="collOwnerUW" varStatus="i">
                                                            #{not empty collOwnerUW.titleTh ? collOwnerUW.titleTh.titleTh : ''}
                                                            #{collOwnerUW.firstNameTh} #{collOwnerUW.lastNameTh}#{!i.last ? ', ' : ''}
                                                        </ui:repeat>
                                                    </p:column>

                                                    <p:column styleClass="left top">
                                                        <ui:repeat value="#{subColl.mortgageList}"
                                                                   var="mortgageType" varStatus="j">
                                                            #{mortgageType.mortgage}#{!j.last ? ', ' : ''}
                                                        </ui:repeat>
                                                    </p:column>

                                                    <p:column styleClass="left top">
                                                        <ui:repeat value="#{subColl.relatedWithList}"
                                                                   var="relatedWith" varStatus="k">
                                                            #{relatedWith.titleDeed}#{!k.last ? ', ' : ''}
                                                        </ui:repeat>
                                                    </p:column>

                                                    <p:column styleClass="right top">
                                                        <h:outputText value="#{subColl.appraisalValue}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </p:column>

                                                    <p:column styleClass="right top">
                                                        <h:outputText value="#{subColl.mortgageValue}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </p:column>

                                                </p:dataTable>
                                            </td>
                                        </tr>

                                        <h:panelGroup rendered="#{!collHeadIndex.last}">
                                            <tr>
                                                <td colspan="4">
                                                    <div class="separate"><!-- --></div>
                                                </td>
                                            </tr>
                                        </h:panelGroup>
                                    </ui:repeat>
                                    <!-- END: Coll Head -->

                                        <h:panelGroup rendered="#{!collIndex.last}">
                                            <tr>
                                                <td colspan="4">
                                                    <div class="separate"><!-- --></div>
                                                </td>
                                            </tr>
                                        </h:panelGroup>
                                    </ui:repeat>
                                    <!-- END: Collateral -->
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.approvedCollateral')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <!-- Approved Collateral -->
                                <table border="0" style="width: 100%">
                                    <!-- BEGIN: Collateral -->
                                    <ui:repeat value="#{decision.decisionView.approveCollateralList}"
                                               var="proposeColl" varStatus="collIndex">
                                    <tr>
                                        <td class="title" style="width: 15%">#{msg.get('app.decision.label.jobId')}</td>
                                        <td class="left" style="width: 35%">#{proposeColl.jobID}</td>
                                        <td class="right" colspan="2">
                                            <!-- Approved Collateral (Edit/Delete) Button -->
                                            <p:commandButton id="btnEditApprovedCollateral"
                                                             rendered="#{decision.roleUW}"
                                                             value="#{msg.get('app.button.edit')}"
                                                             action="#{decision.onEditApproveCollateral()}"
                                                             update=":collateralDlgForm"
                                                             oncomplete="proposeCollateralDlg.show()"
                                                             styleClass="smaller">
                                                <f:setPropertyActionListener value="#{proposeColl}"
                                                                             target="#{decision.selectedApproveCollateral}"/>
                                                <f:setPropertyActionListener value="#{collIndex.index}"
                                                                             target="#{decision.rowIndexCollateral}"/>
                                            </p:commandButton>

                                            <p:spacer width="10" height=""/>

                                            <p:commandButton id="btnDelApprovedCollateral"
                                                             rendered="#{decision.roleUW}"
                                                             value="#{msg.get('app.button.delete')}"
                                                             oncomplete="confirmDeleteAppProCollateralDlg.show()"
                                                             styleClass="smaller">
                                                <f:setPropertyActionListener value="#{proposeColl}"
                                                                             target="#{decision.selectedApproveCollateral}"/>
                                                <f:setPropertyActionListener value="#{collIndex.index}"
                                                                             target="#{decision.rowIndexCollateral}"/>
                                            </p:commandButton>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.appraisalDate')}</td>
                                        <td class="left" colspan="3">
                                            <h:outputText value="#{proposeColl.appraisalDate}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                            </h:outputText>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.AADDecision')}</td>
                                        <td class="left" colspan="3">#{proposeColl.aadDecision}</td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.AADDecisionReason')}</td>
                                        <td class="left">#{proposeColl.aadDecisionReason}</td>
                                        <td class="title" style="width: 15%">#{msg.get('app.decision.label.AADDecisionReasonDetail')}</td>
                                        <td class="left" style="width: 35%">#{proposeColl.aadDecisionReasonDetail}</td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.usage')}</td>
                                        <td class="left">#{proposeColl.usage}</td>
                                        <td class="title">#{msg.get('app.decision.label.typeOfUsage')}</td>
                                        <td class="left">#{proposeColl.typeOfUsage}</td>
                                    </tr>
                                    <tr>
                                        <td class="title left large">#{msg.get('app.decision.label.UWDecision')}</td>
                                        <td class="left" colspan="3">
                                            <table border="0">
                                                <tr>
                                                    <td class="title">#{msg.get('app.decision.label.approved')}</td>
                                                    <td class="left">
                                                        #{proposeColl.uwDecision eq 'APPROVED' ? msg.get('app.button.yes')
                                                        : proposeColl.uwDecision eq 'REJECTED' ? msg.get('app.button.no')
                                                        : ''}
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.UWRemark')}</td>
                                        <td class="left" colspan="3">#{proposeColl.uwRemark}</td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.mortgageCondition')}</td>
                                        <td class="left">#{proposeColl.mortgageCondition}</td>
                                        <td class="title">#{msg.get('app.decision.label.mortgageConditionDetail')}</td>
                                        <td class="left">#{proposeColl.mortgageConditionDetail}</td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.creditType')}</td>
                                        <td class="left" colspan="3">
                                            <p:dataTable var="collCrdType" value="#{proposeColl.proposeCreditDetailViewList}"
                                                         paginator="false" rowKey="#{collCrdType}" rowIndexVar="rowIndex"
                                                         style="width: 100%">

                                                <p:columnGroup type="header">
                                                    <p:row>
                                                        <p:column style="width: 5%"/>
                                                        <p:column style="width: 40%" headerText="#{msg.get('app.decision.tb.th.account')}"/>
                                                        <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.type')}"/>
                                                        <p:column style="width: 15%" headerText="#{msg.get('app.decision.tb.th.productProgram')}"/>
                                                        <p:column style="width: 15%" headerText="#{msg.get('app.decision.tb.th.creditFacility')}"/>
                                                        <p:column style="width: 15%" headerText="#{msg.get('app.decision.tb.th.limit')}"/>
                                                    </p:row>
                                                </p:columnGroup>

                                                <p:column styleClass="center top">#{rowIndex + 1}</p:column>

                                                <p:column styleClass="left top">
                                                    #{collCrdType.accountName}<br/>
                                                    #{msg.get('app.decision.tb.td.label.accNo')} #{collCrdType.accountNumber},
                                                    #{msg.get('app.decision.tb.td.label.suf')} #{collCrdType.accountSuf}
                                                </p:column>

                                                <p:column styleClass="left top">
                                                    #{collCrdType.requestType == decision.requestTypeNEW.value ? msg.get('app.label.new')
                                                    : collCrdType.requestType == decision.requestTypeCHANGE.value ? msg.get('app.label.change')
                                                    : ''}
                                                </p:column>

                                                <p:column styleClass="left top">
                                                    <h:outputText value="#{collCrdType.productProgramView.name}"
                                                                  rendered="#{not empty collCrdType.productProgramView}"/>
                                                </p:column>

                                                <p:column styleClass="left top">
                                                    <h:outputText value="#{collCrdType.creditFacilityView.name}"
                                                                  rendered="#{not empty collCrdType.creditFacilityView}"/>
                                                </p:column>

                                                <p:column styleClass="right top">
                                                    <h:outputText value="#{collCrdType.limit}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </p:column>
                                            </p:dataTable>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="title">#{msg.get('app.decision.label.BDMComments')}</td>
                                        <td class="left" colspan="3">#{proposeColl.bdmComments}</td>
                                    </tr>
                                    <tr>
                                        <td colspan="4">
                                            <div class="separate"><!-- --></div>
                                        </td>
                                    </tr>

                                    <!-- BEGIN: Coll Head -->
                                    <ui:repeat value="#{proposeColl.newCollateralHeadViewList}"
                                               var="collHeader" varStatus="collHeadIndex">
                                        <tr>
                                            <td class="title" style="width: 15%">#{msg.get('app.decision.label.potential')}</td>
                                            <td class="left" colspan="3">
                                                <h:outputText value="#{collHeader.potentialCollateral.description}"
                                                              rendered="#{not empty collHeader.potentialCollateral}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.collTypePercentLTV')}</td>
                                            <td class="left" colspan="3">
                                                <h:outputText value="#{collHeader.tcgCollateralType.description}"
                                                              rendered="#{not empty collHeader.tcgCollateralType}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.existingCredit')}</td>
                                            <td class="left" colspan="3">
                                                <h:outputText value="#{collHeader.existingCredit}">
                                                    <f:convertNumber pattern="#,##0.##"
                                                                     minFractionDigits="2" maxFractionDigits="2"
                                                                     maxIntegerDigits="14"/>
                                                </h:outputText>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.titleDeed')}</td>
                                            <td class="left" colspan="3">#{collHeader.titleDeed}</td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.collateralLocation')}</td>
                                            <td class="left" colspan="3">#{collHeader.collateralLocation}</td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.headCollAppraisalValue')}</td>
                                            <td class="left" colspan="3">
                                                <h:outputText value="#{collHeader.appraisalValue}">
                                                    <f:convertNumber pattern="#,##0.##"
                                                                     minFractionDigits="2" maxFractionDigits="2"
                                                                     maxIntegerDigits="14"/>
                                                </h:outputText>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="title">#{msg.get('app.decision.label.headCollType')}</td>
                                            <td class="left" colspan="3">
                                                <h:outputText value="#{collHeader.headCollType.description}"
                                                              rendered="#{not empty collHeader.headCollType}"/>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="title ">#{msg.get('app.decision.label.insuranceCompany')}</td>
                                            <td class="left" colspan="3">
                                                #{collHeader.insuranceCompany eq decision.yesValue ? msg.get('app.button.partner')
                                                : collHeader.insuranceCompany eq decision.noValue ? msg.get('app.button.nonPartner')
                                                : ''}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="left" colspan="4">
                                                <!-- Sub Collateral -->
                                                <p:dataTable var="subColl" value="#{collHeader.newCollateralSubViewList}"
                                                             paginator="false" rowKey="#{subColl}" rowIndexVar="rowIndex"
                                                             style="width: 100%">

                                                    <p:columnGroup type="header">
                                                        <p:row>
                                                            <p:column style="width: 3%"/>
                                                            <p:column style="width: 30%" headerText="#{msg.get('app.decision.tb.th.subCollType')}"/>
                                                            <p:column style="width: 7%" headerText="#{msg.get('app.decision.tb.th.titleDeed')}"/>
                                                            <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.collateralOwner.add')}"/>
                                                            <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.collateralOwner.uw')}"/>
                                                            <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.mortgageType')}"/>
                                                            <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.relatedWith')}"/>
                                                            <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.appraisalValue')}"/>
                                                            <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.mortgageValue')}"/>
                                                        </p:row>
                                                    </p:columnGroup>

                                                    <p:column styleClass="center top">#{rowIndex + 1}</p:column>

                                                    <p:column styleClass="left top">
                                                        <h:outputText value="#{subColl.subCollateralType.description}"
                                                                      rendered="#{not empty subColl.subCollateralType}"/>
                                                        <br/>
                                                        #{msg.get('app.decision.tb.td.label.address')} #{subColl.address}
                                                        <br/>
                                                        #{msg.get('app.decision.tb.td.label.landOffice')} #{subColl.landOffice}
                                                    </p:column>

                                                    <p:column styleClass="left top">#{subColl.titleDeed}</p:column>

                                                    <p:column styleClass="left top">#{subColl.collateralOwnerAAD}</p:column>

                                                    <p:column styleClass="left top">
                                                        <ui:repeat value="#{subColl.collateralOwnerUWList}"
                                                                   var="collOwnerUW" varStatus="i">
                                                            #{not empty collOwnerUW.titleTh ? collOwnerUW.titleTh.titleTh : ''}
                                                            #{collOwnerUW.firstNameTh} #{collOwnerUW.lastNameTh}#{!i.last ? ', ' : ''}
                                                        </ui:repeat>
                                                    </p:column>

                                                    <p:column styleClass="left top">
                                                        <ui:repeat value="#{subColl.mortgageList}"
                                                                   var="mortgageType" varStatus="j">
                                                            #{mortgageType.mortgage}#{!j.last ? ', ' : ''}
                                                        </ui:repeat>
                                                    </p:column>

                                                    <p:column styleClass="left top">
                                                        <ui:repeat value="#{subColl.relatedWithList}"
                                                                   var="relatedWith" varStatus="k">
                                                            #{relatedWith.titleDeed}#{!k.last ? ', ' : ''}
                                                        </ui:repeat>
                                                    </p:column>

                                                    <p:column styleClass="right top">
                                                        <h:outputText value="#{subColl.appraisalValue}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </p:column>

                                                    <p:column styleClass="right top">
                                                        <h:outputText value="#{subColl.mortgageValue}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </p:column>

                                                </p:dataTable>
                                            </td>
                                        </tr>

                                        <h:panelGroup rendered="#{!collHeadIndex.last}">
                                            <tr>
                                                <td colspan="4">
                                                    <div class="separate"><!-- --></div>
                                                </td>
                                            </tr>
                                        </h:panelGroup>
                                    </ui:repeat>
                                    <!-- END: Coll Head -->

                                        <h:panelGroup rendered="#{!collIndex.last}">
                                            <tr>
                                                <td colspan="4">
                                                    <div class="separate"><!-- --></div>
                                                </td>
                                            </tr>
                                        </h:panelGroup>
                                    </ui:repeat>
                                    <!-- END: Collateral -->
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="separate"><!-- --></div>
                            </td>
                        </tr>

                        <!-- Proposed Guarantor -->
                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.proposedGuarantor')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <p:dataTable id="dtProposedGuarantor"
                                             var="guarantor" value="#{decision.decisionView.proposeGuarantorList}"
                                             paginator="false" rowKey="#{guarantor}" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column style="width: 5%"/>
                                            <p:column style="width: 20%" headerText="#{msg.get('app.decision.tb.th.guarantorName')}"/>
                                            <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.TCGLGNo')}"/>
                                            <p:column style="width: 50%" headerText="#{msg.get('app.decision.tb.th.creditType')}"/>
                                            <p:column style="width: 15%" headerText="#{msg.get('app.decision.tb.th.guaranteeAmount')}"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="center top">#{rowIndex + 1}</p:column>

                                    <p:column styleClass="left top">
                                        <h:outputText value="#{guarantor.guarantorName.titleTh.titleTh}"
                                                      rendered="#{not empty guarantor.guarantorName and not empty guarantor.guarantorName.titleTh}"/>
                                        <h:outputText value="#{guarantor.guarantorName.firstNameTh} #{guarantor.guarantorName.lastNameTh}"
                                                      rendered="#{not empty guarantor.guarantorName}"/>
                                    </p:column>

                                    <p:column styleClass="center top">#{guarantor.tcgLgNo}</p:column>

                                    <p:column styleClass="left top">
                                        <table border="0" style="margin:-1px 0 -1px -10px; width: 100%">
                                            <ui:repeat value="#{guarantor.proposeCreditDetailViewList}"
                                                       var="creditType">
                                                <tr>
                                                    <td class="left top" style="border-style: none !important;">
                                                        #{creditType.accountName}
                                                        <br/>
                                                        #{msg.get('app.decision.tb.td.label.accNo')} #{creditType.accountNumber}&#160;
                                                        #{msg.get('app.decision.tb.td.label.suf')} #{creditType.accountSuf}
                                                    </td>
                                                    <td class="center top" style="border-style: none !important;">
                                                        <h:outputText value="#{not empty creditType.productProgramView ?
                                                                       creditType.productProgramView.name : ''}"/>
                                                        <br/>
                                                        <h:outputText value="#{not empty creditType.creditFacilityView ?
                                                                       creditType.creditFacilityView.name : ''}"/>
                                                    </td>
                                                    <td class="top center" style="border-style: none !important;">
                                                        <h:outputText value="#{creditType.limit}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2"
                                                                             maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>
                                                    <td class="top center" style="border-style: none !important;">
                                                        #{msg.get('app.decision.tb.td.label.guaranteeAmt')}<br/>
                                                        <h:outputText value="#{creditType.guaranteeAmount}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2"
                                                                             maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </td>
                                                </tr>
                                            </ui:repeat>
                                        </table>
                                    </p:column>

                                    <p:column styleClass="right top">
                                        <h:outputText value="#{guarantor.totalLimitGuaranteeAmount}">
                                            <f:convertNumber pattern="#,##0.##"
                                                             minFractionDigits="2" maxFractionDigits="2"
                                                             maxIntegerDigits="14"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:columnGroup type="footer">
                                        <p:row>
                                            <p:column colspan="5" style="background-color:#ffffff; line-height:10px; height:10px;"/>
                                        </p:row>
                                        <p:row>
                                            <p:column styleClass="summary_column title" style="text-align: left" colspan="4"
                                                      footerText="#{msg.get('app.label.total')}"/>
                                            <p:column styleClass="summary_column title" style="text-align: right">
                                                <f:facet name="footer">
                                                    <h:outputText value="#{decision.decisionView.proposeTotalGuaranteeAmt}">
                                                        <f:convertNumber pattern="#,##0.##"
                                                                         minFractionDigits="2" maxFractionDigits="2"
                                                                         maxIntegerDigits="14"/>
                                                    </h:outputText>
                                                </f:facet>
                                            </p:column>
                                        </p:row>
                                    </p:columnGroup>

                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>

                        <!-- Approved Guarantor -->
                        <tr>
                            <td colspan="2" class="title">
                                <h:outputText value="#{msg.get('app.decision.approvedGuarantor')}"/>
                            </td>
                        </tr>

                        <h:panelGroup rendered="#{decision.roleUW}">
                        <tr>
                            <td class="left" colspan="2">
                                <p:commandButton id="btnAddApprovedGuarantor"
                                                 value="#{msg.get('app.button.add')}"
                                                 disabled="#{not decision.roleUW}"
                                                 actionListener="#{decision.onAddApproveGuarantor()}"
                                                 process="@this"
                                                 update=":guarantorDlgForm"
                                                 oncomplete="proposeGuarantorDlg.show()"
                                                 styleClass="smaller">
                                    <p:resetInput target=":guarantorDlgForm"/>
                                </p:commandButton>
                            </td>
                        </tr>
                        </h:panelGroup>

                        <tr>
                            <td class="left" colspan="2">
                                <p:dataTable id="dtApproveGuarantor"
                                             var="guarantor" value="#{decision.decisionView.approveGuarantorList}"
                                             paginator="false" rowKey="#{guarantor}" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                        <p:columnGroup type="header">
                                            <p:row>
                                                <p:column style="width: 5%"/>
                                                <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.decision')}"/>
                                                <p:column style="width: 20%" headerText="#{msg.get('app.decision.tb.th.guarantorName')}"/>
                                                <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.TCGLGNo')}"/>
                                                <p:column style="width: #{decision.roleUW ? '40' : '45'}%"
                                                          headerText="#{msg.get('app.decision.tb.th.creditType')}"/>
                                                <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.guaranteeAmount')}"/>
                                                <p:column style="width: 5%" rendered="#{decision.roleUW}" />
                                            </p:row>
                                        </p:columnGroup>

                                        <p:column styleClass="center top">#{rowIndex + 1}</p:column>

                                        <p:column styleClass="center top">
                                            #{guarantor.uwDecision eq 'APPROVED' ? msg.get('app.label.approved')
                                            : guarantor.uwDecision eq 'REJECTED' ? msg.get('app.label.rejected')
                                            : ''}
                                        </p:column>

                                        <p:column styleClass="left top">
                                            <h:outputText value="#{guarantor.guarantorName.titleTh.titleTh}"
                                                          rendered="#{not empty guarantor.guarantorName and not empty guarantor.guarantorName.titleTh}"/>
                                            <h:outputText value="#{guarantor.guarantorName.firstNameTh} #{guarantor.guarantorName.lastNameTh}"
                                                          rendered="#{not empty guarantor.guarantorName}"/>
                                            <h:outputText value="#{msg.get('app.select.item1')}"
                                                          rendered="#{empty guarantor.guarantorName}"/>
                                        </p:column>

                                        <p:column styleClass="center top">#{guarantor.tcgLgNo}</p:column>

                                        <p:column styleClass="left top">
                                            <table border="0" style="margin:-1px 0 -1px -10px; width: 100%">
                                                <ui:repeat value="#{guarantor.proposeCreditDetailViewList}"
                                                           var="creditType">
                                                    <tr>
                                                        <td class="left top" style="border-style: none !important;">
                                                            #{creditType.accountName}
                                                            <br/>
                                                            #{msg.get('app.decision.tb.td.label.accNo')} #{creditType.accountNumber}&#160;
                                                            #{msg.get('app.decision.tb.td.label.suf')} #{creditType.accountSuf}
                                                        </td>
                                                        <td class="center top" style="border-style: none !important;">
                                                            <h:outputText value="#{not empty creditType.productProgramView ?
                                                                       creditType.productProgramView.name : ''}"/><br/>
                                                            <h:outputText value="#{not empty creditType.creditFacilityView ?
                                                                       creditType.creditFacilityView.name : ''}"/>
                                                        </td>
                                                        <td class="top center" style="border-style: none !important;">
                                                            <h:outputText value="#{creditType.limit}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2"
                                                                                 maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>
                                                        <td class="top center" style="border-style: none !important;">
                                                            #{msg.get('app.decision.tb.td.label.guaranteeAmt')}<br/>
                                                            <h:outputText value="#{creditType.guaranteeAmount}">
                                                                <f:convertNumber pattern="#,##0.##"
                                                                                 minFractionDigits="2"
                                                                                 maxFractionDigits="2"
                                                                                 maxIntegerDigits="14"/>
                                                            </h:outputText>
                                                        </td>
                                                    </tr>
                                                </ui:repeat>
                                            </table>
                                        </p:column>

                                        <p:column styleClass="right top">
                                            <h:outputText value="#{guarantor.totalLimitGuaranteeAmount}">
                                                <f:convertNumber pattern="#,##0.##"
                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                 maxIntegerDigits="14"/>
                                            </h:outputText>
                                        </p:column>

                                        <p:column styleClass="center top" style="white-space: nowrap !important;"
                                                  rendered="#{decision.roleUW}">
                                            <p:commandButton title="#{msg.get('app.button.edit')}"
                                                             icon="ui-icon-pencil"
                                                             disabled="#{not decision.roleUW}"
                                                             action="#{decision.onEditApproveGuarantor()}"
                                                             update=":guarantorDlgForm"
                                                             oncomplete="proposeGuarantorDlg.show()">
                                                <f:setPropertyActionListener value="#{guarantor}"
                                                                             target="#{decision.selectedApproveGuarantor}"/>
                                                <f:setPropertyActionListener value="#{rowIndex}"
                                                                             target="#{decision.rowIndexGuarantor}"/>
                                                <!--<p:resetInput target=":guarantorDlgForm"/>-->
                                            </p:commandButton>

                                            <p:commandButton title="#{msg.get('app.button.delete')}"
                                                             icon="ui-icon-trash"
                                                             disabled="#{not decision.roleUW}"
                                                             oncomplete="confirmDeleteAppGuarantorDlg.show()">
                                                <f:setPropertyActionListener value="#{guarantor}"
                                                                             target="#{decision.selectedApproveGuarantor}"/>
                                                <f:setPropertyActionListener value="#{rowIndex}"
                                                                             target="#{decision.rowIndexGuarantor}"/>
                                            </p:commandButton>
                                        </p:column>

                                        <p:columnGroup type="footer">
                                            <p:row>
                                                <p:column colspan="#{decision.roleUW ? '7' : '6'}"
                                                          style="background-color:#ffffff; line-height:10px; height:10px;"/>
                                            </p:row>

                                            <p:row>
                                                <p:column styleClass="summary_column title" style="text-align: left"
                                                          colspan="5"
                                                          footerText="#{msg.get('app.label.total')}"/>

                                                <p:column styleClass="summary_column title" style="text-align: right">
                                                    <f:facet name="footer">
                                                        <h:outputText value="#{decision.decisionView.approveTotalGuaranteeAmt}">
                                                            <f:convertNumber pattern="#,##0.##"
                                                                             minFractionDigits="2" maxFractionDigits="2"
                                                                             maxIntegerDigits="14"/>
                                                        </h:outputText>
                                                    </f:facet>
                                                </p:column>

                                                <p:column styleClass="summary_column"
                                                          rendered="#{decision.roleUW}"/>
                                            </p:row>
                                        </p:columnGroup>

                                    </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="separate"><!-- --></div>
                            </td>
                        </tr>

                        <!-- FollowUp - Condition -->
                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.followupCondition')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <table border="0">
                                    <tr>
                                        <td class="left" style="border-style: none !important; width: 400px">
                                            <p:selectOneMenu value="#{decision.decisionFollowConditionView.conditionView.id}"
                                                             disabled="#{not decision.roleUW}"
                                                             style="width: 400px"
                                                             required="#{not empty param[addFollowUpCondButton.clientId]}">
                                                <f:selectItem itemLabel="#{msg.get('app.select.item0')}" itemValue=""/>
                                                <f:selectItems value="#{decision.followConditionViewList}" var="followCondition"
                                                               itemLabel="#{followCondition.name}" itemValue="#{followCondition.id}"/>
                                            </p:selectOneMenu>
                                         </td>
                                         <td class="left" style="border-style: none !important; padding-left: 5px">
                                            <p:commandButton id="btnAddFollowUpCondition"
                                                             binding="#{addFollowUpCondButton}"
                                                             disabled="#{not decision.roleUW}"
                                                             value="#{msg.get('app.button.add')}"
                                                             action="#{decision.onAddFollowUpCondition()}"
                                                             process="@form"
                                                             update=":frmMain,:msgBoxSystemMessagePanel"
                                                             styleClass="smaller"/>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <table border="0">
                                    <tr>
                                        <td class="left" style="border-style: none !important;">
                                            <p:inputText value="#{decision.decisionFollowConditionView.detail}"
                                                         readonly="#{not decision.roleUW}"
                                                         style="width: 400px"/>

                                            <p:spacer width="10" height=""/>

                                            <clv:BECalendar showOn="both" showButtonPanel="true" navigator="true"
                                                            yearRange="1950:2100"
                                                            disabled="#{not decision.roleUW}"
                                                            defaultdate="#{decision.decisionFollowConditionView.followDate}"
                                                            pattern="dd/MM/yyyy"
                                                            value="#{decision.decisionFollowConditionView.followDate}"
                                                            locale="th_TH"
                                                            readonlyInput="true"
                                                            styleClass="calendar_right">
                                            </clv:BECalendar>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <p:dataTable id="dtFollowUpCondition"
                                             var="followUpCondition" value="#{decision.decisionView.decisionFollowConditionViewList}"
                                             paginator="false" rowKey="#{followUpCondition}" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column style="width: 5%"/>
                                            <p:column style="width: 50%" headerText="#{msg.get('app.decision.tb.th.topic')}"/>
                                            <p:column style="width: #{decision.roleUW ? '30%' : '35%'}"
                                                      headerText="#{msg.get('app.decision.tb.th.detail')}"/>
                                            <p:column style="width: 10%" headerText="#{msg.get('app.decision.tb.th.date')}"/>
                                            <p:column style="width: 5%"
                                                      rendered="#{decision.roleUW}"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="center top">
                                        <h:outputText value="#{rowIndex + 1}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <h:outputText value="#{followUpCondition.conditionView.name}" rendered="#{not empty followUpCondition.conditionView}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <h:outputText value="#{followUpCondition.detail}"/>
                                    </p:column>

                                    <p:column styleClass="center top">
                                        <h:outputText value="#{followUpCondition.followDate}">
                                            <f:convertDateTime pattern="dd/MM/yyyy" locale="th_TH"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:column styleClass="center top"
                                              rendered="#{decision.roleUW}">
                                        <p:commandButton title="#{msg.get('app.button.delete')}"
                                                         icon="ui-icon-trash"
                                                         oncomplete="confirmDeleteFollowUpCondDlg.show()">
                                            <f:setPropertyActionListener value="#{rowIndex}"
                                                                         target="#{decision.rowIndexDecisionFollowCondition}"/>
                                        </p:commandButton>
                                    </p:column>

                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="separate"><!-- --></div>
                            </td>
                        </tr>

                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.tb.th.priceFeeReduction')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <!-- Price Fee Reduction Table -->
                                <table class="table_content" style="width:100%; background-color: #ffffff">
                                    <tr>
                                        <td class="left" style="width: 280px;">
                                            #{msg.get('app.decision.tb.td.label.intFeeDOA')}
                                        </td>
                                        <td class="left" style="width: 190px;">
                                            <p:inputText value="#{decision.decisionView.intFeeDOA}"
                                                         disabled="#{decision.isDisabled('intFeeDOA')}"
                                                         styleClass="right">
                                                <f:convertNumber pattern="##0.##"
                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                 maxIntegerDigits="3"/>
                                            </p:inputText>
                                            <h:outputText value=" %"/>
                                        </td>

                                        <td class="left" style="width: 300px;">
                                            #{msg.get('app.decision.tb.td.label.frontEndFeeDOA')}
                                        </td>
                                        <td class="left" style="width: 190px;">
                                            <p:inputText value="#{decision.decisionView.frontendFeeDOA}"
                                                         disabled="#{decision.isDisabled('frontendFeeDOA')}"
                                                         styleClass="right">
                                                <f:convertNumber pattern="##0.##"
                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                 maxIntegerDigits="3"/>
                                            </p:inputText>
                                            <h:outputText value=" %"/>
                                        </td>

                                        <td class="left" style="width: 130px;">
                                            #{msg.get('app.decision.tb.td.label.guarantorBA')}
                                        </td>
                                        <td class="left" style="width: 190px;">
                                            <p:inputText value="#{decision.decisionView.guarantorBA}"
                                                         readonly="true"
                                                         styleClass="right">
                                                <f:convertNumber pattern="#,##0.##"
                                                                 minFractionDigits="2" maxFractionDigits="2"
                                                                 maxIntegerDigits="14"/>
                                            </p:inputText>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="left" style="width: 250px;">
                                            #{msg.get('app.decision.tb.td.label.reasonForReduction')}
                                        </td>
                                        <td class="left middle" colspan="5" style="padding-top: 10px;">
                                            <p:inputTextarea value="#{decision.decisionView.reasonForReduction}"
                                                             rows="3" cols="150"
                                                             readonly="true" autoResize="false"/>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="separate"><!-- --></div>
                            </td>
                        </tr>

                        <!-- Written / Approval History -->
                        <tr>
                            <td class="title" colspan="2">
                                <h:outputText value="#{msg.get('app.decision.appApprovalHistory')}"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="left" colspan="2">
                                <p:dataTable value="#{decision.decisionView.approvalHistoryList}"
                                             var="approvalHistory"
                                             paginator="false" rowIndexVar="rowIndex"
                                             style="width: 100%">

                                    <p:columnGroup type="header">
                                        <p:row>
                                            <p:column style="width: 5%"/>
                                            <p:column style="width: 15%" headerText="#{msg.get('app.decision.tb.th.action')}"/>
                                            <p:column style="width: 15%" headerText="#{msg.get('app.decision.tb.th.actionBy')}"/>
                                            <p:column style="width: 15%" headerText="#{msg.get('app.decision.tb.th.role')}"/>
                                            <p:column style="width: 15%" headerText="#{msg.get('app.decision.tb.th.position')}"/>
                                            <p:column style="width: 15%" headerText="#{msg.get('app.decision.tb.th.date')}"/>
                                            <p:column style="width: 20%" headerText="#{msg.get('app.decision.tb.th.comments')}"/>
                                        </p:row>
                                    </p:columnGroup>

                                    <p:column styleClass="center top">
                                        <h:outputText value="#{rowIndex + 1}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <h:outputText value="#{approvalHistory.stepView.description}"
                                                      rendered="#{not empty approvalHistory.stepView}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <h:outputText value="#{approvalHistory.userView.userName}"
                                                      rendered="#{not empty approvalHistory.userView}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <h:outputText value="#{approvalHistory.userView.roleDescription}"
                                                      rendered="#{not empty approvalHistory.userView}"/>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <h:outputText value="#{approvalHistory.userView.titleName}"
                                                      rendered="#{not empty approvalHistory.userView}"/>
                                    </p:column>

                                    <p:column styleClass="center top">
                                        <h:outputText value="#{approvalHistory.submitDate}">
                                            <f:convertDateTime pattern="dd/MM/yyyy HH:mm" locale="th_TH"/>
                                        </h:outputText>
                                    </p:column>

                                    <p:column styleClass="left top">
                                        <h:outputText value="#{approvalHistory.comments}"/>
                                        <h:outputText value="-" rendered="#{empty approvalHistory.comments}"/>
                                    </p:column>

                                </p:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="height:28px;"></td>
                        </tr>
                        <h:panelGroup rendered="#{decision.decisionDialog}">
                            <!--APPROVE FOR ENDORSE CA-->
                            <h:panelGroup rendered="#{decision.endorseDecisionDialog}">
                                <tr>
                                    <td class="center" colspan="2">
                                        <div class="ui-datatable ui-widget">
                                            <div class="ui-datatable-tablewrapper">
                                                <table style="margin: 0 auto; width: 500px !important;">
                                                    <thead>
                                                        <tr>
                                                            <th class="ui-state-default">
                                                                <h:outputText value="#{decision.approvalHistoryView.userView.roleDescription}"
                                                                              rendered="#{not empty decision.approvalHistoryView.userView.roleDescription}"/>
                                                                <h:outputText value=" - "/>
                                                                <h:outputText value="Endorse CA"/>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="ui-datatable-data ui-widget-content">
                                                        <tr>
                                                            <td>
                                                                <table border="0" style="margin: 0 auto;">
                                                                    <tr>
                                                                        <td class="title left" style="border-style: none !important;">
                                                                            #{msg.get('app.decision.tb.td.label.comment')}
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="center" style="border-style: none !important;">
                                                                            <p:inputTextarea value="#{decision.approvalHistoryView.comments}"
                                                                                             rows="5"
                                                                                             style="font-size: 12px !important; width: 450px"/>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="center">
                                                                <p:selectOneRadio value="#{decision.approvalHistoryView.uwDecision}"
                                                                                  required="#{decision.roleUW and decision.endorseDecisionDialog and not empty param[saveDecisionBtn.clientId]}"
                                                                                  styleClass="ovr-border">
                                                                    <f:selectItem itemLabel="#{msg.get('app.button.approve')}" itemValue="#{decision.decisionAPPROVED}"/>
                                                                    <f:selectItem itemLabel="#{msg.get('app.button.reject')}" itemValue="#{decision.decisionREJECTED}"/>
                                                                </p:selectOneRadio>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>
                                                                <table border="0">
                                                                    <tr>
                                                                        <td class="title left" style="border-style: none !important; width: 120px;">
                                                                            #{msg.get('app.decision.tb.td.label.approvalName')}
                                                                        </td>
                                                                        <td class="left" style="border-style: none !important;">
                                                                            <h:outputText value="#{decision.approvalHistoryView.userView.userName}"
                                                                                          rendered="#{not empty decision.approvalHistoryView.userView}"/>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="title left" style="border-style: none !important;">
                                                                            #{msg.get('app.decision.tb.td.label.position')}
                                                                        </td>
                                                                        <td class="left" style="border-style: none !important;">
                                                                            <h:outputText value="#{decision.approvalHistoryView.userView.titleName}"
                                                                                          rendered="#{not empty decision.approvalHistoryView.userView}"/>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="title left" style="border-style:none !important;">
                                                                            #{msg.get('app.decision.tb.td.label.date')}
                                                                        </td>
                                                                        <td class="left" style="border-style:none !important;">
                                                                            <h:outputText value="#{decision.approvalHistoryView.submitDate}">
                                                                                <f:convertDateTime pattern="dd/MM/yyyy HH:mm" locale="th_TH"/>
                                                                            </h:outputText>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </h:panelGroup>
                            <tr>
                                <td colspan="2" style="height:28px;"></td>
                            </tr>
                            <h:panelGroup rendered="#{decision.requestPricing and decision.pricingDecisionDialog}">
                                <tr>
                                    <td class="center" colspan="2">
                                        <div class="ui-datatable ui-widget">
                                            <div class="ui-datatable-tablewrapper">
                                                <table style="margin: 0 auto; width: 500px !important;">
                                                    <thead>
                                                    <tr>
                                                        <th class="ui-state-default">
                                                            <h:outputText value="#{decision.approvalHistoryPricingView.userView.roleDescription}"
                                                                          rendered="#{not empty decision.approvalHistoryPricingView.userView.roleDescription}"/>
                                                            <h:outputText value=" - "/>
                                                            <h:outputText value="Endorse Price"/>
                                                        </th>
                                                    </tr>
                                                    </thead>
                                                    <tbody class="ui-datatable-data ui-widget-content">
                                                    <tr>
                                                        <td>
                                                            <table border="0" style="margin: 0 auto;">
                                                                <tr>
                                                                    <td class="title left" style="border-style: none !important;">
                                                                        #{msg.get('app.decision.tb.td.label.comment')}
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="center" style="border-style: none !important;">
                                                                        <p:inputTextarea value="#{decision.approvalHistoryPricingView.comments}"
                                                                                         rows="5"
                                                                                         style="font-size: 12px !important; width: 450px"/>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="center">
                                                            <p:selectOneRadio value="#{decision.approvalHistoryPricingView.uwDecision}"
                                                                              required="#{not decision.roleUW and not empty param[saveDecisionBtn.clientId]}"
                                                                              styleClass="ovr-border">
                                                                <f:selectItem itemLabel="#{msg.get('app.button.approve')}" itemValue="#{decision.decisionAPPROVED}"/>
                                                                <f:selectItem itemLabel="#{msg.get('app.button.reject')}" itemValue="#{decision.decisionREJECTED}"/>
                                                            </p:selectOneRadio>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <table border="0">
                                                                <tr>
                                                                    <td class="title left" style="border-style: none !important; width: 120px;">
                                                                        #{msg.get('app.decision.tb.td.label.approvalName')}
                                                                    </td>
                                                                    <td class="left" style="border-style: none !important;">
                                                                        <h:outputText value="#{decision.approvalHistoryPricingView.userView.userName}"
                                                                                      rendered="#{not empty decision.approvalHistoryPricingView.userView}"/>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="title left" style="border-style: none !important;">
                                                                        #{msg.get('app.decision.tb.td.label.position')}
                                                                    </td>
                                                                    <td class="left" style="border-style: none !important;">
                                                                        <h:outputText value="#{decision.approvalHistoryPricingView.userView.titleName}"
                                                                                      rendered="#{not empty decision.approvalHistoryPricingView.userView}"/>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="title left" style="border-style:none !important;">
                                                                        #{msg.get('app.decision.tb.td.label.date')}
                                                                    </td>
                                                                    <td class="left" style="border-style:none !important;">
                                                                        <h:outputText value="#{decision.approvalHistoryPricingView.submitDate}">
                                                                            <f:convertDateTime pattern="dd/MM/yyyy HH:mm" locale="th_TH"/>
                                                                        </h:outputText>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </h:panelGroup>
                        </h:panelGroup>

                        <!-- Save & Cancel Decision Buttons -->
                        <tr>
                            <td colspan="2" class="center">
                                <p:commandButton id="btnSave" value="#{msg.get('app.button.save')}"
                                                 binding="#{saveDecisionBtn}"
                                                 action="#{decision.onSaveDecision()}"
                                                 process="@form"
                                                 update=":frmMain,:msgBoxSystemMessagePanel"
                                                 styleClass="smaller"/>
                                <p:spacer width="10" height="0"/>
                                <p:commandButton id="btnCancel" value="#{msg.get('app.button.cancel')}"
                                                 action="#{decision.onCreation()}"
                                                 process="@form"
                                                 update=":frmMain"
                                                 styleClass="smaller"/>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <div class="clear"></div>

        <div id="bottom_line"></div>
        <!-- Start Footer -->
        <ui:include src="include/footer.xhtml"/>
        <!-- End Footer -->
        </div>

        <p:blockUI block=":frmMain"
                   trigger=":frmMain:btnAddApprovedCredit,
               :frmMain:btnRetrievePricingFee
               :frmMain:btnAddApprovedGuarantor,
               :frmMain:btnAddFollowUpCondition,
               :frmMain:btnSave,
               :frmMain:btnCancel">
            LOADING<br/>
            <p:graphicImage value="/resources/images/shared/ajax-loader.gif"/>
        </p:blockUI>
    </h:form>
</p:panel>

<!-- Propose Credit Dialog -->
<p:dialog id="proposeCreditDialog" widgetVar="proposeCreditDlg"
          header="Approve Credit Information"
          modal="true"
          onShow="hideWindowsScrollBar()" onHide="showWindowsScrollBar()"
          width="900" height="500"
          closable="false" closeOnEscape="false">
    <ui:include src="dialog/decisionProposeCreditDialog.xhtml"/>
</p:dialog>

<ui:include src="dialog/confirmDeleteDlg.xhtml">
    <ui:param name="id" value="confirmDeleteAppProposeCreditDialog"/>
    <ui:param name="name" value="confirmDeleteAppProposeCreditDlg"/>
    <ui:param name="formId" value="frmConfirmDeleteAppProposeCredit"/>
    <ui:param name="controller" value="#{decision}"/>
    <ui:param name="action" value="onDeleteApproveCredit"/>
    <ui:param name="update" value=":frmMain,:msgBoxSystemMessagePanel"/>
</ui:include>

<!-- Propose Collateral Dialog -->
<p:dialog id="proposeCollateralDialog" widgetVar="proposeCollateralDlg"
          header="Approve Collateral Information"
          modal="true"
          onShow="hideWindowsScrollBar()" onHide="showWindowsScrollBar()"
          width="1000" height="500"
          closable="false" closeOnEscape="false">
    <ui:include src="dialog/decisionProposeCollateralDialog.xhtml"/>
</p:dialog>

<ui:include src="dialog/confirmDeleteDlg.xhtml">
    <ui:param name="id" value="confirmDeleteAppProCollateralDialog"/>
    <ui:param name="name" value="confirmDeleteAppProCollateralDlg"/>
    <ui:param name="formId" value="frmConfirmDeleteAppProCollateral"/>
    <ui:param name="controller" value="#{decision}"/>
    <ui:param name="action" value="onDeleteApproveCollateral"/>
    <ui:param name="update" value=":frmMain"/>
</ui:include>

<!-- Propose Sub Collateral -->
<p:dialog id="subCollateralInfoDialog" widgetVar="subCollateralInfoDlg"
          header="Sub Collateral Information"
          modal="true"
          onShow="hideWindowsScrollBar()" onHide="showWindowsScrollBar()"
          width="600" height="500"
          closable="false" closeOnEscape="false">
    <ui:include src="dialog/decisionProposeSubCollDialog.xhtml"/>
</p:dialog>

<ui:include src="dialog/confirmDeleteDlg.xhtml">
    <ui:param name="id" value="confirmDeleteSubCollateralInfoDialog"/>
    <ui:param name="name" value="confirmDeleteSubCollateralInfoDlg"/>
    <ui:param name="formId" value="frmConfirmDeleteSubCollateralInfo"/>
    <ui:param name="controller" value="#{decision}"/>
    <ui:param name="action" value="onDeleteSubCollateral"/>
    <ui:param name="update" value=":collateralDlgForm"/>
</ui:include>

<!-- Propose Guarantor Dialog -->
<p:dialog id="proposeGuarantorDialog" widgetVar="proposeGuarantorDlg"
          header="Approve Guarantor Information"
          modal="true"
          onShow="hideWindowsScrollBar()" onHide="showWindowsScrollBar()"
          width="900"
          closable="false" closeOnEscape="false">
    <ui:include src="dialog/decisionProposeGuarantorDialog.xhtml"/>
</p:dialog>

<ui:include src="dialog/confirmDeleteDlg.xhtml">
    <ui:param name="id" value="confirmDeleteAppGuarantorDialog"/>
    <ui:param name="name" value="confirmDeleteAppGuarantorDlg"/>
    <ui:param name="formId" value="frmConfirmDeleteAppGuarantor"/>
    <ui:param name="controller" value="#{decision}"/>
    <ui:param name="action" value="onDeleteApproveGuarantor"/>
    <ui:param name="update" value=":frmMain"/>
</ui:include>

<ui:include src="dialog/confirmDeleteDlg.xhtml">
    <ui:param name="id" value="confirmDeleteFollowUpCondDialog"/>
    <ui:param name="name" value="confirmDeleteFollowUpCondDlg"/>
    <ui:param name="formId" value="frmConfirmDeleteFollowUpCond"/>
    <ui:param name="controller" value="#{decision}"/>
    <ui:param name="action" value="onDeleteFollowUpCondition"/>
    <ui:param name="update" value=":frmMain"/>
</ui:include>

<p:panel id="msgBoxSystemMessagePanel" styleClass="panel">
    <p:confirmDialog id="msgBoxSystemMessageDialog" widgetVar="msgBoxSystemMessageDlg"
                     severity="#{decision.severity}"
                     header="#{decision.messageHeader}" message="#{decision.message}"
                     closable="false" closeOnEscape="false">
        <p:commandButton value="#{msg.get('app.button.ok')}"
                         process="@this"
                         update="frmMain"
                         oncomplete="msgBoxSystemMessageDlg.hide()"/>
    </p:confirmDialog>
</p:panel>

</h:body>
</f:view>
</html>