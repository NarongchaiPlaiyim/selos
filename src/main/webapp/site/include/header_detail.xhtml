<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">
    <div id="header_detail">
        <div id="header_collapse" class="close" onclick="collapseDetail();"><p:spacer width="2"/></div>
        <div id="header_button_bar">
            <p:commandButton id="btnReturnMaker" value="Return To Maker" styleClass="blueButton" rendered="#{baseController.manageButton.checkNCBButton}" actionListener="#{prescreenChecker.onReturnToMaker()}" oncomplete="testHandle()" update=":returnMakerDlgForm" onclick="returnMakerDlg.show()" />
            <p:commandButton id="btnCheckNCB" value="Check NCB" styleClass="blueButton" rendered="#{baseController.manageButton.checkNCBButton}" actionListener="#{prescreenChecker.onCheckCustomer}" process="@form" oncomplete="testHandle()" update=":frmMain :msgBoxSystemMessagePanel" />
            <p:commandButton id="btnAssignChecker" value="Assign To Checker" styleClass="blueButton" rendered="#{baseController.manageButton.assignToCheckerButton}" disabled="#{prescreenMaker.disableAssignButton}" onclick="assignCheckerDlg.show()" update=":assignCheckerDlgForm">
                <p:resetInput target=":assignCheckerDlgForm" />
            </p:commandButton>
            <p:commandButton id="btnMandateDoc" value="Check Mandate Doc" styleClass="blueButton" rendered="#{baseController.manageButton.checkMandateDocButton}" disabled="true" />
            <p:commandButton id="btnCheckPreScreen" value="Check Prescreen" styleClass="blueButton" rendered="#{baseController.manageButton.checkBRMSButton}" action="#{prescreenMaker.onCheckPreScreen}" disabled="true" />
            <p:commandButton id="btnRequestAppraisal" value="Request Appraisal" styleClass="blueButton" rendered="#{baseController.manageButton.requestAppraisalButton}" disabled="true" />
            <p:commandButton id="btnCancelCA" value="Cancel CA" styleClass="blueButton" rendered="#{baseController.manageButton.cancelCAButton}" type="button" onclick="confirmCancelCA.show()" />
            <p:confirmDialog header="Confirmation" message="Are you sure to Cancel CA?" styleClass="left" icon="ui-icon-alert"
                             widgetVar="confirmCancelCA" global="false" showEffect="fade"
                             rendered="#{baseController.manageButton.cancelCAButton}">
                <p:commandButton value="Yes" styleClass="ui-confirmdialog-yes"
                                 update=":msgBoxSystemMessagePanel"
                                 actionListener="#{prescreenMaker.onCancelCA}"
                                 process="@this" oncomplete="confirmCancelCA.hide()" />
                <p:commandButton value="No" type="button" onclick="confirmCancelCA.hide()" styleClass="ui-confirmdialog-no"/>
            </p:confirmDialog>
            <p:commandButton id="btnCloseSale" value="Closed Sales" styleClass="blueButton" rendered="#{baseController.manageButton.closeSaleButton}" type="button" onclick="confirmCloseSaleCA.show()"/>
            <p:confirmDialog header="Confirmation" message="Are you sure to Close Sale?" styleClass="left" icon="ui-icon-alert"
                             widgetVar="confirmCloseSaleCA" global="false" showEffect="fade"
                             rendered="#{baseController.manageButton.closeSaleButton}">
                <p:commandButton value="Yes" styleClass="ui-confirmdialog-yes"
                                 update=":msgBoxSystemMessagePanel"
                                 actionListener="#{prescreenMaker.onCloseSale()}"
                                 process="@this" oncomplete="confirmCloseSaleCA.hide()" />
                <p:commandButton value="No" type="button" onclick="confirmCloseSaleCA.hide()" styleClass="ui-confirmdialog-no"/>
            </p:confirmDialog>
        </div>
        <div class="clear"></div>
        <div id="header_information">
            <table id="header_information_table">
                <tr>
                    <td colspan="11" style="font-weight: bold; text-align: right;">Status :</td>
                    <td><h:outputText value="#{baseController.appHeaderView.caseStatus}"/></td>
                </tr>
                <tr>
                    <td class="title left" style="min-width: 130px; max-width: 180px;">BDM :</td>
                    <td class="left" style="min-width: 180px;"><h:outputText value="#{baseController.appHeaderView.bdmName}"/></td>
                    <td class="title right" style="min-width: 50px; max-width: 60px;">Tel. :</td>
                    <td class="left" style="min-width:90px; max-width:100px;"><h:outputText value="#{baseController.appHeaderView.bdmPhoneNumber}"/></td>
                    <td class="title right" style="min-width: 50px; max-width: 60px;">Ext. :</td>
                    <td class="left" style="min-width:80px; max-width: 90px;"><h:outputText value="#{baseController.appHeaderView.bdmPhoneExtNumber}"/></td>
                    <td class="title right" style="min-width: 50px; max-width: 60px;">Zone :</td>
                    <td class="left" style="min-width:100px; max-width: 130px;"><h:outputText value="#{baseController.appHeaderView.bdmZoneName}"/></td>
                    <td class="title right" style="min-width: 60px; max-width: 70px;">Region :</td>
                    <td class="left" style="min-width:80px;"><h:outputText value="#{baseController.appHeaderView.bdmRegionName}"/></td>
                    <td class="title right" style="min-width: 100px; max-width: 110px;">Submit Date :</td>
                    <td class="left" style="min-width:90px; max-width: 90px;"><h:outputText value="#{baseController.appHeaderView.submitDate}"/></td>
                </tr>
                <tr>
                    <td class="title">Underwriter :</td>
                    <td><h:outputText value="#{baseController.appHeaderView.uwName}"/></td>
                    <td class="title right">Tel. :</td>
                    <td><h:outputText value="#{baseController.appHeaderView.uwPhoneNumber}"/></td>
                    <td class="title right">Ext. :</td>
                    <td><h:outputText value="#{baseController.appHeaderView.uwPhoneExtNumber}"/></td>
                    <td class="title right">Team :</td>
                    <td><h:outputText value="#{baseController.appHeaderView.uwTeamName}"/></td>
                    <td colspan="3" class="title right">Request Type :</td>
                    <td><h:outputText value="#{baseController.appHeaderView.requestType}"/></td>
                </tr>
                <tr>
                    <td colspan="11" style="font-weight: bold; text-align: right;">Refinance :</td>
                    <td><h:outputText value="#{baseController.appHeaderView.refinance}"/></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">CA No. :</td>
                    <td colspan="2"><h:outputText value="#{baseController.appHeaderView.caNo}"/></td>
                    <td class="title right">Ref CA No. :</td>
                    <td colspan="3"><h:outputText value="#{baseController.appHeaderView.appRefNo}"/></td>
                    <td colspan="2" class="title right">Ref CA Date :</td>
                    <td colspan="2"><h:outputText value="#{baseController.appHeaderView.appRefDate}"/></td>
                    <td></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Borrower Name :</td>
                    <td colspan="11" style="padding:0; vertical-align: top;">
                        <table>
                            <tr>
                                <ui:repeat var="borrower" value="#{baseController.appHeaderView.borrowerHeaderViewList}" varStatus="status">
                                    <td style="min-width: 140px; max-width: 140px; width: 140px;">#{borrower.borrowerName}</td>
                                </ui:repeat>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Citizen ID/<br/>Registration ID :</td>
                    <td colspan="11" style="padding:0; vertical-align: top;">
                        <table>
                            <tr>
                                <ui:repeat var="personalId" value="#{baseController.appHeaderView.borrowerHeaderViewList}" varStatus="status">
                                    <td style="min-width: 140px; max-width: 140px; width: 140px;"><h:outputText rendered="#{baseController.stepId != 1002}" value="#{personalId.personalId}"/></td>
                                </ui:repeat>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Product Program :</td>
                    <td colspan="11">
                        <table>
                            <tr>
                                <ui:repeat var="productProgram" value="#{baseController.appHeaderView.productProgramList}" varStatus="status">
                                    <td>#{productProgram}</td>
                                </ui:repeat>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Prescreen Result :</td>
                    <td colspan="11"></td>
                </tr>
            </table>
        </div>
    </div>
    <div class="clear"></div>
    <script type="text/javascript" language="javascript">
        function collapseDetail(){
            var currentState = $("#header_collapse").attr("class");
            if(currentState == 'close'){
                $("#header_collapse").removeAttr("class");
                $("#header_collapse").attr("class","open");
                $("#header_information").fadeOut();
            }else{
                $("#header_collapse").removeAttr("class");
                $("#header_collapse").attr("class","close");
                $("#header_information").fadeIn();
            }
        }
    </script>
</ui:composition>